#########################################################
### D&T's scripted effects for the population system ####
#########################################################

#Victoria III
# Peasants
# Laborers
# Slaves
# Clerks
# Farmers
# Aristocrats
# Clergymen
# Machinists
# Servicemen
# Bureaucrats
# Shopkeepers
# Engineers
# Capitalists
# Academics
# Officers

# Pop Types:
# Slaves
# Peasants
# Laborers
# Workers
# Professionals
# Elites
# Bureaucrats
# Soldiers

# If pop's revenue exceeds pop expenses, the wealth of the pop can increase thus leading to more consumption

#STATES
	pops_update = {
		#Updates the pop without changing their fundamental values
		#State Scope
		#No Input
		#No Output

		#Change
			set_variable = { pops_amount = state_population_k }

			set_variable = { pops_amount_change = pops_amount }
			subtract_from_variable = { pops_amount_change = pops_amount_last_month }
		#

		pops_update_workforce = yes
		calculate_pop_needs = yes
		pops_update_finances = yes

		# pops_update_religion_amount = yes
		# pops_update_culture_amount = yes
		# pops_update_ideology_amount = yes
	}
	pops_update_workforce = {
		#Workforce
			set_variable = { pops_workforce_percentage = 0.32 }

			set_variable = { pops_workforce_amount = pops_amount }
			multiply_variable = { pops_workforce_amount = pops_workforce_percentage }
		#
		#Pop Types
			set_variable = { slaves_amount = slaves_workforce_amount }
			divide_variable = { slaves_amount = pops_workforce_percentage }
			
			set_variable = { peasants_amount = peasants_workforce_amount }
			divide_variable = { peasants_amount = pops_workforce_percentage }
			
			set_variable = { laborers_amount = laborers_workforce_amount }
			divide_variable = { laborers_amount = pops_workforce_percentage }
			
			set_variable = { workers_amount = workers_workforce_amount }
			divide_variable = { workers_amount = pops_workforce_percentage }
			
			set_variable = { professionals_amount = professionals_workforce_amount }
			divide_variable = { professionals_amount = pops_workforce_percentage }
			
			set_variable = { elites_amount = elites_workforce_amount }
			divide_variable = { elites_amount = pops_workforce_percentage }
			
			set_variable = { bureaucrats_amount = bureaucrats_workforce_amount }
			divide_variable = { bureaucrats_amount = pops_workforce_percentage }
			
			set_variable = { soldiers_amount = soldiers_workforce_amount }
			divide_variable = { soldiers_amount = pops_workforce_percentage }
		#
		#Employed Amount
			set_variable = { slaves_employed_amount = 0 }
			set_variable = { peasants_employed_amount = 0 }
			set_variable = { laborers_employed_amount = 0 }
			set_variable = { workers_employed_amount = 0 }
			set_variable = { professionals_employed_amount = 0 }
			set_variable = { elites_employed_amount = 0 }
			set_variable = { bureaucrats_employed_amount = 0 }
			set_variable = { soldiers_employed_amount = 0 }
			
			set_variable = { peasants_jobs_amount = 0 }
			set_variable = { laborers_jobs_amount = 0 }
			set_variable = { workers_jobs_amount = 0 }
			set_variable = { professionals_jobs_amount = 0 }
			set_variable = { elites_jobs_amount = 0 }
			set_variable = { bureaucrats_jobs_amount = 0 }
			set_variable = { soldiers_jobs_amount = 0 }

			#Industries
			for_each_loop = {
				array = industries
				value = pops_ind_token

				add_to_variable = { slaves_employed_amount = slaves_employed@var:pops_ind_token }
				add_to_variable = { laborers_employed_amount = laborers_employed@var:pops_ind_token }
				add_to_variable = { workers_employed_amount = workers_employed@var:pops_ind_token }
				add_to_variable = { professionals_employed_amount = professionals_employed@var:pops_ind_token }
				add_to_variable = { elites_employed_amount = elites_employed@var:pops_ind_token }

				add_to_variable = { laborers_jobs_amount = laborers_jobs@var:pops_ind_token }
				add_to_variable = { workers_jobs_amount = workers_jobs@var:pops_ind_token }
				add_to_variable = { professionals_jobs_amount = professionals_jobs@var:pops_ind_token }
				add_to_variable = { elites_jobs_amount = elites_jobs@var:pops_ind_token }
			}

			#Subsistence Farms
			add_to_variable = { peasants_employed_amount = peasants_employed_subsistence_farm }
			add_to_variable = { peasants_jobs_amount = peasants_jobs_subsistence_farm }
			add_to_variable = { elites_employed_amount = elites_employed_subsistence_farm }
			add_to_variable = { elites_jobs_amount = elites_jobs_subsistence_farm }
			
			#Open Jobs
			# set_variable = { peasants_open_jobs_amount = peasants_jobs_amount }
			# set_variable = { laborers_open_jobs_amount = laborers_jobs_amount }
			# set_variable = { workers_open_jobs_amount = workers_jobs_amount }
			# set_variable = { professionals_open_jobs_amount = professionals_jobs_amount }
			# set_variable = { elites_open_jobs_amount = elites_jobs_amount }
			# set_variable = { bureaucrats_open_jobs_amount = bureaucrats_jobs_amount }
			# set_variable = { soldiers_open_jobs_amount = soldiers_jobs_amount }

			# subtract_from_variable = { peasants_open_jobs_amount = peasants_employed_amount }
			# subtract_from_variable = { laborers_open_jobs_amount = laborers_employed_amount }
			# subtract_from_variable = { workers_open_jobs_amount = workers_employed_amount }
			# subtract_from_variable = { professionals_open_jobs_amount = professionals_employed_amount }
			# subtract_from_variable = { elites_open_jobs_amount = elites_employed_amount }
			# subtract_from_variable = { bureaucrats_open_jobs_amount = bureaucrats_employed_amount }
			# subtract_from_variable = { soldiers_open_jobs_amount = soldiers_employed_amount }

			#Totals
			set_variable = { pops_employed_amount = 0 }
			add_to_variable = { pops_employed_amount = slaves_employed_amount }
			add_to_variable = { pops_employed_amount = peasants_employed_amount }
			add_to_variable = { pops_employed_amount = laborers_employed_amount }
			add_to_variable = { pops_employed_amount = workers_employed_amount }
			add_to_variable = { pops_employed_amount = professionals_employed_amount }
			add_to_variable = { pops_employed_amount = elites_employed_amount }
			add_to_variable = { pops_employed_amount = bureaucrats_employed_amount }
			add_to_variable = { pops_employed_amount = soldiers_employed_amount }
		#
		#Percentages:
			#Slaves
			set_variable = { slaves_employed_percentage = slaves_employed_amount }
			divide_variable = { slaves_employed_percentage = slaves_workforce_amount }
		
			set_variable = { slaves_unemployed_amount = slaves_workforce_amount }
			subtract_from_variable = { slaves_unemployed_amount = slaves_employed_amount }
		
			set_variable = { slaves_unemployed_percentage = slaves_unemployed_amount }
			divide_variable = { slaves_unemployed_percentage = slaves_workforce_amount }
		
			set_variable = { slaves_percentage = slaves_amount }
			divide_variable = { slaves_percentage = pops_amount }
			
			#Peasants
			set_variable = { peasants_employed_percentage = peasants_employed_amount }
			divide_variable = { peasants_employed_percentage = peasants_workforce_amount }
		
			set_variable = { peasants_unemployed_amount = peasants_workforce_amount }
			subtract_from_variable = { peasants_unemployed_amount = peasants_employed_amount }
		
			set_variable = { peasants_unemployed_percentage = peasants_unemployed_amount }
			divide_variable = { peasants_unemployed_percentage = peasants_workforce_amount }
		
			set_variable = { peasants_percentage = peasants_amount }
			divide_variable = { peasants_percentage = pops_amount }
			
			#Laborers
			set_variable = { laborers_employed_percentage = laborers_employed_amount }
			divide_variable = { laborers_employed_percentage = laborers_workforce_amount }
		
			set_variable = { laborers_unemployed_amount = laborers_workforce_amount }
			subtract_from_variable = { laborers_unemployed_amount = laborers_employed_amount }
		
			set_variable = { laborers_unemployed_percentage = laborers_unemployed_amount }
			divide_variable = { laborers_unemployed_percentage = laborers_workforce_amount }
		
			set_variable = { laborers_percentage = laborers_amount }
			divide_variable = { laborers_percentage = pops_amount }
			
			#Workers
			set_variable = { workers_employed_percentage = workers_employed_amount }
			divide_variable = { workers_employed_percentage = workers_workforce_amount }
		
			set_variable = { workers_unemployed_amount = workers_workforce_amount }
			subtract_from_variable = { workers_unemployed_amount = workers_employed_amount }
		
			set_variable = { workers_unemployed_percentage = workers_unemployed_amount }
			divide_variable = { workers_unemployed_percentage = workers_workforce_amount }
		
			set_variable = { workers_percentage = workers_amount }
			divide_variable = { workers_percentage = pops_amount }
			
			#Professionals
			set_variable = { professionals_employed_percentage = professionals_employed_amount }
			divide_variable = { professionals_employed_percentage = professionals_workforce_amount }
		
			set_variable = { professionals_unemployed_amount = professionals_workforce_amount }
			subtract_from_variable = { professionals_unemployed_amount = professionals_employed_amount }
		
			set_variable = { professionals_unemployed_percentage = professionals_unemployed_amount }
			divide_variable = { professionals_unemployed_percentage = professionals_workforce_amount }
		
			set_variable = { professionals_percentage = professionals_amount }
			divide_variable = { professionals_percentage = pops_amount }
			
			#Elites
			set_variable = { elites_employed_percentage = elites_employed_amount }
			divide_variable = { elites_employed_percentage = elites_workforce_amount }
		
			set_variable = { elites_unemployed_amount = elites_workforce_amount }
			subtract_from_variable = { elites_unemployed_amount = elites_employed_amount }
		
			set_variable = { elites_unemployed_percentage = elites_unemployed_amount }
			divide_variable = { elites_unemployed_percentage = elites_workforce_amount }
		
			set_variable = { elites_percentage = elites_amount }
			divide_variable = { elites_percentage = pops_amount }
			
			#Bureaucrats
			set_variable = { bureaucrats_employed_percentage = bureaucrats_employed_amount }
			divide_variable = { bureaucrats_employed_percentage = bureaucrats_workforce_amount }
		
			set_variable = { bureaucrats_unemployed_amount = bureaucrats_workforce_amount }
			subtract_from_variable = { bureaucrats_unemployed_amount = bureaucrats_employed_amount }
		
			set_variable = { bureaucrats_unemployed_percentage = bureaucrats_unemployed_amount }
			divide_variable = { bureaucrats_unemployed_percentage = bureaucrats_workforce_amount }
		
			set_variable = { bureaucrats_percentage = bureaucrats_amount }
			divide_variable = { bureaucrats_percentage = pops_amount }
			
			#Soldiers
			set_variable = { soldiers_employed_percentage = soldiers_employed_amount }
			divide_variable = { soldiers_employed_percentage = soldiers_workforce_amount }
		
			set_variable = { soldiers_unemployed_amount = soldiers_workforce_amount }
			subtract_from_variable = { soldiers_unemployed_amount = soldiers_employed_amount }
		
			set_variable = { soldiers_unemployed_percentage = soldiers_unemployed_amount }
			divide_variable = { soldiers_unemployed_percentage = soldiers_workforce_amount }
		
			set_variable = { soldiers_percentage = soldiers_amount }
			divide_variable = { soldiers_percentage = pops_amount }

			#Total
			set_variable = { pops_employed_percentage = pops_employed_amount }
			divide_variable = { pops_employed_percentage = pops_workforce_amount }

			set_variable = { pops_unemployed_amount = pops_workforce_amount }
			subtract_from_variable = { pops_unemployed_amount = pops_employed_amount }
		
			set_variable = { pops_unemployed_percentage = pops_unemployed_amount }
			divide_variable = { pops_unemployed_percentage = pops_workforce_amount }
		#
	}
	pops_update_finances = {

		#Standard/Cost of Living
			set_variable = { pops_sol = 0 }

			set_temp_variable = { sol_temp = slaves_sol }
			multiply_temp_variable = { sol_temp = slaves_workforce_amount }
			add_to_variable = { pops_sol = sol_temp }
			
			set_temp_variable = { sol_temp = peasants_sol }
			multiply_temp_variable = { sol_temp = peasants_workforce_amount }
			add_to_variable = { pops_sol = sol_temp }
			
			set_temp_variable = { sol_temp = laborers_sol }
			multiply_temp_variable = { sol_temp = laborers_workforce_amount }
			add_to_variable = { pops_sol = sol_temp }
			
			set_temp_variable = { sol_temp = workers_sol }
			multiply_temp_variable = { sol_temp = workers_workforce_amount }
			add_to_variable = { pops_sol = sol_temp }
			
			set_temp_variable = { sol_temp = professionals_sol }
			multiply_temp_variable = { sol_temp = professionals_workforce_amount }
			add_to_variable = { pops_sol = sol_temp }
			
			set_temp_variable = { sol_temp = elites_sol }
			multiply_temp_variable = { sol_temp = elites_workforce_amount }
			add_to_variable = { pops_sol = sol_temp }
			
			set_temp_variable = { sol_temp = bureaucrats_sol }
			multiply_temp_variable = { sol_temp = bureaucrats_workforce_amount }
			add_to_variable = { pops_sol = sol_temp }
			
			set_temp_variable = { sol_temp = soldiers_sol }
			multiply_temp_variable = { sol_temp = soldiers_workforce_amount }
			add_to_variable = { pops_sol = sol_temp }

			divide_variable = { pops_sol = pops_workforce_amount }

			#Cost of Living
			set_variable = { slaves_col = slaves_needs_spending }
			divide_variable = { slaves_col = slaves_amount }

			set_variable = { peasants_col = peasants_needs_spending }
			divide_variable = { peasants_col = peasants_amount }

			set_variable = { laborers_col = laborers_needs_spending }
			divide_variable = { laborers_col = laborers_amount }

			set_variable = { workers_col = workers_needs_spending }
			divide_variable = { workers_col = workers_amount }
			
			set_variable = { professionals_col = professionals_needs_spending }
			divide_variable = { professionals_col = professionals_amount }

			set_variable = { elites_col = elites_needs_spending }
			divide_variable = { elites_col = elites_amount }

			set_variable = { bureaucrats_col = bureaucrats_needs_spending }
			divide_variable = { bureaucrats_col = bureaucrats_amount }

			set_variable = { soldiers_col = soldiers_needs_spending }
			divide_variable = { soldiers_col = soldiers_amount }

			set_variable = { pops_col = pops_needs_spending }
			divide_variable = { pops_col = pops_amount }
		#

		#Earnings
			set_variable = { slaves_earnings = 0 }
			set_variable = { peasants_earnings = 0 }
			set_variable = { laborers_earnings = 0 }
			set_variable = { workers_earnings = 0 }
			set_variable = { professionals_earnings = 0 }
			set_variable = { elites_earnings = 0 }
			set_variable = { bureaucrats_earnings = 0 }
			set_variable = { soldiers_earnings = 0 }
			
			#Non-Employed Income
			set_temp_variable = { non_employed_temp = slaves_amount }
			subtract_from_temp_variable = { non_employed_temp = slaves_employed_amount }
			multiply_temp_variable = { non_employed_temp = global.peasants_non_employed_income }
			add_to_variable = { slaves_earnings = non_employed_temp }
			
			set_temp_variable = { non_employed_temp = peasants_amount }
			subtract_from_temp_variable = { non_employed_temp = peasants_employed_amount }
			multiply_temp_variable = { non_employed_temp = global.peasants_non_employed_income }
			add_to_variable = { peasants_earnings = non_employed_temp }
			
			set_temp_variable = { non_employed_temp = laborers_amount }
			subtract_from_temp_variable = { non_employed_temp = laborers_employed_amount }
			multiply_temp_variable = { non_employed_temp = global.pops_non_employed_income }
			add_to_variable = { laborers_earnings = non_employed_temp }
			
			set_temp_variable = { non_employed_temp = workers_amount }
			subtract_from_temp_variable = { non_employed_temp = workers_employed_amount }
			multiply_temp_variable = { non_employed_temp = global.pops_non_employed_income }
			add_to_variable = { workers_earnings = non_employed_temp }
			
			set_temp_variable = { non_employed_temp = professionals_amount }
			subtract_from_temp_variable = { non_employed_temp = professionals_employed_amount }
			multiply_temp_variable = { non_employed_temp = global.pops_non_employed_income }
			add_to_variable = { professionals_earnings = non_employed_temp }
			
			set_temp_variable = { non_employed_temp = bureaucrats_amount }
			subtract_from_temp_variable = { non_employed_temp = bureaucrats_employed_amount }
			multiply_temp_variable = { non_employed_temp = global.pops_non_employed_income }
			add_to_variable = { bureaucrats_earnings = non_employed_temp }
			
			set_temp_variable = { non_employed_temp = soldiers_amount }
			subtract_from_temp_variable = { non_employed_temp = soldiers_employed_amount }
			multiply_temp_variable = { non_employed_temp = global.pops_non_employed_income }
			add_to_variable = { soldiers_earnings = non_employed_temp }

			#Industries
			for_each_loop = {
				array = industries
				value = pops_ind_token

				add_to_variable = { laborers_earnings = laborers_payroll@var:pops_ind_token }
				add_to_variable = { workers_earnings = workers_payroll@var:pops_ind_token }
				add_to_variable = { professionals_earnings = professionals_payroll@var:pops_ind_token }
				add_to_variable = { elites_earnings = elites_payroll@var:pops_ind_token }
				add_to_variable = { laborers_earnings = laborers_bonuses@var:pops_ind_token }
				add_to_variable = { workers_earnings = workers_bonuses@var:pops_ind_token }
				add_to_variable = { professionals_earnings = professionals_bonuses@var:pops_ind_token }
				add_to_variable = { elites_earnings = elites_bonuses@var:pops_ind_token }

				if = {
					limit = {
						check_variable = { profit@var:pops_ind_token > 0 }
					}
					set_temp_variable = { kickbacks_temp = money_transfer@var:pops_ind_token }
					multiply_temp_variable = { kickbacks_temp = global.investment_fund_kickbacks }
					add_to_variable = { elites_earnings = kickbacks_temp }
				}
			}
			add_to_variable = { elites_earnings = investment_fund_spending_kickbacks }
			
			add_to_variable = { peasants_earnings = peasants_payroll_subsistence_farm }
			add_to_variable = { elites_earnings = elites_payroll_subsistence_farm }

			
			set_variable = { pops_earnings = slaves_earnings }
			add_to_variable = { pops_earnings = peasants_earnings }
			add_to_variable = { pops_earnings = laborers_earnings }
			add_to_variable = { pops_earnings = workers_earnings }
			add_to_variable = { pops_earnings = professionals_earnings }
			add_to_variable = { pops_earnings = elites_earnings }
			add_to_variable = { pops_earnings = bureaucrats_earnings }
			add_to_variable = { pops_earnings = soldiers_earnings }
		#
	}

	calculate_pop_needs = {
		# Calculates Pop Needs & Costs
		#State

		# slaves_workforce_amount
		# peasants_workforce_amount
		# laborers_workforce_amount
		# workers_workforce_amount
		# professionals_workforce_amount
		# elites_workforce_amount
		# bureaucrats_workforce_amount
		# soldiers_workforce_amount

		# pops_workforce_percentage
		
		# slaves_sol
		# peasants_sol
		# laborers_sol
		# workers_sol
		# professionals_sol
		# elites_sol
		# bureaucrats_sol
		# soldiers_sol
		
		# pops_heating_lumber_use
		# pops_heating_electricity_use
		# pops_healthcare_pharmaceuticals_use
		# pops_movement_automobiles_use
		# pops_fuel_electricity_use
		# pops_luxuries_computers_use

		# Needs Types:
		# Food
		# Housing
		# Heating
		# Household
		# Education
		# Healthcare
		# Movement
		# Fuel
		# Luxuries
		# Security
		# Finance

		#Slaves
			if = {
				limit = {
					check_variable = { slaves_amount > 0 }
				}

				set_temp_variable = { sol_temp = slaves_sol }
				get_pop_needs = yes

				set_variable = { slaves_needs_spending = total_cost_temp }
				set_variable = { slaves_food_cost = food_cost_temp }
				set_variable = { slaves_housing_cost = housing_cost_temp }
				set_variable = { slaves_heating_cost = heating_cost_temp }
				set_variable = { slaves_clothing_cost = clothing_cost_temp }
				set_variable = { slaves_household_cost = household_cost_temp }
				set_variable = { slaves_education_cost = education_cost_temp }
				set_variable = { slaves_healthcare_cost = healthcare_cost_temp }
				set_variable = { slaves_movement_cost = movement_cost_temp }
				set_variable = { slaves_fuel_cost = fuel_cost_temp }
				set_variable = { slaves_luxuries_cost = luxuries_cost_temp }
				set_variable = { slaves_security_cost = security_cost_temp }
				set_variable = { slaves_finance_cost = finance_cost_temp }
				
				set_variable = { slaves_food_need@token:resource_foodstuffs = food_need_temp@token:resource_foodstuffs }
				set_variable = { slaves_food_need@token:resource_groceries = food_need_temp@token:resource_groceries }
				
				set_variable = { slaves_housing_need@token:resource_housing = housing_need_temp@token:resource_housing }
				
				set_variable = { slaves_heating_need@token:resource_lumber = heating_need_temp@token:resource_lumber }
				set_variable = { slaves_heating_need@token:resource_coal = heating_need_temp@token:resource_coal }
				set_variable = { slaves_heating_need@token:resource_electricity = heating_need_temp@token:resource_electricity }
				
				set_variable = { slaves_clothing_need@token:resource_fiber = clothing_need_temp@token:resource_fiber }
				set_variable = { slaves_clothing_need@token:resource_fabric = clothing_need_temp@token:resource_fabric }
				set_variable = { slaves_clothing_need@token:resource_clothing = clothing_need_temp@token:resource_clothing }
				
				set_variable = { slaves_household_need@token:resource_fiber = household_need_temp@token:resource_fiber }
				set_variable = { slaves_household_need@token:resource_fabric = household_need_temp@token:resource_fabric }
				set_variable = { slaves_household_need@token:resource_lumber = household_need_temp@token:resource_lumber }
				set_variable = { slaves_household_need@token:resource_consumer_goods = household_need_temp@token:resource_consumer_goods }
				set_variable = { slaves_household_need@token:resource_electronics = household_need_temp@token:resource_electronics }
				
				set_variable = { slaves_education_need@token:resource_basic_education = education_need_temp@token:resource_basic_education }
				set_variable = { slaves_education_need@token:resource_higher_education = education_need_temp@token:resource_higher_education }
				
				set_variable = { slaves_healthcare_need@token:resource_healthcare = healthcare_need_temp@token:resource_healthcare }
				set_variable = { slaves_healthcare_need@token:resource_pharmaceuticals = healthcare_need_temp@token:resource_pharmaceuticals }
				
				set_variable = { slaves_movement_need@token:resource_transport = movement_need_temp@token:resource_transport }
				set_variable = { slaves_movement_need@token:resource_automobiles = movement_need_temp@token:resource_automobiles }
				
				set_variable = { slaves_fuel_need@token:resource_hydrocarbons = fuel_need_temp@token:resource_hydrocarbons }
				set_variable = { slaves_fuel_need@token:resource_electricity = fuel_need_temp@token:resource_electricity }
				
				set_variable = { slaves_luxuries_need@token:resource_electronics = luxuries_need_temp@token:resource_electronics }
				set_variable = { slaves_luxuries_need@token:resource_computers = luxuries_need_temp@token:resource_computers }
				set_variable = { slaves_luxuries_need@token:resource_entertainment = luxuries_need_temp@token:resource_entertainment }
				set_variable = { slaves_luxuries_need@token:resource_convoys = luxuries_need_temp@token:resource_convoys }
				set_variable = { slaves_luxuries_need@token:resource_airplanes = luxuries_need_temp@token:resource_airplanes }
				
				set_variable = { slaves_security_need@token:resource_small_arms = security_need_temp@token:resource_small_arms }
				set_variable = { slaves_security_need@token:resource_ammunition = security_need_temp@token:resource_ammunition }
				set_variable = { slaves_security_need@token:resource_artillery = security_need_temp@token:resource_artillery }
				set_variable = { slaves_security_need@token:resource_tanks = security_need_temp@token:resource_tanks }
				
				set_variable = { slaves_finance_need@token:resource_finance = finance_need_temp@token:resource_finance }

				if = {
					limit = {
						check_variable = { slaves_amount > 1 }
					}
					set_temp_variable = { cpn_pa_temp = slaves_amount }
					divide_temp_variable = { cpn_pa_temp = 100 }

					#Multiply by Pop Amount
					multiply_variable = { slaves_needs_spending = cpn_pa_temp }
					multiply_variable = { slaves_food_cost = cpn_pa_temp }
					multiply_variable = { slaves_housing_cost = cpn_pa_temp }
					multiply_variable = { slaves_heating_cost = cpn_pa_temp }
					multiply_variable = { slaves_clothing_cost = cpn_pa_temp }
					multiply_variable = { slaves_household_cost = cpn_pa_temp }
					multiply_variable = { slaves_education_cost = cpn_pa_temp }
					multiply_variable = { slaves_healthcare_cost = cpn_pa_temp }
					multiply_variable = { slaves_movement_cost = cpn_pa_temp }
					multiply_variable = { slaves_fuel_cost = cpn_pa_temp }
					multiply_variable = { slaves_luxuries_cost = cpn_pa_temp }
					multiply_variable = { slaves_security_cost = cpn_pa_temp }
					multiply_variable = { slaves_finance_cost = cpn_pa_temp }

					multiply_variable = { slaves_food_need@token:resource_foodstuffs = cpn_pa_temp }
					multiply_variable = { slaves_food_need@token:resource_groceries = cpn_pa_temp }
					
					multiply_variable = { slaves_housing_need@token:resource_housing = cpn_pa_temp }
					
					multiply_variable = { slaves_heating_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { slaves_heating_need@token:resource_coal = cpn_pa_temp }
					multiply_variable = { slaves_heating_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { slaves_clothing_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { slaves_clothing_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { slaves_clothing_need@token:resource_clothing = cpn_pa_temp }
					
					multiply_variable = { slaves_household_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { slaves_household_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { slaves_household_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { slaves_household_need@token:resource_consumer_goods = cpn_pa_temp }
					multiply_variable = { slaves_household_need@token:resource_electronics = cpn_pa_temp }
					
					multiply_variable = { slaves_education_need@token:resource_basic_education = cpn_pa_temp }
					multiply_variable = { slaves_education_need@token:resource_higher_education = cpn_pa_temp }
					
					multiply_variable = { slaves_healthcare_need@token:resource_healthcare = cpn_pa_temp }
					multiply_variable = { slaves_healthcare_need@token:resource_pharmaceuticals = cpn_pa_temp }
					
					multiply_variable = { slaves_movement_need@token:resource_transport = cpn_pa_temp }
					multiply_variable = { slaves_movement_need@token:resource_automobiles = cpn_pa_temp }
					
					multiply_variable = { slaves_fuel_need@token:resource_hydrocarbons = cpn_pa_temp }
					multiply_variable = { slaves_fuel_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { slaves_luxuries_need@token:resource_electronics = cpn_pa_temp }
					multiply_variable = { slaves_luxuries_need@token:resource_computers = cpn_pa_temp }
					multiply_variable = { slaves_luxuries_need@token:resource_entertainment = cpn_pa_temp }
					multiply_variable = { slaves_luxuries_need@token:resource_convoys = cpn_pa_temp }
					multiply_variable = { slaves_luxuries_need@token:resource_airplanes = cpn_pa_temp }
					
					multiply_variable = { slaves_security_need@token:resource_small_arms = cpn_pa_temp }
					multiply_variable = { slaves_security_need@token:resource_ammunition = cpn_pa_temp }
					multiply_variable = { slaves_security_need@token:resource_artillery = cpn_pa_temp }
					multiply_variable = { slaves_security_need@token:resource_tanks = cpn_pa_temp }

					multiply_variable = { slaves_finance_need@token:resource_finance = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { slaves_needs_spending = slaves_amount }
					multiply_variable = { slaves_food_cost = slaves_amount }
					multiply_variable = { slaves_housing_cost = slaves_amount }
					multiply_variable = { slaves_heating_cost = slaves_amount }
					multiply_variable = { slaves_clothing_cost = slaves_amount }
					multiply_variable = { slaves_household_cost = slaves_amount }
					multiply_variable = { slaves_education_cost = slaves_amount }
					multiply_variable = { slaves_healthcare_cost = slaves_amount }
					multiply_variable = { slaves_movement_cost = slaves_amount }
					multiply_variable = { slaves_fuel_cost = slaves_amount }
					multiply_variable = { slaves_luxuries_cost = slaves_amount }
					multiply_variable = { slaves_security_cost = slaves_amount }
					multiply_variable = { slaves_finance_cost = cpn_pa_temp }

					multiply_variable = { slaves_food_need@token:resource_foodstuffs = slaves_amount }
					multiply_variable = { slaves_food_need@token:resource_groceries = slaves_amount }
					
					multiply_variable = { slaves_housing_need@token:resource_housing = slaves_amount }
					
					multiply_variable = { slaves_heating_need@token:resource_lumber = slaves_amount }
					multiply_variable = { slaves_heating_need@token:resource_coal = slaves_amount }
					multiply_variable = { slaves_heating_need@token:resource_electricity = slaves_amount }
					
					multiply_variable = { slaves_clothing_need@token:resource_fiber = slaves_amount }
					multiply_variable = { slaves_clothing_need@token:resource_fabric = slaves_amount }
					multiply_variable = { slaves_clothing_need@token:resource_clothing = slaves_amount }
					
					multiply_variable = { slaves_household_need@token:resource_fiber = slaves_amount }
					multiply_variable = { slaves_household_need@token:resource_fabric = slaves_amount }
					multiply_variable = { slaves_household_need@token:resource_lumber = slaves_amount }
					multiply_variable = { slaves_household_need@token:resource_consumer_goods = slaves_amount }
					multiply_variable = { slaves_household_need@token:resource_electronics = slaves_amount }
					
					multiply_variable = { slaves_education_need@token:resource_basic_education = slaves_amount }
					multiply_variable = { slaves_education_need@token:resource_higher_education = slaves_amount }
					
					multiply_variable = { slaves_healthcare_need@token:resource_healthcare = slaves_amount }
					multiply_variable = { slaves_healthcare_need@token:resource_pharmaceuticals = slaves_amount }
					
					multiply_variable = { slaves_movement_need@token:resource_transport = slaves_amount }
					multiply_variable = { slaves_movement_need@token:resource_automobiles = slaves_amount }
					
					multiply_variable = { slaves_fuel_need@token:resource_hydrocarbons = slaves_amount }
					multiply_variable = { slaves_fuel_need@token:resource_electricity = slaves_amount }
					
					multiply_variable = { slaves_luxuries_need@token:resource_electronics = slaves_amount }
					multiply_variable = { slaves_luxuries_need@token:resource_computers = slaves_amount }
					multiply_variable = { slaves_luxuries_need@token:resource_entertainment = slaves_amount }
					multiply_variable = { slaves_luxuries_need@token:resource_convoys = slaves_amount }
					multiply_variable = { slaves_luxuries_need@token:resource_airplanes = slaves_amount }
					
					multiply_variable = { slaves_security_need@token:resource_small_arms = slaves_amount }
					multiply_variable = { slaves_security_need@token:resource_ammunition = slaves_amount }
					multiply_variable = { slaves_security_need@token:resource_artillery = slaves_amount }
					multiply_variable = { slaves_security_need@token:resource_tanks = slaves_amount }

					multiply_variable = { slaves_finance_need@token:resource_finance = slaves_amount }

					#Divide by 100
					divide_variable = { slaves_needs_spending = 100 }
					divide_variable = { slaves_food_cost = 100 }
					divide_variable = { slaves_housing_cost = 100 }
					divide_variable = { slaves_heating_cost = 100 }
					divide_variable = { slaves_clothing_cost = 100 }
					divide_variable = { slaves_household_cost = 100 }
					divide_variable = { slaves_education_cost = 100 }
					divide_variable = { slaves_healthcare_cost = 100 }
					divide_variable = { slaves_movement_cost = 100 }
					divide_variable = { slaves_fuel_cost = 100 }
					divide_variable = { slaves_luxuries_cost = 100 }
					divide_variable = { slaves_security_cost = 100 }
					divide_variable = { slaves_finance_cost = 100 }

					divide_variable = { slaves_food_need@token:resource_foodstuffs = 100 }
					divide_variable = { slaves_food_need@token:resource_groceries = 100 }
					
					divide_variable = { slaves_housing_need@token:resource_housing = 100 }
					
					divide_variable = { slaves_heating_need@token:resource_lumber = 100 }
					divide_variable = { slaves_heating_need@token:resource_coal = 100 }
					divide_variable = { slaves_heating_need@token:resource_electricity = 100 }
					
					divide_variable = { slaves_clothing_need@token:resource_fiber = 100 }
					divide_variable = { slaves_clothing_need@token:resource_fabric = 100 }
					divide_variable = { slaves_clothing_need@token:resource_clothing = 100 }
					
					divide_variable = { slaves_household_need@token:resource_fiber = 100 }
					divide_variable = { slaves_household_need@token:resource_fabric = 100 }
					divide_variable = { slaves_household_need@token:resource_lumber = 100 }
					divide_variable = { slaves_household_need@token:resource_consumer_goods = 100 }
					divide_variable = { slaves_household_need@token:resource_electronics = 100 }
					
					divide_variable = { slaves_education_need@token:resource_basic_education = 100 }
					divide_variable = { slaves_education_need@token:resource_higher_education = 100 }
					
					divide_variable = { slaves_healthcare_need@token:resource_healthcare = 100 }
					divide_variable = { slaves_healthcare_need@token:resource_pharmaceuticals = 100 }
					
					divide_variable = { slaves_movement_need@token:resource_transport = 100 }
					divide_variable = { slaves_movement_need@token:resource_automobiles = 100 }
					
					divide_variable = { slaves_fuel_need@token:resource_hydrocarbons = 100 }
					divide_variable = { slaves_fuel_need@token:resource_electricity = 100 }
					
					divide_variable = { slaves_luxuries_need@token:resource_electronics = 100 }
					divide_variable = { slaves_luxuries_need@token:resource_computers = 100 }
					divide_variable = { slaves_luxuries_need@token:resource_entertainment = 100 }
					divide_variable = { slaves_luxuries_need@token:resource_convoys = 100 }
					divide_variable = { slaves_luxuries_need@token:resource_airplanes = 100 }
					
					divide_variable = { slaves_security_need@token:resource_small_arms = 100 }
					divide_variable = { slaves_security_need@token:resource_ammunition = 100 }
					divide_variable = { slaves_security_need@token:resource_artillery = 100 }
					divide_variable = { slaves_security_need@token:resource_tanks = 100 }

					divide_variable = { slaves_finance_need@token:resource_finance = 100 }
				}
			}
			else = {
				clear_variable = slaves_needs_spending
				clear_variable = slaves_food_cost
				clear_variable = slaves_housing_cost
				clear_variable = slaves_heating_cost
				clear_variable = slaves_clothing_cost
				clear_variable = slaves_household_cost
				clear_variable = slaves_education_cost
				clear_variable = slaves_healthcare_cost
				clear_variable = slaves_movement_cost
				clear_variable = slaves_fuel_cost
				clear_variable = slaves_luxuries_cost
				clear_variable = slaves_security_cost
				
				clear_variable = slaves_food_need@token:resource_foodstuffs
				clear_variable = slaves_food_need@token:resource_groceries
				
				clear_variable = slaves_housing_need@token:resource_housing
				
				clear_variable = slaves_heating_need@token:resource_lumber
				clear_variable = slaves_heating_need@token:resource_coal
				clear_variable = slaves_heating_need@token:resource_electricity
				
				clear_variable = slaves_clothing_need@token:resource_fiber
				clear_variable = slaves_clothing_need@token:resource_fabric
				clear_variable = slaves_clothing_need@token:resource_clothing
				
				clear_variable = slaves_household_need@token:resource_fiber
				clear_variable = slaves_household_need@token:resource_fabric
				clear_variable = slaves_household_need@token:resource_lumber
				clear_variable = slaves_household_need@token:resource_consumer_goods
				clear_variable = slaves_household_need@token:resource_electronics
				
				clear_variable = slaves_education_need@token:resource_basic_education
				clear_variable = slaves_education_need@token:resource_higher_education
				
				clear_variable = slaves_healthcare_need@token:resource_healthcare
				clear_variable = slaves_healthcare_need@token:resource_pharmaceuticals
				
				clear_variable = slaves_movement_need@token:resource_transport
				clear_variable = slaves_movement_need@token:resource_automobiles
				
				clear_variable = slaves_fuel_need@token:resource_hydrocarbons
				clear_variable = slaves_fuel_need@token:resource_electricity
				
				clear_variable = slaves_luxuries_need@token:resource_electronics
				clear_variable = slaves_luxuries_need@token:resource_computers
				clear_variable = slaves_luxuries_need@token:resource_entertainment
				clear_variable = slaves_luxuries_need@token:resource_convoys
				clear_variable = slaves_luxuries_need@token:resource_airplanes
				
				clear_variable = slaves_security_need@token:resource_small_arms
				clear_variable = slaves_security_need@token:resource_ammunition
				clear_variable = slaves_security_need@token:resource_artillery
				clear_variable = slaves_security_need@token:resource_tanks

				clear_variable = slaves_finance_need@token:resource_finance
			}
			
		#
		#Peasants
			if = {
				limit = {
					check_variable = { peasants_amount > 0 }
				}

				set_temp_variable = { sol_temp = peasants_sol }
				get_pop_needs = yes

				set_variable = { peasants_needs_spending = total_cost_temp }
				set_variable = { peasants_food_cost = food_cost_temp }
				set_variable = { peasants_housing_cost = housing_cost_temp }
				set_variable = { peasants_heating_cost = heating_cost_temp }
				set_variable = { peasants_clothing_cost = clothing_cost_temp }
				set_variable = { peasants_household_cost = household_cost_temp }
				set_variable = { peasants_education_cost = education_cost_temp }
				set_variable = { peasants_healthcare_cost = healthcare_cost_temp }
				set_variable = { peasants_movement_cost = movement_cost_temp }
				set_variable = { peasants_fuel_cost = fuel_cost_temp }
				set_variable = { peasants_luxuries_cost = luxuries_cost_temp }
				set_variable = { peasants_security_cost = security_cost_temp }
				set_variable = { peasants_finance_cost = finance_cost_temp }
				
				set_variable = { peasants_food_need@token:resource_foodstuffs = food_need_temp@token:resource_foodstuffs }
				set_variable = { peasants_food_need@token:resource_groceries = food_need_temp@token:resource_groceries }
				
				set_variable = { peasants_housing_need@token:resource_housing = housing_need_temp@token:resource_housing }
				
				set_variable = { peasants_heating_need@token:resource_lumber = heating_need_temp@token:resource_lumber }
				set_variable = { peasants_heating_need@token:resource_coal = heating_need_temp@token:resource_coal }
				set_variable = { peasants_heating_need@token:resource_electricity = heating_need_temp@token:resource_electricity }
				
				set_variable = { peasants_clothing_need@token:resource_fiber = clothing_need_temp@token:resource_fiber }
				set_variable = { peasants_clothing_need@token:resource_fabric = clothing_need_temp@token:resource_fabric }
				set_variable = { peasants_clothing_need@token:resource_clothing = clothing_need_temp@token:resource_clothing }
				
				set_variable = { peasants_household_need@token:resource_fiber = household_need_temp@token:resource_fiber }
				set_variable = { peasants_household_need@token:resource_fabric = household_need_temp@token:resource_fabric }
				set_variable = { peasants_household_need@token:resource_lumber = household_need_temp@token:resource_lumber }
				set_variable = { peasants_household_need@token:resource_consumer_goods = household_need_temp@token:resource_consumer_goods }
				set_variable = { peasants_household_need@token:resource_electronics = household_need_temp@token:resource_electronics }
				
				set_variable = { peasants_education_need@token:resource_basic_education = education_need_temp@token:resource_basic_education }
				set_variable = { peasants_education_need@token:resource_higher_education = education_need_temp@token:resource_higher_education }
				
				set_variable = { peasants_healthcare_need@token:resource_healthcare = healthcare_need_temp@token:resource_healthcare }
				set_variable = { peasants_healthcare_need@token:resource_pharmaceuticals = healthcare_need_temp@token:resource_pharmaceuticals }
				
				set_variable = { peasants_movement_need@token:resource_transport = movement_need_temp@token:resource_transport }
				set_variable = { peasants_movement_need@token:resource_automobiles = movement_need_temp@token:resource_automobiles }
				
				set_variable = { peasants_fuel_need@token:resource_hydrocarbons = fuel_need_temp@token:resource_hydrocarbons }
				set_variable = { peasants_fuel_need@token:resource_electricity = fuel_need_temp@token:resource_electricity }
				
				set_variable = { peasants_luxuries_need@token:resource_electronics = luxuries_need_temp@token:resource_electronics }
				set_variable = { peasants_luxuries_need@token:resource_computers = luxuries_need_temp@token:resource_computers }
				set_variable = { peasants_luxuries_need@token:resource_entertainment = luxuries_need_temp@token:resource_entertainment }
				set_variable = { peasants_luxuries_need@token:resource_convoys = luxuries_need_temp@token:resource_convoys }
				set_variable = { peasants_luxuries_need@token:resource_airplanes = luxuries_need_temp@token:resource_airplanes }
				
				set_variable = { peasants_security_need@token:resource_small_arms = security_need_temp@token:resource_small_arms }
				set_variable = { peasants_security_need@token:resource_ammunition = security_need_temp@token:resource_ammunition }
				set_variable = { peasants_security_need@token:resource_artillery = security_need_temp@token:resource_artillery }
				set_variable = { peasants_security_need@token:resource_tanks = security_need_temp@token:resource_tanks }
				
				set_variable = { peasants_finance_need@token:resource_finance = finance_need_temp@token:resource_finance }

				if = {
					limit = {
						check_variable = { peasants_amount > 1 }
					}
					set_temp_variable = { cpn_pa_temp = peasants_amount }
					divide_temp_variable = { cpn_pa_temp = 100 }

					#Multiply by Pop Amount
					multiply_variable = { peasants_needs_spending = cpn_pa_temp }
					multiply_variable = { peasants_food_cost = cpn_pa_temp }
					multiply_variable = { peasants_housing_cost = cpn_pa_temp }
					multiply_variable = { peasants_heating_cost = cpn_pa_temp }
					multiply_variable = { peasants_clothing_cost = cpn_pa_temp }
					multiply_variable = { peasants_household_cost = cpn_pa_temp }
					multiply_variable = { peasants_education_cost = cpn_pa_temp }
					multiply_variable = { peasants_healthcare_cost = cpn_pa_temp }
					multiply_variable = { peasants_movement_cost = cpn_pa_temp }
					multiply_variable = { peasants_fuel_cost = cpn_pa_temp }
					multiply_variable = { peasants_luxuries_cost = cpn_pa_temp }
					multiply_variable = { peasants_security_cost = cpn_pa_temp }
					multiply_variable = { peasants_finance_cost = cpn_pa_temp }

					multiply_variable = { peasants_food_need@token:resource_foodstuffs = cpn_pa_temp }
					multiply_variable = { peasants_food_need@token:resource_groceries = cpn_pa_temp }
					
					multiply_variable = { peasants_housing_need@token:resource_housing = cpn_pa_temp }
					
					multiply_variable = { peasants_heating_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { peasants_heating_need@token:resource_coal = cpn_pa_temp }
					multiply_variable = { peasants_heating_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { peasants_clothing_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { peasants_clothing_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { peasants_clothing_need@token:resource_clothing = cpn_pa_temp }
					
					multiply_variable = { peasants_household_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { peasants_household_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { peasants_household_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { peasants_household_need@token:resource_consumer_goods = cpn_pa_temp }
					multiply_variable = { peasants_household_need@token:resource_electronics = cpn_pa_temp }
					
					multiply_variable = { peasants_education_need@token:resource_basic_education = cpn_pa_temp }
					multiply_variable = { peasants_education_need@token:resource_higher_education = cpn_pa_temp }
					
					multiply_variable = { peasants_healthcare_need@token:resource_healthcare = cpn_pa_temp }
					multiply_variable = { peasants_healthcare_need@token:resource_pharmaceuticals = cpn_pa_temp }
					
					multiply_variable = { peasants_movement_need@token:resource_transport = cpn_pa_temp }
					multiply_variable = { peasants_movement_need@token:resource_automobiles = cpn_pa_temp }
					
					multiply_variable = { peasants_fuel_need@token:resource_hydrocarbons = cpn_pa_temp }
					multiply_variable = { peasants_fuel_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { peasants_luxuries_need@token:resource_electronics = cpn_pa_temp }
					multiply_variable = { peasants_luxuries_need@token:resource_computers = cpn_pa_temp }
					multiply_variable = { peasants_luxuries_need@token:resource_entertainment = cpn_pa_temp }
					multiply_variable = { peasants_luxuries_need@token:resource_convoys = cpn_pa_temp }
					multiply_variable = { peasants_luxuries_need@token:resource_airplanes = cpn_pa_temp }
					
					multiply_variable = { peasants_security_need@token:resource_small_arms = cpn_pa_temp }
					multiply_variable = { peasants_security_need@token:resource_ammunition = cpn_pa_temp }
					multiply_variable = { peasants_security_need@token:resource_artillery = cpn_pa_temp }
					multiply_variable = { peasants_security_need@token:resource_tanks = cpn_pa_temp }

					multiply_variable = { peasants_finance_need@token:resource_finance = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { peasants_needs_spending = peasants_amount }
					multiply_variable = { peasants_food_cost = peasants_amount }
					multiply_variable = { peasants_housing_cost = peasants_amount }
					multiply_variable = { peasants_heating_cost = peasants_amount }
					multiply_variable = { peasants_clothing_cost = peasants_amount }
					multiply_variable = { peasants_household_cost = peasants_amount }
					multiply_variable = { peasants_education_cost = peasants_amount }
					multiply_variable = { peasants_healthcare_cost = peasants_amount }
					multiply_variable = { peasants_movement_cost = peasants_amount }
					multiply_variable = { peasants_fuel_cost = peasants_amount }
					multiply_variable = { peasants_luxuries_cost = peasants_amount }
					multiply_variable = { peasants_security_cost = peasants_amount }
					multiply_variable = { peasants_finance_cost = cpn_pa_temp }

					multiply_variable = { peasants_food_need@token:resource_foodstuffs = peasants_amount }
					multiply_variable = { peasants_food_need@token:resource_groceries = peasants_amount }
					
					multiply_variable = { peasants_housing_need@token:resource_housing = peasants_amount }
					
					multiply_variable = { peasants_heating_need@token:resource_lumber = peasants_amount }
					multiply_variable = { peasants_heating_need@token:resource_coal = peasants_amount }
					multiply_variable = { peasants_heating_need@token:resource_electricity = peasants_amount }
					
					multiply_variable = { peasants_clothing_need@token:resource_fiber = peasants_amount }
					multiply_variable = { peasants_clothing_need@token:resource_fabric = peasants_amount }
					multiply_variable = { peasants_clothing_need@token:resource_clothing = peasants_amount }
					
					multiply_variable = { peasants_household_need@token:resource_fiber = peasants_amount }
					multiply_variable = { peasants_household_need@token:resource_fabric = peasants_amount }
					multiply_variable = { peasants_household_need@token:resource_lumber = peasants_amount }
					multiply_variable = { peasants_household_need@token:resource_consumer_goods = peasants_amount }
					multiply_variable = { peasants_household_need@token:resource_electronics = peasants_amount }
					
					multiply_variable = { peasants_education_need@token:resource_basic_education = peasants_amount }
					multiply_variable = { peasants_education_need@token:resource_higher_education = peasants_amount }
					
					multiply_variable = { peasants_healthcare_need@token:resource_healthcare = peasants_amount }
					multiply_variable = { peasants_healthcare_need@token:resource_pharmaceuticals = peasants_amount }
					
					multiply_variable = { peasants_movement_need@token:resource_transport = peasants_amount }
					multiply_variable = { peasants_movement_need@token:resource_automobiles = peasants_amount }
					
					multiply_variable = { peasants_fuel_need@token:resource_hydrocarbons = peasants_amount }
					multiply_variable = { peasants_fuel_need@token:resource_electricity = peasants_amount }
					
					multiply_variable = { peasants_luxuries_need@token:resource_electronics = peasants_amount }
					multiply_variable = { peasants_luxuries_need@token:resource_computers = peasants_amount }
					multiply_variable = { peasants_luxuries_need@token:resource_entertainment = peasants_amount }
					multiply_variable = { peasants_luxuries_need@token:resource_convoys = peasants_amount }
					multiply_variable = { peasants_luxuries_need@token:resource_airplanes = peasants_amount }
					
					multiply_variable = { peasants_security_need@token:resource_small_arms = peasants_amount }
					multiply_variable = { peasants_security_need@token:resource_ammunition = peasants_amount }
					multiply_variable = { peasants_security_need@token:resource_artillery = peasants_amount }
					multiply_variable = { peasants_security_need@token:resource_tanks = peasants_amount }

					multiply_variable = { peasants_finance_need@token:resource_finance = peasants_amount }

					#Divide by 100
					divide_variable = { peasants_needs_spending = 100 }
					divide_variable = { peasants_food_cost = 100 }
					divide_variable = { peasants_housing_cost = 100 }
					divide_variable = { peasants_heating_cost = 100 }
					divide_variable = { peasants_clothing_cost = 100 }
					divide_variable = { peasants_household_cost = 100 }
					divide_variable = { peasants_education_cost = 100 }
					divide_variable = { peasants_healthcare_cost = 100 }
					divide_variable = { peasants_movement_cost = 100 }
					divide_variable = { peasants_fuel_cost = 100 }
					divide_variable = { peasants_luxuries_cost = 100 }
					divide_variable = { peasants_security_cost = 100 }
					divide_variable = { peasants_finance_cost = 100 }

					divide_variable = { peasants_food_need@token:resource_foodstuffs = 100 }
					divide_variable = { peasants_food_need@token:resource_groceries = 100 }
					
					divide_variable = { peasants_housing_need@token:resource_housing = 100 }
					
					divide_variable = { peasants_heating_need@token:resource_lumber = 100 }
					divide_variable = { peasants_heating_need@token:resource_coal = 100 }
					divide_variable = { peasants_heating_need@token:resource_electricity = 100 }
					
					divide_variable = { peasants_clothing_need@token:resource_fiber = 100 }
					divide_variable = { peasants_clothing_need@token:resource_fabric = 100 }
					divide_variable = { peasants_clothing_need@token:resource_clothing = 100 }
					
					divide_variable = { peasants_household_need@token:resource_fiber = 100 }
					divide_variable = { peasants_household_need@token:resource_fabric = 100 }
					divide_variable = { peasants_household_need@token:resource_lumber = 100 }
					divide_variable = { peasants_household_need@token:resource_consumer_goods = 100 }
					divide_variable = { peasants_household_need@token:resource_electronics = 100 }
					
					divide_variable = { peasants_education_need@token:resource_basic_education = 100 }
					divide_variable = { peasants_education_need@token:resource_higher_education = 100 }
					
					divide_variable = { peasants_healthcare_need@token:resource_healthcare = 100 }
					divide_variable = { peasants_healthcare_need@token:resource_pharmaceuticals = 100 }
					
					divide_variable = { peasants_movement_need@token:resource_transport = 100 }
					divide_variable = { peasants_movement_need@token:resource_automobiles = 100 }
					
					divide_variable = { peasants_fuel_need@token:resource_hydrocarbons = 100 }
					divide_variable = { peasants_fuel_need@token:resource_electricity = 100 }
					
					divide_variable = { peasants_luxuries_need@token:resource_electronics = 100 }
					divide_variable = { peasants_luxuries_need@token:resource_computers = 100 }
					divide_variable = { peasants_luxuries_need@token:resource_entertainment = 100 }
					divide_variable = { peasants_luxuries_need@token:resource_convoys = 100 }
					divide_variable = { peasants_luxuries_need@token:resource_airplanes = 100 }
					
					divide_variable = { peasants_security_need@token:resource_small_arms = 100 }
					divide_variable = { peasants_security_need@token:resource_ammunition = 100 }
					divide_variable = { peasants_security_need@token:resource_artillery = 100 }
					divide_variable = { peasants_security_need@token:resource_tanks = 100 }

					divide_variable = { peasants_finance_need@token:resource_finance = 100 }
				}
			}
			else = {
				clear_variable = peasants_needs_spending
				clear_variable = peasants_food_cost
				clear_variable = peasants_housing_cost
				clear_variable = peasants_heating_cost
				clear_variable = peasants_clothing_cost
				clear_variable = peasants_household_cost
				clear_variable = peasants_education_cost
				clear_variable = peasants_healthcare_cost
				clear_variable = peasants_movement_cost
				clear_variable = peasants_fuel_cost
				clear_variable = peasants_luxuries_cost
				clear_variable = peasants_security_cost
				
				clear_variable = peasants_food_need@token:resource_foodstuffs
				clear_variable = peasants_food_need@token:resource_groceries
				
				clear_variable = peasants_housing_need@token:resource_housing
				
				clear_variable = peasants_heating_need@token:resource_lumber
				clear_variable = peasants_heating_need@token:resource_coal
				clear_variable = peasants_heating_need@token:resource_electricity
				
				clear_variable = peasants_clothing_need@token:resource_fiber
				clear_variable = peasants_clothing_need@token:resource_fabric
				clear_variable = peasants_clothing_need@token:resource_clothing
				
				clear_variable = peasants_household_need@token:resource_fiber
				clear_variable = peasants_household_need@token:resource_fabric
				clear_variable = peasants_household_need@token:resource_lumber
				clear_variable = peasants_household_need@token:resource_consumer_goods
				clear_variable = peasants_household_need@token:resource_electronics
				
				clear_variable = peasants_education_need@token:resource_basic_education
				clear_variable = peasants_education_need@token:resource_higher_education
				
				clear_variable = peasants_healthcare_need@token:resource_healthcare
				clear_variable = peasants_healthcare_need@token:resource_pharmaceuticals
				
				clear_variable = peasants_movement_need@token:resource_transport
				clear_variable = peasants_movement_need@token:resource_automobiles
				
				clear_variable = peasants_fuel_need@token:resource_hydrocarbons
				clear_variable = peasants_fuel_need@token:resource_electricity
				
				clear_variable = peasants_luxuries_need@token:resource_electronics
				clear_variable = peasants_luxuries_need@token:resource_computers
				clear_variable = peasants_luxuries_need@token:resource_entertainment
				clear_variable = peasants_luxuries_need@token:resource_convoys
				clear_variable = peasants_luxuries_need@token:resource_airplanes
				
				clear_variable = peasants_security_need@token:resource_small_arms
				clear_variable = peasants_security_need@token:resource_ammunition
				clear_variable = peasants_security_need@token:resource_artillery
				clear_variable = peasants_security_need@token:resource_tanks

				clear_variable = peasants_finance_need@token:resource_finance
			}
			
		#
		#Laborers
			if = {
				limit = {
					check_variable = { laborers_amount > 0 }
				}

				set_temp_variable = { sol_temp = laborers_sol }
				get_pop_needs = yes

				set_variable = { laborers_needs_spending = total_cost_temp }
				set_variable = { laborers_food_cost = food_cost_temp }
				set_variable = { laborers_housing_cost = housing_cost_temp }
				set_variable = { laborers_heating_cost = heating_cost_temp }
				set_variable = { laborers_clothing_cost = clothing_cost_temp }
				set_variable = { laborers_household_cost = household_cost_temp }
				set_variable = { laborers_education_cost = education_cost_temp }
				set_variable = { laborers_healthcare_cost = healthcare_cost_temp }
				set_variable = { laborers_movement_cost = movement_cost_temp }
				set_variable = { laborers_fuel_cost = fuel_cost_temp }
				set_variable = { laborers_luxuries_cost = luxuries_cost_temp }
				set_variable = { laborers_security_cost = security_cost_temp }
				set_variable = { laborers_finance_cost = finance_cost_temp }
				
				set_variable = { laborers_food_need@token:resource_foodstuffs = food_need_temp@token:resource_foodstuffs }
				set_variable = { laborers_food_need@token:resource_groceries = food_need_temp@token:resource_groceries }
				
				set_variable = { laborers_housing_need@token:resource_housing = housing_need_temp@token:resource_housing }
				
				set_variable = { laborers_heating_need@token:resource_lumber = heating_need_temp@token:resource_lumber }
				set_variable = { laborers_heating_need@token:resource_coal = heating_need_temp@token:resource_coal }
				set_variable = { laborers_heating_need@token:resource_electricity = heating_need_temp@token:resource_electricity }
				
				set_variable = { laborers_clothing_need@token:resource_fiber = clothing_need_temp@token:resource_fiber }
				set_variable = { laborers_clothing_need@token:resource_fabric = clothing_need_temp@token:resource_fabric }
				set_variable = { laborers_clothing_need@token:resource_clothing = clothing_need_temp@token:resource_clothing }
				
				set_variable = { laborers_household_need@token:resource_fiber = household_need_temp@token:resource_fiber }
				set_variable = { laborers_household_need@token:resource_fabric = household_need_temp@token:resource_fabric }
				set_variable = { laborers_household_need@token:resource_lumber = household_need_temp@token:resource_lumber }
				set_variable = { laborers_household_need@token:resource_consumer_goods = household_need_temp@token:resource_consumer_goods }
				set_variable = { laborers_household_need@token:resource_electronics = household_need_temp@token:resource_electronics }
				
				set_variable = { laborers_education_need@token:resource_basic_education = education_need_temp@token:resource_basic_education }
				set_variable = { laborers_education_need@token:resource_higher_education = education_need_temp@token:resource_higher_education }
				
				set_variable = { laborers_healthcare_need@token:resource_healthcare = healthcare_need_temp@token:resource_healthcare }
				set_variable = { laborers_healthcare_need@token:resource_pharmaceuticals = healthcare_need_temp@token:resource_pharmaceuticals }
				
				set_variable = { laborers_movement_need@token:resource_transport = movement_need_temp@token:resource_transport }
				set_variable = { laborers_movement_need@token:resource_automobiles = movement_need_temp@token:resource_automobiles }
				
				set_variable = { laborers_fuel_need@token:resource_hydrocarbons = fuel_need_temp@token:resource_hydrocarbons }
				set_variable = { laborers_fuel_need@token:resource_electricity = fuel_need_temp@token:resource_electricity }
				
				set_variable = { laborers_luxuries_need@token:resource_electronics = luxuries_need_temp@token:resource_electronics }
				set_variable = { laborers_luxuries_need@token:resource_computers = luxuries_need_temp@token:resource_computers }
				set_variable = { laborers_luxuries_need@token:resource_entertainment = luxuries_need_temp@token:resource_entertainment }
				set_variable = { laborers_luxuries_need@token:resource_convoys = luxuries_need_temp@token:resource_convoys }
				set_variable = { laborers_luxuries_need@token:resource_airplanes = luxuries_need_temp@token:resource_airplanes }
				
				set_variable = { laborers_security_need@token:resource_small_arms = security_need_temp@token:resource_small_arms }
				set_variable = { laborers_security_need@token:resource_ammunition = security_need_temp@token:resource_ammunition }
				set_variable = { laborers_security_need@token:resource_artillery = security_need_temp@token:resource_artillery }
				set_variable = { laborers_security_need@token:resource_tanks = security_need_temp@token:resource_tanks }
				
				set_variable = { laborers_finance_need@token:resource_finance = finance_need_temp@token:resource_finance }

				if = {
					limit = {
						check_variable = { laborers_amount > 1 }
					}
					set_temp_variable = { cpn_pa_temp = laborers_amount }
					divide_temp_variable = { cpn_pa_temp = 100 }

					#Multiply by Pop Amount
					multiply_variable = { laborers_needs_spending = cpn_pa_temp }
					multiply_variable = { laborers_food_cost = cpn_pa_temp }
					multiply_variable = { laborers_housing_cost = cpn_pa_temp }
					multiply_variable = { laborers_heating_cost = cpn_pa_temp }
					multiply_variable = { laborers_clothing_cost = cpn_pa_temp }
					multiply_variable = { laborers_household_cost = cpn_pa_temp }
					multiply_variable = { laborers_education_cost = cpn_pa_temp }
					multiply_variable = { laborers_healthcare_cost = cpn_pa_temp }
					multiply_variable = { laborers_movement_cost = cpn_pa_temp }
					multiply_variable = { laborers_fuel_cost = cpn_pa_temp }
					multiply_variable = { laborers_luxuries_cost = cpn_pa_temp }
					multiply_variable = { laborers_security_cost = cpn_pa_temp }
					multiply_variable = { laborers_finance_cost = cpn_pa_temp }

					multiply_variable = { laborers_food_need@token:resource_foodstuffs = cpn_pa_temp }
					multiply_variable = { laborers_food_need@token:resource_groceries = cpn_pa_temp }
					
					multiply_variable = { laborers_housing_need@token:resource_housing = cpn_pa_temp }
					
					multiply_variable = { laborers_heating_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { laborers_heating_need@token:resource_coal = cpn_pa_temp }
					multiply_variable = { laborers_heating_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { laborers_clothing_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { laborers_clothing_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { laborers_clothing_need@token:resource_clothing = cpn_pa_temp }
					
					multiply_variable = { laborers_household_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { laborers_household_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { laborers_household_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { laborers_household_need@token:resource_consumer_goods = cpn_pa_temp }
					multiply_variable = { laborers_household_need@token:resource_electronics = cpn_pa_temp }
					
					multiply_variable = { laborers_education_need@token:resource_basic_education = cpn_pa_temp }
					multiply_variable = { laborers_education_need@token:resource_higher_education = cpn_pa_temp }
					
					multiply_variable = { laborers_healthcare_need@token:resource_healthcare = cpn_pa_temp }
					multiply_variable = { laborers_healthcare_need@token:resource_pharmaceuticals = cpn_pa_temp }
					
					multiply_variable = { laborers_movement_need@token:resource_transport = cpn_pa_temp }
					multiply_variable = { laborers_movement_need@token:resource_automobiles = cpn_pa_temp }
					
					multiply_variable = { laborers_fuel_need@token:resource_hydrocarbons = cpn_pa_temp }
					multiply_variable = { laborers_fuel_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { laborers_luxuries_need@token:resource_electronics = cpn_pa_temp }
					multiply_variable = { laborers_luxuries_need@token:resource_computers = cpn_pa_temp }
					multiply_variable = { laborers_luxuries_need@token:resource_entertainment = cpn_pa_temp }
					multiply_variable = { laborers_luxuries_need@token:resource_convoys = cpn_pa_temp }
					multiply_variable = { laborers_luxuries_need@token:resource_airplanes = cpn_pa_temp }
					
					multiply_variable = { laborers_security_need@token:resource_small_arms = cpn_pa_temp }
					multiply_variable = { laborers_security_need@token:resource_ammunition = cpn_pa_temp }
					multiply_variable = { laborers_security_need@token:resource_artillery = cpn_pa_temp }
					multiply_variable = { laborers_security_need@token:resource_tanks = cpn_pa_temp }

					multiply_variable = { laborers_finance_need@token:resource_finance = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { laborers_needs_spending = laborers_amount }
					multiply_variable = { laborers_food_cost = laborers_amount }
					multiply_variable = { laborers_housing_cost = laborers_amount }
					multiply_variable = { laborers_heating_cost = laborers_amount }
					multiply_variable = { laborers_clothing_cost = laborers_amount }
					multiply_variable = { laborers_household_cost = laborers_amount }
					multiply_variable = { laborers_education_cost = laborers_amount }
					multiply_variable = { laborers_healthcare_cost = laborers_amount }
					multiply_variable = { laborers_movement_cost = laborers_amount }
					multiply_variable = { laborers_fuel_cost = laborers_amount }
					multiply_variable = { laborers_luxuries_cost = laborers_amount }
					multiply_variable = { laborers_security_cost = laborers_amount }
					multiply_variable = { laborers_finance_cost = cpn_pa_temp }

					multiply_variable = { laborers_food_need@token:resource_foodstuffs = laborers_amount }
					multiply_variable = { laborers_food_need@token:resource_groceries = laborers_amount }
					
					multiply_variable = { laborers_housing_need@token:resource_housing = laborers_amount }
					
					multiply_variable = { laborers_heating_need@token:resource_lumber = laborers_amount }
					multiply_variable = { laborers_heating_need@token:resource_coal = laborers_amount }
					multiply_variable = { laborers_heating_need@token:resource_electricity = laborers_amount }
					
					multiply_variable = { laborers_clothing_need@token:resource_fiber = laborers_amount }
					multiply_variable = { laborers_clothing_need@token:resource_fabric = laborers_amount }
					multiply_variable = { laborers_clothing_need@token:resource_clothing = laborers_amount }
					
					multiply_variable = { laborers_household_need@token:resource_fiber = laborers_amount }
					multiply_variable = { laborers_household_need@token:resource_fabric = laborers_amount }
					multiply_variable = { laborers_household_need@token:resource_lumber = laborers_amount }
					multiply_variable = { laborers_household_need@token:resource_consumer_goods = laborers_amount }
					multiply_variable = { laborers_household_need@token:resource_electronics = laborers_amount }
					
					multiply_variable = { laborers_education_need@token:resource_basic_education = laborers_amount }
					multiply_variable = { laborers_education_need@token:resource_higher_education = laborers_amount }
					
					multiply_variable = { laborers_healthcare_need@token:resource_healthcare = laborers_amount }
					multiply_variable = { laborers_healthcare_need@token:resource_pharmaceuticals = laborers_amount }
					
					multiply_variable = { laborers_movement_need@token:resource_transport = laborers_amount }
					multiply_variable = { laborers_movement_need@token:resource_automobiles = laborers_amount }
					
					multiply_variable = { laborers_fuel_need@token:resource_hydrocarbons = laborers_amount }
					multiply_variable = { laborers_fuel_need@token:resource_electricity = laborers_amount }
					
					multiply_variable = { laborers_luxuries_need@token:resource_electronics = laborers_amount }
					multiply_variable = { laborers_luxuries_need@token:resource_computers = laborers_amount }
					multiply_variable = { laborers_luxuries_need@token:resource_entertainment = laborers_amount }
					multiply_variable = { laborers_luxuries_need@token:resource_convoys = laborers_amount }
					multiply_variable = { laborers_luxuries_need@token:resource_airplanes = laborers_amount }
					
					multiply_variable = { laborers_security_need@token:resource_small_arms = laborers_amount }
					multiply_variable = { laborers_security_need@token:resource_ammunition = laborers_amount }
					multiply_variable = { laborers_security_need@token:resource_artillery = laborers_amount }
					multiply_variable = { laborers_security_need@token:resource_tanks = laborers_amount }

					multiply_variable = { laborers_finance_need@token:resource_finance = laborers_amount }

					#Divide by 100
					divide_variable = { laborers_needs_spending = 100 }
					divide_variable = { laborers_food_cost = 100 }
					divide_variable = { laborers_housing_cost = 100 }
					divide_variable = { laborers_heating_cost = 100 }
					divide_variable = { laborers_clothing_cost = 100 }
					divide_variable = { laborers_household_cost = 100 }
					divide_variable = { laborers_education_cost = 100 }
					divide_variable = { laborers_healthcare_cost = 100 }
					divide_variable = { laborers_movement_cost = 100 }
					divide_variable = { laborers_fuel_cost = 100 }
					divide_variable = { laborers_luxuries_cost = 100 }
					divide_variable = { laborers_security_cost = 100 }
					divide_variable = { laborers_finance_cost = 100 }

					divide_variable = { laborers_food_need@token:resource_foodstuffs = 100 }
					divide_variable = { laborers_food_need@token:resource_groceries = 100 }
					
					divide_variable = { laborers_housing_need@token:resource_housing = 100 }
					
					divide_variable = { laborers_heating_need@token:resource_lumber = 100 }
					divide_variable = { laborers_heating_need@token:resource_coal = 100 }
					divide_variable = { laborers_heating_need@token:resource_electricity = 100 }
					
					divide_variable = { laborers_clothing_need@token:resource_fiber = 100 }
					divide_variable = { laborers_clothing_need@token:resource_fabric = 100 }
					divide_variable = { laborers_clothing_need@token:resource_clothing = 100 }
					
					divide_variable = { laborers_household_need@token:resource_fiber = 100 }
					divide_variable = { laborers_household_need@token:resource_fabric = 100 }
					divide_variable = { laborers_household_need@token:resource_lumber = 100 }
					divide_variable = { laborers_household_need@token:resource_consumer_goods = 100 }
					divide_variable = { laborers_household_need@token:resource_electronics = 100 }
					
					divide_variable = { laborers_education_need@token:resource_basic_education = 100 }
					divide_variable = { laborers_education_need@token:resource_higher_education = 100 }
					
					divide_variable = { laborers_healthcare_need@token:resource_healthcare = 100 }
					divide_variable = { laborers_healthcare_need@token:resource_pharmaceuticals = 100 }
					
					divide_variable = { laborers_movement_need@token:resource_transport = 100 }
					divide_variable = { laborers_movement_need@token:resource_automobiles = 100 }
					
					divide_variable = { laborers_fuel_need@token:resource_hydrocarbons = 100 }
					divide_variable = { laborers_fuel_need@token:resource_electricity = 100 }
					
					divide_variable = { laborers_luxuries_need@token:resource_electronics = 100 }
					divide_variable = { laborers_luxuries_need@token:resource_computers = 100 }
					divide_variable = { laborers_luxuries_need@token:resource_entertainment = 100 }
					divide_variable = { laborers_luxuries_need@token:resource_convoys = 100 }
					divide_variable = { laborers_luxuries_need@token:resource_airplanes = 100 }
					
					divide_variable = { laborers_security_need@token:resource_small_arms = 100 }
					divide_variable = { laborers_security_need@token:resource_ammunition = 100 }
					divide_variable = { laborers_security_need@token:resource_artillery = 100 }
					divide_variable = { laborers_security_need@token:resource_tanks = 100 }

					divide_variable = { laborers_finance_need@token:resource_finance = 100 }
				}
			}
			else = {
				clear_variable = laborers_needs_spending
				clear_variable = laborers_food_cost
				clear_variable = laborers_housing_cost
				clear_variable = laborers_heating_cost
				clear_variable = laborers_clothing_cost
				clear_variable = laborers_household_cost
				clear_variable = laborers_education_cost
				clear_variable = laborers_healthcare_cost
				clear_variable = laborers_movement_cost
				clear_variable = laborers_fuel_cost
				clear_variable = laborers_luxuries_cost
				clear_variable = laborers_security_cost
				
				clear_variable = laborers_food_need@token:resource_foodstuffs
				clear_variable = laborers_food_need@token:resource_groceries
				
				clear_variable = laborers_housing_need@token:resource_housing
				
				clear_variable = laborers_heating_need@token:resource_lumber
				clear_variable = laborers_heating_need@token:resource_coal
				clear_variable = laborers_heating_need@token:resource_electricity
				
				clear_variable = laborers_clothing_need@token:resource_fiber
				clear_variable = laborers_clothing_need@token:resource_fabric
				clear_variable = laborers_clothing_need@token:resource_clothing
				
				clear_variable = laborers_household_need@token:resource_fiber
				clear_variable = laborers_household_need@token:resource_fabric
				clear_variable = laborers_household_need@token:resource_lumber
				clear_variable = laborers_household_need@token:resource_consumer_goods
				clear_variable = laborers_household_need@token:resource_electronics
				
				clear_variable = laborers_education_need@token:resource_basic_education
				clear_variable = laborers_education_need@token:resource_higher_education
				
				clear_variable = laborers_healthcare_need@token:resource_healthcare
				clear_variable = laborers_healthcare_need@token:resource_pharmaceuticals
				
				clear_variable = laborers_movement_need@token:resource_transport
				clear_variable = laborers_movement_need@token:resource_automobiles
				
				clear_variable = laborers_fuel_need@token:resource_hydrocarbons
				clear_variable = laborers_fuel_need@token:resource_electricity
				
				clear_variable = laborers_luxuries_need@token:resource_electronics
				clear_variable = laborers_luxuries_need@token:resource_computers
				clear_variable = laborers_luxuries_need@token:resource_entertainment
				clear_variable = laborers_luxuries_need@token:resource_convoys
				clear_variable = laborers_luxuries_need@token:resource_airplanes
				
				clear_variable = laborers_security_need@token:resource_small_arms
				clear_variable = laborers_security_need@token:resource_ammunition
				clear_variable = laborers_security_need@token:resource_artillery
				clear_variable = laborers_security_need@token:resource_tanks

				clear_variable = laborers_finance_need@token:resource_finance
			}
			
		#
		#Workers
			if = {
				limit = {
					check_variable = { workers_amount > 0 }
				}

				set_temp_variable = { sol_temp = workers_sol }
				get_pop_needs = yes

				set_variable = { workers_needs_spending = total_cost_temp }
				set_variable = { workers_food_cost = food_cost_temp }
				set_variable = { workers_housing_cost = housing_cost_temp }
				set_variable = { workers_heating_cost = heating_cost_temp }
				set_variable = { workers_clothing_cost = clothing_cost_temp }
				set_variable = { workers_household_cost = household_cost_temp }
				set_variable = { workers_education_cost = education_cost_temp }
				set_variable = { workers_healthcare_cost = healthcare_cost_temp }
				set_variable = { workers_movement_cost = movement_cost_temp }
				set_variable = { workers_fuel_cost = fuel_cost_temp }
				set_variable = { workers_luxuries_cost = luxuries_cost_temp }
				set_variable = { workers_security_cost = security_cost_temp }
				set_variable = { workers_finance_cost = finance_cost_temp }
				
				set_variable = { workers_food_need@token:resource_foodstuffs = food_need_temp@token:resource_foodstuffs }
				set_variable = { workers_food_need@token:resource_groceries = food_need_temp@token:resource_groceries }
				
				set_variable = { workers_housing_need@token:resource_housing = housing_need_temp@token:resource_housing }
				
				set_variable = { workers_heating_need@token:resource_lumber = heating_need_temp@token:resource_lumber }
				set_variable = { workers_heating_need@token:resource_coal = heating_need_temp@token:resource_coal }
				set_variable = { workers_heating_need@token:resource_electricity = heating_need_temp@token:resource_electricity }
				
				set_variable = { workers_clothing_need@token:resource_fiber = clothing_need_temp@token:resource_fiber }
				set_variable = { workers_clothing_need@token:resource_fabric = clothing_need_temp@token:resource_fabric }
				set_variable = { workers_clothing_need@token:resource_clothing = clothing_need_temp@token:resource_clothing }
				
				set_variable = { workers_household_need@token:resource_fiber = household_need_temp@token:resource_fiber }
				set_variable = { workers_household_need@token:resource_fabric = household_need_temp@token:resource_fabric }
				set_variable = { workers_household_need@token:resource_lumber = household_need_temp@token:resource_lumber }
				set_variable = { workers_household_need@token:resource_consumer_goods = household_need_temp@token:resource_consumer_goods }
				set_variable = { workers_household_need@token:resource_electronics = household_need_temp@token:resource_electronics }
				
				set_variable = { workers_education_need@token:resource_basic_education = education_need_temp@token:resource_basic_education }
				set_variable = { workers_education_need@token:resource_higher_education = education_need_temp@token:resource_higher_education }
				
				set_variable = { workers_healthcare_need@token:resource_healthcare = healthcare_need_temp@token:resource_healthcare }
				set_variable = { workers_healthcare_need@token:resource_pharmaceuticals = healthcare_need_temp@token:resource_pharmaceuticals }
				
				set_variable = { workers_movement_need@token:resource_transport = movement_need_temp@token:resource_transport }
				set_variable = { workers_movement_need@token:resource_automobiles = movement_need_temp@token:resource_automobiles }
				
				set_variable = { workers_fuel_need@token:resource_hydrocarbons = fuel_need_temp@token:resource_hydrocarbons }
				set_variable = { workers_fuel_need@token:resource_electricity = fuel_need_temp@token:resource_electricity }
				
				set_variable = { workers_luxuries_need@token:resource_electronics = luxuries_need_temp@token:resource_electronics }
				set_variable = { workers_luxuries_need@token:resource_computers = luxuries_need_temp@token:resource_computers }
				set_variable = { workers_luxuries_need@token:resource_entertainment = luxuries_need_temp@token:resource_entertainment }
				set_variable = { workers_luxuries_need@token:resource_convoys = luxuries_need_temp@token:resource_convoys }
				set_variable = { workers_luxuries_need@token:resource_airplanes = luxuries_need_temp@token:resource_airplanes }
				
				set_variable = { workers_security_need@token:resource_small_arms = security_need_temp@token:resource_small_arms }
				set_variable = { workers_security_need@token:resource_ammunition = security_need_temp@token:resource_ammunition }
				set_variable = { workers_security_need@token:resource_artillery = security_need_temp@token:resource_artillery }
				set_variable = { workers_security_need@token:resource_tanks = security_need_temp@token:resource_tanks }
				
				set_variable = { workers_finance_need@token:resource_finance = finance_need_temp@token:resource_finance }

				if = {
					limit = {
						check_variable = { workers_amount > 1 }
					}
					set_temp_variable = { cpn_pa_temp = workers_amount }
					divide_temp_variable = { cpn_pa_temp = 100 }

					#Multiply by Pop Amount
					multiply_variable = { workers_needs_spending = cpn_pa_temp }
					multiply_variable = { workers_food_cost = cpn_pa_temp }
					multiply_variable = { workers_housing_cost = cpn_pa_temp }
					multiply_variable = { workers_heating_cost = cpn_pa_temp }
					multiply_variable = { workers_clothing_cost = cpn_pa_temp }
					multiply_variable = { workers_household_cost = cpn_pa_temp }
					multiply_variable = { workers_education_cost = cpn_pa_temp }
					multiply_variable = { workers_healthcare_cost = cpn_pa_temp }
					multiply_variable = { workers_movement_cost = cpn_pa_temp }
					multiply_variable = { workers_fuel_cost = cpn_pa_temp }
					multiply_variable = { workers_luxuries_cost = cpn_pa_temp }
					multiply_variable = { workers_security_cost = cpn_pa_temp }
					multiply_variable = { workers_finance_cost = cpn_pa_temp }

					multiply_variable = { workers_food_need@token:resource_foodstuffs = cpn_pa_temp }
					multiply_variable = { workers_food_need@token:resource_groceries = cpn_pa_temp }
					
					multiply_variable = { workers_housing_need@token:resource_housing = cpn_pa_temp }
					
					multiply_variable = { workers_heating_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { workers_heating_need@token:resource_coal = cpn_pa_temp }
					multiply_variable = { workers_heating_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { workers_clothing_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { workers_clothing_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { workers_clothing_need@token:resource_clothing = cpn_pa_temp }
					
					multiply_variable = { workers_household_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { workers_household_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { workers_household_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { workers_household_need@token:resource_consumer_goods = cpn_pa_temp }
					multiply_variable = { workers_household_need@token:resource_electronics = cpn_pa_temp }
					
					multiply_variable = { workers_education_need@token:resource_basic_education = cpn_pa_temp }
					multiply_variable = { workers_education_need@token:resource_higher_education = cpn_pa_temp }
					
					multiply_variable = { workers_healthcare_need@token:resource_healthcare = cpn_pa_temp }
					multiply_variable = { workers_healthcare_need@token:resource_pharmaceuticals = cpn_pa_temp }
					
					multiply_variable = { workers_movement_need@token:resource_transport = cpn_pa_temp }
					multiply_variable = { workers_movement_need@token:resource_automobiles = cpn_pa_temp }
					
					multiply_variable = { workers_fuel_need@token:resource_hydrocarbons = cpn_pa_temp }
					multiply_variable = { workers_fuel_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { workers_luxuries_need@token:resource_electronics = cpn_pa_temp }
					multiply_variable = { workers_luxuries_need@token:resource_computers = cpn_pa_temp }
					multiply_variable = { workers_luxuries_need@token:resource_entertainment = cpn_pa_temp }
					multiply_variable = { workers_luxuries_need@token:resource_convoys = cpn_pa_temp }
					multiply_variable = { workers_luxuries_need@token:resource_airplanes = cpn_pa_temp }
					
					multiply_variable = { workers_security_need@token:resource_small_arms = cpn_pa_temp }
					multiply_variable = { workers_security_need@token:resource_ammunition = cpn_pa_temp }
					multiply_variable = { workers_security_need@token:resource_artillery = cpn_pa_temp }
					multiply_variable = { workers_security_need@token:resource_tanks = cpn_pa_temp }

					multiply_variable = { workers_finance_need@token:resource_finance = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { workers_needs_spending = workers_amount }
					multiply_variable = { workers_food_cost = workers_amount }
					multiply_variable = { workers_housing_cost = workers_amount }
					multiply_variable = { workers_heating_cost = workers_amount }
					multiply_variable = { workers_clothing_cost = workers_amount }
					multiply_variable = { workers_household_cost = workers_amount }
					multiply_variable = { workers_education_cost = workers_amount }
					multiply_variable = { workers_healthcare_cost = workers_amount }
					multiply_variable = { workers_movement_cost = workers_amount }
					multiply_variable = { workers_fuel_cost = workers_amount }
					multiply_variable = { workers_luxuries_cost = workers_amount }
					multiply_variable = { workers_security_cost = workers_amount }
					multiply_variable = { workers_finance_cost = cpn_pa_temp }

					multiply_variable = { workers_food_need@token:resource_foodstuffs = workers_amount }
					multiply_variable = { workers_food_need@token:resource_groceries = workers_amount }
					
					multiply_variable = { workers_housing_need@token:resource_housing = workers_amount }
					
					multiply_variable = { workers_heating_need@token:resource_lumber = workers_amount }
					multiply_variable = { workers_heating_need@token:resource_coal = workers_amount }
					multiply_variable = { workers_heating_need@token:resource_electricity = workers_amount }
					
					multiply_variable = { workers_clothing_need@token:resource_fiber = workers_amount }
					multiply_variable = { workers_clothing_need@token:resource_fabric = workers_amount }
					multiply_variable = { workers_clothing_need@token:resource_clothing = workers_amount }
					
					multiply_variable = { workers_household_need@token:resource_fiber = workers_amount }
					multiply_variable = { workers_household_need@token:resource_fabric = workers_amount }
					multiply_variable = { workers_household_need@token:resource_lumber = workers_amount }
					multiply_variable = { workers_household_need@token:resource_consumer_goods = workers_amount }
					multiply_variable = { workers_household_need@token:resource_electronics = workers_amount }
					
					multiply_variable = { workers_education_need@token:resource_basic_education = workers_amount }
					multiply_variable = { workers_education_need@token:resource_higher_education = workers_amount }
					
					multiply_variable = { workers_healthcare_need@token:resource_healthcare = workers_amount }
					multiply_variable = { workers_healthcare_need@token:resource_pharmaceuticals = workers_amount }
					
					multiply_variable = { workers_movement_need@token:resource_transport = workers_amount }
					multiply_variable = { workers_movement_need@token:resource_automobiles = workers_amount }
					
					multiply_variable = { workers_fuel_need@token:resource_hydrocarbons = workers_amount }
					multiply_variable = { workers_fuel_need@token:resource_electricity = workers_amount }
					
					multiply_variable = { workers_luxuries_need@token:resource_electronics = workers_amount }
					multiply_variable = { workers_luxuries_need@token:resource_computers = workers_amount }
					multiply_variable = { workers_luxuries_need@token:resource_entertainment = workers_amount }
					multiply_variable = { workers_luxuries_need@token:resource_convoys = workers_amount }
					multiply_variable = { workers_luxuries_need@token:resource_airplanes = workers_amount }
					
					multiply_variable = { workers_security_need@token:resource_small_arms = workers_amount }
					multiply_variable = { workers_security_need@token:resource_ammunition = workers_amount }
					multiply_variable = { workers_security_need@token:resource_artillery = workers_amount }
					multiply_variable = { workers_security_need@token:resource_tanks = workers_amount }

					multiply_variable = { workers_finance_need@token:resource_finance = workers_amount }

					#Divide by 100
					divide_variable = { workers_needs_spending = 100 }
					divide_variable = { workers_food_cost = 100 }
					divide_variable = { workers_housing_cost = 100 }
					divide_variable = { workers_heating_cost = 100 }
					divide_variable = { workers_clothing_cost = 100 }
					divide_variable = { workers_household_cost = 100 }
					divide_variable = { workers_education_cost = 100 }
					divide_variable = { workers_healthcare_cost = 100 }
					divide_variable = { workers_movement_cost = 100 }
					divide_variable = { workers_fuel_cost = 100 }
					divide_variable = { workers_luxuries_cost = 100 }
					divide_variable = { workers_security_cost = 100 }
					divide_variable = { workers_finance_cost = 100 }

					divide_variable = { workers_food_need@token:resource_foodstuffs = 100 }
					divide_variable = { workers_food_need@token:resource_groceries = 100 }
					
					divide_variable = { workers_housing_need@token:resource_housing = 100 }
					
					divide_variable = { workers_heating_need@token:resource_lumber = 100 }
					divide_variable = { workers_heating_need@token:resource_coal = 100 }
					divide_variable = { workers_heating_need@token:resource_electricity = 100 }
					
					divide_variable = { workers_clothing_need@token:resource_fiber = 100 }
					divide_variable = { workers_clothing_need@token:resource_fabric = 100 }
					divide_variable = { workers_clothing_need@token:resource_clothing = 100 }
					
					divide_variable = { workers_household_need@token:resource_fiber = 100 }
					divide_variable = { workers_household_need@token:resource_fabric = 100 }
					divide_variable = { workers_household_need@token:resource_lumber = 100 }
					divide_variable = { workers_household_need@token:resource_consumer_goods = 100 }
					divide_variable = { workers_household_need@token:resource_electronics = 100 }
					
					divide_variable = { workers_education_need@token:resource_basic_education = 100 }
					divide_variable = { workers_education_need@token:resource_higher_education = 100 }
					
					divide_variable = { workers_healthcare_need@token:resource_healthcare = 100 }
					divide_variable = { workers_healthcare_need@token:resource_pharmaceuticals = 100 }
					
					divide_variable = { workers_movement_need@token:resource_transport = 100 }
					divide_variable = { workers_movement_need@token:resource_automobiles = 100 }
					
					divide_variable = { workers_fuel_need@token:resource_hydrocarbons = 100 }
					divide_variable = { workers_fuel_need@token:resource_electricity = 100 }
					
					divide_variable = { workers_luxuries_need@token:resource_electronics = 100 }
					divide_variable = { workers_luxuries_need@token:resource_computers = 100 }
					divide_variable = { workers_luxuries_need@token:resource_entertainment = 100 }
					divide_variable = { workers_luxuries_need@token:resource_convoys = 100 }
					divide_variable = { workers_luxuries_need@token:resource_airplanes = 100 }
					
					divide_variable = { workers_security_need@token:resource_small_arms = 100 }
					divide_variable = { workers_security_need@token:resource_ammunition = 100 }
					divide_variable = { workers_security_need@token:resource_artillery = 100 }
					divide_variable = { workers_security_need@token:resource_tanks = 100 }

					divide_variable = { workers_finance_need@token:resource_finance = 100 }
				}
			}
			else = {
				clear_variable = workers_needs_spending
				clear_variable = workers_food_cost
				clear_variable = workers_housing_cost
				clear_variable = workers_heating_cost
				clear_variable = workers_clothing_cost
				clear_variable = workers_household_cost
				clear_variable = workers_education_cost
				clear_variable = workers_healthcare_cost
				clear_variable = workers_movement_cost
				clear_variable = workers_fuel_cost
				clear_variable = workers_luxuries_cost
				clear_variable = workers_security_cost
				
				clear_variable = workers_food_need@token:resource_foodstuffs
				clear_variable = workers_food_need@token:resource_groceries
				
				clear_variable = workers_housing_need@token:resource_housing
				
				clear_variable = workers_heating_need@token:resource_lumber
				clear_variable = workers_heating_need@token:resource_coal
				clear_variable = workers_heating_need@token:resource_electricity
				
				clear_variable = workers_clothing_need@token:resource_fiber
				clear_variable = workers_clothing_need@token:resource_fabric
				clear_variable = workers_clothing_need@token:resource_clothing
				
				clear_variable = workers_household_need@token:resource_fiber
				clear_variable = workers_household_need@token:resource_fabric
				clear_variable = workers_household_need@token:resource_lumber
				clear_variable = workers_household_need@token:resource_consumer_goods
				clear_variable = workers_household_need@token:resource_electronics
				
				clear_variable = workers_education_need@token:resource_basic_education
				clear_variable = workers_education_need@token:resource_higher_education
				
				clear_variable = workers_healthcare_need@token:resource_healthcare
				clear_variable = workers_healthcare_need@token:resource_pharmaceuticals
				
				clear_variable = workers_movement_need@token:resource_transport
				clear_variable = workers_movement_need@token:resource_automobiles
				
				clear_variable = workers_fuel_need@token:resource_hydrocarbons
				clear_variable = workers_fuel_need@token:resource_electricity
				
				clear_variable = workers_luxuries_need@token:resource_electronics
				clear_variable = workers_luxuries_need@token:resource_computers
				clear_variable = workers_luxuries_need@token:resource_entertainment
				clear_variable = workers_luxuries_need@token:resource_convoys
				clear_variable = workers_luxuries_need@token:resource_airplanes
				
				clear_variable = workers_security_need@token:resource_small_arms
				clear_variable = workers_security_need@token:resource_ammunition
				clear_variable = workers_security_need@token:resource_artillery
				clear_variable = workers_security_need@token:resource_tanks

				clear_variable = workers_finance_need@token:resource_finance
			}
			
		#
		#Professionals
			if = {
				limit = {
					check_variable = { professionals_amount > 0 }
				}

				set_temp_variable = { sol_temp = professionals_sol }
				get_pop_needs = yes

				set_variable = { professionals_needs_spending = total_cost_temp }
				set_variable = { professionals_food_cost = food_cost_temp }
				set_variable = { professionals_housing_cost = housing_cost_temp }
				set_variable = { professionals_heating_cost = heating_cost_temp }
				set_variable = { professionals_clothing_cost = clothing_cost_temp }
				set_variable = { professionals_household_cost = household_cost_temp }
				set_variable = { professionals_education_cost = education_cost_temp }
				set_variable = { professionals_healthcare_cost = healthcare_cost_temp }
				set_variable = { professionals_movement_cost = movement_cost_temp }
				set_variable = { professionals_fuel_cost = fuel_cost_temp }
				set_variable = { professionals_luxuries_cost = luxuries_cost_temp }
				set_variable = { professionals_security_cost = security_cost_temp }
				set_variable = { professionals_finance_cost = finance_cost_temp }
				
				set_variable = { professionals_food_need@token:resource_foodstuffs = food_need_temp@token:resource_foodstuffs }
				set_variable = { professionals_food_need@token:resource_groceries = food_need_temp@token:resource_groceries }
				
				set_variable = { professionals_housing_need@token:resource_housing = housing_need_temp@token:resource_housing }
				
				set_variable = { professionals_heating_need@token:resource_lumber = heating_need_temp@token:resource_lumber }
				set_variable = { professionals_heating_need@token:resource_coal = heating_need_temp@token:resource_coal }
				set_variable = { professionals_heating_need@token:resource_electricity = heating_need_temp@token:resource_electricity }
				
				set_variable = { professionals_clothing_need@token:resource_fiber = clothing_need_temp@token:resource_fiber }
				set_variable = { professionals_clothing_need@token:resource_fabric = clothing_need_temp@token:resource_fabric }
				set_variable = { professionals_clothing_need@token:resource_clothing = clothing_need_temp@token:resource_clothing }
				
				set_variable = { professionals_household_need@token:resource_fiber = household_need_temp@token:resource_fiber }
				set_variable = { professionals_household_need@token:resource_fabric = household_need_temp@token:resource_fabric }
				set_variable = { professionals_household_need@token:resource_lumber = household_need_temp@token:resource_lumber }
				set_variable = { professionals_household_need@token:resource_consumer_goods = household_need_temp@token:resource_consumer_goods }
				set_variable = { professionals_household_need@token:resource_electronics = household_need_temp@token:resource_electronics }
				
				set_variable = { professionals_education_need@token:resource_basic_education = education_need_temp@token:resource_basic_education }
				set_variable = { professionals_education_need@token:resource_higher_education = education_need_temp@token:resource_higher_education }
				
				set_variable = { professionals_healthcare_need@token:resource_healthcare = healthcare_need_temp@token:resource_healthcare }
				set_variable = { professionals_healthcare_need@token:resource_pharmaceuticals = healthcare_need_temp@token:resource_pharmaceuticals }
				
				set_variable = { professionals_movement_need@token:resource_transport = movement_need_temp@token:resource_transport }
				set_variable = { professionals_movement_need@token:resource_automobiles = movement_need_temp@token:resource_automobiles }
				
				set_variable = { professionals_fuel_need@token:resource_hydrocarbons = fuel_need_temp@token:resource_hydrocarbons }
				set_variable = { professionals_fuel_need@token:resource_electricity = fuel_need_temp@token:resource_electricity }
				
				set_variable = { professionals_luxuries_need@token:resource_electronics = luxuries_need_temp@token:resource_electronics }
				set_variable = { professionals_luxuries_need@token:resource_computers = luxuries_need_temp@token:resource_computers }
				set_variable = { professionals_luxuries_need@token:resource_entertainment = luxuries_need_temp@token:resource_entertainment }
				set_variable = { professionals_luxuries_need@token:resource_convoys = luxuries_need_temp@token:resource_convoys }
				set_variable = { professionals_luxuries_need@token:resource_airplanes = luxuries_need_temp@token:resource_airplanes }
				
				set_variable = { professionals_security_need@token:resource_small_arms = security_need_temp@token:resource_small_arms }
				set_variable = { professionals_security_need@token:resource_ammunition = security_need_temp@token:resource_ammunition }
				set_variable = { professionals_security_need@token:resource_artillery = security_need_temp@token:resource_artillery }
				set_variable = { professionals_security_need@token:resource_tanks = security_need_temp@token:resource_tanks }
				
				set_variable = { professionals_finance_need@token:resource_finance = finance_need_temp@token:resource_finance }

				if = {
					limit = {
						check_variable = { professionals_amount > 1 }
					}
					set_temp_variable = { cpn_pa_temp = professionals_amount }
					divide_temp_variable = { cpn_pa_temp = 100 }

					#Multiply by Pop Amount
					multiply_variable = { professionals_needs_spending = cpn_pa_temp }
					multiply_variable = { professionals_food_cost = cpn_pa_temp }
					multiply_variable = { professionals_housing_cost = cpn_pa_temp }
					multiply_variable = { professionals_heating_cost = cpn_pa_temp }
					multiply_variable = { professionals_clothing_cost = cpn_pa_temp }
					multiply_variable = { professionals_household_cost = cpn_pa_temp }
					multiply_variable = { professionals_education_cost = cpn_pa_temp }
					multiply_variable = { professionals_healthcare_cost = cpn_pa_temp }
					multiply_variable = { professionals_movement_cost = cpn_pa_temp }
					multiply_variable = { professionals_fuel_cost = cpn_pa_temp }
					multiply_variable = { professionals_luxuries_cost = cpn_pa_temp }
					multiply_variable = { professionals_security_cost = cpn_pa_temp }
					multiply_variable = { professionals_finance_cost = cpn_pa_temp }

					multiply_variable = { professionals_food_need@token:resource_foodstuffs = cpn_pa_temp }
					multiply_variable = { professionals_food_need@token:resource_groceries = cpn_pa_temp }
					
					multiply_variable = { professionals_housing_need@token:resource_housing = cpn_pa_temp }
					
					multiply_variable = { professionals_heating_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { professionals_heating_need@token:resource_coal = cpn_pa_temp }
					multiply_variable = { professionals_heating_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { professionals_clothing_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { professionals_clothing_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { professionals_clothing_need@token:resource_clothing = cpn_pa_temp }
					
					multiply_variable = { professionals_household_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { professionals_household_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { professionals_household_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { professionals_household_need@token:resource_consumer_goods = cpn_pa_temp }
					multiply_variable = { professionals_household_need@token:resource_electronics = cpn_pa_temp }
					
					multiply_variable = { professionals_education_need@token:resource_basic_education = cpn_pa_temp }
					multiply_variable = { professionals_education_need@token:resource_higher_education = cpn_pa_temp }
					
					multiply_variable = { professionals_healthcare_need@token:resource_healthcare = cpn_pa_temp }
					multiply_variable = { professionals_healthcare_need@token:resource_pharmaceuticals = cpn_pa_temp }
					
					multiply_variable = { professionals_movement_need@token:resource_transport = cpn_pa_temp }
					multiply_variable = { professionals_movement_need@token:resource_automobiles = cpn_pa_temp }
					
					multiply_variable = { professionals_fuel_need@token:resource_hydrocarbons = cpn_pa_temp }
					multiply_variable = { professionals_fuel_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { professionals_luxuries_need@token:resource_electronics = cpn_pa_temp }
					multiply_variable = { professionals_luxuries_need@token:resource_computers = cpn_pa_temp }
					multiply_variable = { professionals_luxuries_need@token:resource_entertainment = cpn_pa_temp }
					multiply_variable = { professionals_luxuries_need@token:resource_convoys = cpn_pa_temp }
					multiply_variable = { professionals_luxuries_need@token:resource_airplanes = cpn_pa_temp }
					
					multiply_variable = { professionals_security_need@token:resource_small_arms = cpn_pa_temp }
					multiply_variable = { professionals_security_need@token:resource_ammunition = cpn_pa_temp }
					multiply_variable = { professionals_security_need@token:resource_artillery = cpn_pa_temp }
					multiply_variable = { professionals_security_need@token:resource_tanks = cpn_pa_temp }

					multiply_variable = { professionals_finance_need@token:resource_finance = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { professionals_needs_spending = professionals_amount }
					multiply_variable = { professionals_food_cost = professionals_amount }
					multiply_variable = { professionals_housing_cost = professionals_amount }
					multiply_variable = { professionals_heating_cost = professionals_amount }
					multiply_variable = { professionals_clothing_cost = professionals_amount }
					multiply_variable = { professionals_household_cost = professionals_amount }
					multiply_variable = { professionals_education_cost = professionals_amount }
					multiply_variable = { professionals_healthcare_cost = professionals_amount }
					multiply_variable = { professionals_movement_cost = professionals_amount }
					multiply_variable = { professionals_fuel_cost = professionals_amount }
					multiply_variable = { professionals_luxuries_cost = professionals_amount }
					multiply_variable = { professionals_security_cost = professionals_amount }
					multiply_variable = { professionals_finance_cost = cpn_pa_temp }

					multiply_variable = { professionals_food_need@token:resource_foodstuffs = professionals_amount }
					multiply_variable = { professionals_food_need@token:resource_groceries = professionals_amount }
					
					multiply_variable = { professionals_housing_need@token:resource_housing = professionals_amount }
					
					multiply_variable = { professionals_heating_need@token:resource_lumber = professionals_amount }
					multiply_variable = { professionals_heating_need@token:resource_coal = professionals_amount }
					multiply_variable = { professionals_heating_need@token:resource_electricity = professionals_amount }
					
					multiply_variable = { professionals_clothing_need@token:resource_fiber = professionals_amount }
					multiply_variable = { professionals_clothing_need@token:resource_fabric = professionals_amount }
					multiply_variable = { professionals_clothing_need@token:resource_clothing = professionals_amount }
					
					multiply_variable = { professionals_household_need@token:resource_fiber = professionals_amount }
					multiply_variable = { professionals_household_need@token:resource_fabric = professionals_amount }
					multiply_variable = { professionals_household_need@token:resource_lumber = professionals_amount }
					multiply_variable = { professionals_household_need@token:resource_consumer_goods = professionals_amount }
					multiply_variable = { professionals_household_need@token:resource_electronics = professionals_amount }
					
					multiply_variable = { professionals_education_need@token:resource_basic_education = professionals_amount }
					multiply_variable = { professionals_education_need@token:resource_higher_education = professionals_amount }
					
					multiply_variable = { professionals_healthcare_need@token:resource_healthcare = professionals_amount }
					multiply_variable = { professionals_healthcare_need@token:resource_pharmaceuticals = professionals_amount }
					
					multiply_variable = { professionals_movement_need@token:resource_transport = professionals_amount }
					multiply_variable = { professionals_movement_need@token:resource_automobiles = professionals_amount }
					
					multiply_variable = { professionals_fuel_need@token:resource_hydrocarbons = professionals_amount }
					multiply_variable = { professionals_fuel_need@token:resource_electricity = professionals_amount }
					
					multiply_variable = { professionals_luxuries_need@token:resource_electronics = professionals_amount }
					multiply_variable = { professionals_luxuries_need@token:resource_computers = professionals_amount }
					multiply_variable = { professionals_luxuries_need@token:resource_entertainment = professionals_amount }
					multiply_variable = { professionals_luxuries_need@token:resource_convoys = professionals_amount }
					multiply_variable = { professionals_luxuries_need@token:resource_airplanes = professionals_amount }
					
					multiply_variable = { professionals_security_need@token:resource_small_arms = professionals_amount }
					multiply_variable = { professionals_security_need@token:resource_ammunition = professionals_amount }
					multiply_variable = { professionals_security_need@token:resource_artillery = professionals_amount }
					multiply_variable = { professionals_security_need@token:resource_tanks = professionals_amount }

					multiply_variable = { professionals_finance_need@token:resource_finance = professionals_amount }

					#Divide by 100
					divide_variable = { professionals_needs_spending = 100 }
					divide_variable = { professionals_food_cost = 100 }
					divide_variable = { professionals_housing_cost = 100 }
					divide_variable = { professionals_heating_cost = 100 }
					divide_variable = { professionals_clothing_cost = 100 }
					divide_variable = { professionals_household_cost = 100 }
					divide_variable = { professionals_education_cost = 100 }
					divide_variable = { professionals_healthcare_cost = 100 }
					divide_variable = { professionals_movement_cost = 100 }
					divide_variable = { professionals_fuel_cost = 100 }
					divide_variable = { professionals_luxuries_cost = 100 }
					divide_variable = { professionals_security_cost = 100 }
					divide_variable = { professionals_finance_cost = 100 }

					divide_variable = { professionals_food_need@token:resource_foodstuffs = 100 }
					divide_variable = { professionals_food_need@token:resource_groceries = 100 }
					
					divide_variable = { professionals_housing_need@token:resource_housing = 100 }
					
					divide_variable = { professionals_heating_need@token:resource_lumber = 100 }
					divide_variable = { professionals_heating_need@token:resource_coal = 100 }
					divide_variable = { professionals_heating_need@token:resource_electricity = 100 }
					
					divide_variable = { professionals_clothing_need@token:resource_fiber = 100 }
					divide_variable = { professionals_clothing_need@token:resource_fabric = 100 }
					divide_variable = { professionals_clothing_need@token:resource_clothing = 100 }
					
					divide_variable = { professionals_household_need@token:resource_fiber = 100 }
					divide_variable = { professionals_household_need@token:resource_fabric = 100 }
					divide_variable = { professionals_household_need@token:resource_lumber = 100 }
					divide_variable = { professionals_household_need@token:resource_consumer_goods = 100 }
					divide_variable = { professionals_household_need@token:resource_electronics = 100 }
					
					divide_variable = { professionals_education_need@token:resource_basic_education = 100 }
					divide_variable = { professionals_education_need@token:resource_higher_education = 100 }
					
					divide_variable = { professionals_healthcare_need@token:resource_healthcare = 100 }
					divide_variable = { professionals_healthcare_need@token:resource_pharmaceuticals = 100 }
					
					divide_variable = { professionals_movement_need@token:resource_transport = 100 }
					divide_variable = { professionals_movement_need@token:resource_automobiles = 100 }
					
					divide_variable = { professionals_fuel_need@token:resource_hydrocarbons = 100 }
					divide_variable = { professionals_fuel_need@token:resource_electricity = 100 }
					
					divide_variable = { professionals_luxuries_need@token:resource_electronics = 100 }
					divide_variable = { professionals_luxuries_need@token:resource_computers = 100 }
					divide_variable = { professionals_luxuries_need@token:resource_entertainment = 100 }
					divide_variable = { professionals_luxuries_need@token:resource_convoys = 100 }
					divide_variable = { professionals_luxuries_need@token:resource_airplanes = 100 }
					
					divide_variable = { professionals_security_need@token:resource_small_arms = 100 }
					divide_variable = { professionals_security_need@token:resource_ammunition = 100 }
					divide_variable = { professionals_security_need@token:resource_artillery = 100 }
					divide_variable = { professionals_security_need@token:resource_tanks = 100 }

					divide_variable = { professionals_finance_need@token:resource_finance = 100 }
				}
			}
			else = {
				clear_variable = professionals_needs_spending
				clear_variable = professionals_food_cost
				clear_variable = professionals_housing_cost
				clear_variable = professionals_heating_cost
				clear_variable = professionals_clothing_cost
				clear_variable = professionals_household_cost
				clear_variable = professionals_education_cost
				clear_variable = professionals_healthcare_cost
				clear_variable = professionals_movement_cost
				clear_variable = professionals_fuel_cost
				clear_variable = professionals_luxuries_cost
				clear_variable = professionals_security_cost
				
				clear_variable = professionals_food_need@token:resource_foodstuffs
				clear_variable = professionals_food_need@token:resource_groceries
				
				clear_variable = professionals_housing_need@token:resource_housing
				
				clear_variable = professionals_heating_need@token:resource_lumber
				clear_variable = professionals_heating_need@token:resource_coal
				clear_variable = professionals_heating_need@token:resource_electricity
				
				clear_variable = professionals_clothing_need@token:resource_fiber
				clear_variable = professionals_clothing_need@token:resource_fabric
				clear_variable = professionals_clothing_need@token:resource_clothing
				
				clear_variable = professionals_household_need@token:resource_fiber
				clear_variable = professionals_household_need@token:resource_fabric
				clear_variable = professionals_household_need@token:resource_lumber
				clear_variable = professionals_household_need@token:resource_consumer_goods
				clear_variable = professionals_household_need@token:resource_electronics
				
				clear_variable = professionals_education_need@token:resource_basic_education
				clear_variable = professionals_education_need@token:resource_higher_education
				
				clear_variable = professionals_healthcare_need@token:resource_healthcare
				clear_variable = professionals_healthcare_need@token:resource_pharmaceuticals
				
				clear_variable = professionals_movement_need@token:resource_transport
				clear_variable = professionals_movement_need@token:resource_automobiles
				
				clear_variable = professionals_fuel_need@token:resource_hydrocarbons
				clear_variable = professionals_fuel_need@token:resource_electricity
				
				clear_variable = professionals_luxuries_need@token:resource_electronics
				clear_variable = professionals_luxuries_need@token:resource_computers
				clear_variable = professionals_luxuries_need@token:resource_entertainment
				clear_variable = professionals_luxuries_need@token:resource_convoys
				clear_variable = professionals_luxuries_need@token:resource_airplanes
				
				clear_variable = professionals_security_need@token:resource_small_arms
				clear_variable = professionals_security_need@token:resource_ammunition
				clear_variable = professionals_security_need@token:resource_artillery
				clear_variable = professionals_security_need@token:resource_tanks

				clear_variable = professionals_finance_need@token:resource_finance
			}
			
		#
		#Elites
			if = {
				limit = {
					check_variable = { elites_amount > 0 }
				}

				set_temp_variable = { sol_temp = elites_sol }
				get_pop_needs = yes

				set_variable = { elites_needs_spending = total_cost_temp }
				set_variable = { elites_food_cost = food_cost_temp }
				set_variable = { elites_housing_cost = housing_cost_temp }
				set_variable = { elites_heating_cost = heating_cost_temp }
				set_variable = { elites_clothing_cost = clothing_cost_temp }
				set_variable = { elites_household_cost = household_cost_temp }
				set_variable = { elites_education_cost = education_cost_temp }
				set_variable = { elites_healthcare_cost = healthcare_cost_temp }
				set_variable = { elites_movement_cost = movement_cost_temp }
				set_variable = { elites_fuel_cost = fuel_cost_temp }
				set_variable = { elites_luxuries_cost = luxuries_cost_temp }
				set_variable = { elites_security_cost = security_cost_temp }
				set_variable = { elites_finance_cost = finance_cost_temp }
				
				set_variable = { elites_food_need@token:resource_foodstuffs = food_need_temp@token:resource_foodstuffs }
				set_variable = { elites_food_need@token:resource_groceries = food_need_temp@token:resource_groceries }
				
				set_variable = { elites_housing_need@token:resource_housing = housing_need_temp@token:resource_housing }
				
				set_variable = { elites_heating_need@token:resource_lumber = heating_need_temp@token:resource_lumber }
				set_variable = { elites_heating_need@token:resource_coal = heating_need_temp@token:resource_coal }
				set_variable = { elites_heating_need@token:resource_electricity = heating_need_temp@token:resource_electricity }
				
				set_variable = { elites_clothing_need@token:resource_fiber = clothing_need_temp@token:resource_fiber }
				set_variable = { elites_clothing_need@token:resource_fabric = clothing_need_temp@token:resource_fabric }
				set_variable = { elites_clothing_need@token:resource_clothing = clothing_need_temp@token:resource_clothing }
				
				set_variable = { elites_household_need@token:resource_fiber = household_need_temp@token:resource_fiber }
				set_variable = { elites_household_need@token:resource_fabric = household_need_temp@token:resource_fabric }
				set_variable = { elites_household_need@token:resource_lumber = household_need_temp@token:resource_lumber }
				set_variable = { elites_household_need@token:resource_consumer_goods = household_need_temp@token:resource_consumer_goods }
				set_variable = { elites_household_need@token:resource_electronics = household_need_temp@token:resource_electronics }
				
				set_variable = { elites_education_need@token:resource_basic_education = education_need_temp@token:resource_basic_education }
				set_variable = { elites_education_need@token:resource_higher_education = education_need_temp@token:resource_higher_education }
				
				set_variable = { elites_healthcare_need@token:resource_healthcare = healthcare_need_temp@token:resource_healthcare }
				set_variable = { elites_healthcare_need@token:resource_pharmaceuticals = healthcare_need_temp@token:resource_pharmaceuticals }
				
				set_variable = { elites_movement_need@token:resource_transport = movement_need_temp@token:resource_transport }
				set_variable = { elites_movement_need@token:resource_automobiles = movement_need_temp@token:resource_automobiles }
				
				set_variable = { elites_fuel_need@token:resource_hydrocarbons = fuel_need_temp@token:resource_hydrocarbons }
				set_variable = { elites_fuel_need@token:resource_electricity = fuel_need_temp@token:resource_electricity }
				
				set_variable = { elites_luxuries_need@token:resource_electronics = luxuries_need_temp@token:resource_electronics }
				set_variable = { elites_luxuries_need@token:resource_computers = luxuries_need_temp@token:resource_computers }
				set_variable = { elites_luxuries_need@token:resource_entertainment = luxuries_need_temp@token:resource_entertainment }
				set_variable = { elites_luxuries_need@token:resource_convoys = luxuries_need_temp@token:resource_convoys }
				set_variable = { elites_luxuries_need@token:resource_airplanes = luxuries_need_temp@token:resource_airplanes }
				
				set_variable = { elites_security_need@token:resource_small_arms = security_need_temp@token:resource_small_arms }
				set_variable = { elites_security_need@token:resource_ammunition = security_need_temp@token:resource_ammunition }
				set_variable = { elites_security_need@token:resource_artillery = security_need_temp@token:resource_artillery }
				set_variable = { elites_security_need@token:resource_tanks = security_need_temp@token:resource_tanks }
				
				set_variable = { elites_finance_need@token:resource_finance = finance_need_temp@token:resource_finance }

				if = {
					limit = {
						check_variable = { elites_amount > 1 }
					}
					set_temp_variable = { cpn_pa_temp = elites_amount }
					divide_temp_variable = { cpn_pa_temp = 100 }

					#Multiply by Pop Amount
					multiply_variable = { elites_needs_spending = cpn_pa_temp }
					multiply_variable = { elites_food_cost = cpn_pa_temp }
					multiply_variable = { elites_housing_cost = cpn_pa_temp }
					multiply_variable = { elites_heating_cost = cpn_pa_temp }
					multiply_variable = { elites_clothing_cost = cpn_pa_temp }
					multiply_variable = { elites_household_cost = cpn_pa_temp }
					multiply_variable = { elites_education_cost = cpn_pa_temp }
					multiply_variable = { elites_healthcare_cost = cpn_pa_temp }
					multiply_variable = { elites_movement_cost = cpn_pa_temp }
					multiply_variable = { elites_fuel_cost = cpn_pa_temp }
					multiply_variable = { elites_luxuries_cost = cpn_pa_temp }
					multiply_variable = { elites_security_cost = cpn_pa_temp }
					multiply_variable = { elites_finance_cost = cpn_pa_temp }

					multiply_variable = { elites_food_need@token:resource_foodstuffs = cpn_pa_temp }
					multiply_variable = { elites_food_need@token:resource_groceries = cpn_pa_temp }
					
					multiply_variable = { elites_housing_need@token:resource_housing = cpn_pa_temp }
					
					multiply_variable = { elites_heating_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { elites_heating_need@token:resource_coal = cpn_pa_temp }
					multiply_variable = { elites_heating_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { elites_clothing_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { elites_clothing_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { elites_clothing_need@token:resource_clothing = cpn_pa_temp }
					
					multiply_variable = { elites_household_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { elites_household_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { elites_household_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { elites_household_need@token:resource_consumer_goods = cpn_pa_temp }
					multiply_variable = { elites_household_need@token:resource_electronics = cpn_pa_temp }
					
					multiply_variable = { elites_education_need@token:resource_basic_education = cpn_pa_temp }
					multiply_variable = { elites_education_need@token:resource_higher_education = cpn_pa_temp }
					
					multiply_variable = { elites_healthcare_need@token:resource_healthcare = cpn_pa_temp }
					multiply_variable = { elites_healthcare_need@token:resource_pharmaceuticals = cpn_pa_temp }
					
					multiply_variable = { elites_movement_need@token:resource_transport = cpn_pa_temp }
					multiply_variable = { elites_movement_need@token:resource_automobiles = cpn_pa_temp }
					
					multiply_variable = { elites_fuel_need@token:resource_hydrocarbons = cpn_pa_temp }
					multiply_variable = { elites_fuel_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { elites_luxuries_need@token:resource_electronics = cpn_pa_temp }
					multiply_variable = { elites_luxuries_need@token:resource_computers = cpn_pa_temp }
					multiply_variable = { elites_luxuries_need@token:resource_entertainment = cpn_pa_temp }
					multiply_variable = { elites_luxuries_need@token:resource_convoys = cpn_pa_temp }
					multiply_variable = { elites_luxuries_need@token:resource_airplanes = cpn_pa_temp }
					
					multiply_variable = { elites_security_need@token:resource_small_arms = cpn_pa_temp }
					multiply_variable = { elites_security_need@token:resource_ammunition = cpn_pa_temp }
					multiply_variable = { elites_security_need@token:resource_artillery = cpn_pa_temp }
					multiply_variable = { elites_security_need@token:resource_tanks = cpn_pa_temp }

					multiply_variable = { elites_finance_need@token:resource_finance = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { elites_needs_spending = elites_amount }
					multiply_variable = { elites_food_cost = elites_amount }
					multiply_variable = { elites_housing_cost = elites_amount }
					multiply_variable = { elites_heating_cost = elites_amount }
					multiply_variable = { elites_clothing_cost = elites_amount }
					multiply_variable = { elites_household_cost = elites_amount }
					multiply_variable = { elites_education_cost = elites_amount }
					multiply_variable = { elites_healthcare_cost = elites_amount }
					multiply_variable = { elites_movement_cost = elites_amount }
					multiply_variable = { elites_fuel_cost = elites_amount }
					multiply_variable = { elites_luxuries_cost = elites_amount }
					multiply_variable = { elites_security_cost = elites_amount }
					multiply_variable = { elites_finance_cost = cpn_pa_temp }

					multiply_variable = { elites_food_need@token:resource_foodstuffs = elites_amount }
					multiply_variable = { elites_food_need@token:resource_groceries = elites_amount }
					
					multiply_variable = { elites_housing_need@token:resource_housing = elites_amount }
					
					multiply_variable = { elites_heating_need@token:resource_lumber = elites_amount }
					multiply_variable = { elites_heating_need@token:resource_coal = elites_amount }
					multiply_variable = { elites_heating_need@token:resource_electricity = elites_amount }
					
					multiply_variable = { elites_clothing_need@token:resource_fiber = elites_amount }
					multiply_variable = { elites_clothing_need@token:resource_fabric = elites_amount }
					multiply_variable = { elites_clothing_need@token:resource_clothing = elites_amount }
					
					multiply_variable = { elites_household_need@token:resource_fiber = elites_amount }
					multiply_variable = { elites_household_need@token:resource_fabric = elites_amount }
					multiply_variable = { elites_household_need@token:resource_lumber = elites_amount }
					multiply_variable = { elites_household_need@token:resource_consumer_goods = elites_amount }
					multiply_variable = { elites_household_need@token:resource_electronics = elites_amount }
					
					multiply_variable = { elites_education_need@token:resource_basic_education = elites_amount }
					multiply_variable = { elites_education_need@token:resource_higher_education = elites_amount }
					
					multiply_variable = { elites_healthcare_need@token:resource_healthcare = elites_amount }
					multiply_variable = { elites_healthcare_need@token:resource_pharmaceuticals = elites_amount }
					
					multiply_variable = { elites_movement_need@token:resource_transport = elites_amount }
					multiply_variable = { elites_movement_need@token:resource_automobiles = elites_amount }
					
					multiply_variable = { elites_fuel_need@token:resource_hydrocarbons = elites_amount }
					multiply_variable = { elites_fuel_need@token:resource_electricity = elites_amount }
					
					multiply_variable = { elites_luxuries_need@token:resource_electronics = elites_amount }
					multiply_variable = { elites_luxuries_need@token:resource_computers = elites_amount }
					multiply_variable = { elites_luxuries_need@token:resource_entertainment = elites_amount }
					multiply_variable = { elites_luxuries_need@token:resource_convoys = elites_amount }
					multiply_variable = { elites_luxuries_need@token:resource_airplanes = elites_amount }
					
					multiply_variable = { elites_security_need@token:resource_small_arms = elites_amount }
					multiply_variable = { elites_security_need@token:resource_ammunition = elites_amount }
					multiply_variable = { elites_security_need@token:resource_artillery = elites_amount }
					multiply_variable = { elites_security_need@token:resource_tanks = elites_amount }

					multiply_variable = { elites_finance_need@token:resource_finance = elites_amount }

					#Divide by 100
					divide_variable = { elites_needs_spending = 100 }
					divide_variable = { elites_food_cost = 100 }
					divide_variable = { elites_housing_cost = 100 }
					divide_variable = { elites_heating_cost = 100 }
					divide_variable = { elites_clothing_cost = 100 }
					divide_variable = { elites_household_cost = 100 }
					divide_variable = { elites_education_cost = 100 }
					divide_variable = { elites_healthcare_cost = 100 }
					divide_variable = { elites_movement_cost = 100 }
					divide_variable = { elites_fuel_cost = 100 }
					divide_variable = { elites_luxuries_cost = 100 }
					divide_variable = { elites_security_cost = 100 }
					divide_variable = { elites_finance_cost = 100 }

					divide_variable = { elites_food_need@token:resource_foodstuffs = 100 }
					divide_variable = { elites_food_need@token:resource_groceries = 100 }
					
					divide_variable = { elites_housing_need@token:resource_housing = 100 }
					
					divide_variable = { elites_heating_need@token:resource_lumber = 100 }
					divide_variable = { elites_heating_need@token:resource_coal = 100 }
					divide_variable = { elites_heating_need@token:resource_electricity = 100 }
					
					divide_variable = { elites_clothing_need@token:resource_fiber = 100 }
					divide_variable = { elites_clothing_need@token:resource_fabric = 100 }
					divide_variable = { elites_clothing_need@token:resource_clothing = 100 }
					
					divide_variable = { elites_household_need@token:resource_fiber = 100 }
					divide_variable = { elites_household_need@token:resource_fabric = 100 }
					divide_variable = { elites_household_need@token:resource_lumber = 100 }
					divide_variable = { elites_household_need@token:resource_consumer_goods = 100 }
					divide_variable = { elites_household_need@token:resource_electronics = 100 }
					
					divide_variable = { elites_education_need@token:resource_basic_education = 100 }
					divide_variable = { elites_education_need@token:resource_higher_education = 100 }
					
					divide_variable = { elites_healthcare_need@token:resource_healthcare = 100 }
					divide_variable = { elites_healthcare_need@token:resource_pharmaceuticals = 100 }
					
					divide_variable = { elites_movement_need@token:resource_transport = 100 }
					divide_variable = { elites_movement_need@token:resource_automobiles = 100 }
					
					divide_variable = { elites_fuel_need@token:resource_hydrocarbons = 100 }
					divide_variable = { elites_fuel_need@token:resource_electricity = 100 }
					
					divide_variable = { elites_luxuries_need@token:resource_electronics = 100 }
					divide_variable = { elites_luxuries_need@token:resource_computers = 100 }
					divide_variable = { elites_luxuries_need@token:resource_entertainment = 100 }
					divide_variable = { elites_luxuries_need@token:resource_convoys = 100 }
					divide_variable = { elites_luxuries_need@token:resource_airplanes = 100 }
					
					divide_variable = { elites_security_need@token:resource_small_arms = 100 }
					divide_variable = { elites_security_need@token:resource_ammunition = 100 }
					divide_variable = { elites_security_need@token:resource_artillery = 100 }
					divide_variable = { elites_security_need@token:resource_tanks = 100 }

					divide_variable = { elites_finance_need@token:resource_finance = 100 }
				}
			}
			else = {
				clear_variable = elites_needs_spending
				clear_variable = elites_food_cost
				clear_variable = elites_housing_cost
				clear_variable = elites_heating_cost
				clear_variable = elites_clothing_cost
				clear_variable = elites_household_cost
				clear_variable = elites_education_cost
				clear_variable = elites_healthcare_cost
				clear_variable = elites_movement_cost
				clear_variable = elites_fuel_cost
				clear_variable = elites_luxuries_cost
				clear_variable = elites_security_cost
				
				clear_variable = elites_food_need@token:resource_foodstuffs
				clear_variable = elites_food_need@token:resource_groceries
				
				clear_variable = elites_housing_need@token:resource_housing
				
				clear_variable = elites_heating_need@token:resource_lumber
				clear_variable = elites_heating_need@token:resource_coal
				clear_variable = elites_heating_need@token:resource_electricity
				
				clear_variable = elites_clothing_need@token:resource_fiber
				clear_variable = elites_clothing_need@token:resource_fabric
				clear_variable = elites_clothing_need@token:resource_clothing
				
				clear_variable = elites_household_need@token:resource_fiber
				clear_variable = elites_household_need@token:resource_fabric
				clear_variable = elites_household_need@token:resource_lumber
				clear_variable = elites_household_need@token:resource_consumer_goods
				clear_variable = elites_household_need@token:resource_electronics
				
				clear_variable = elites_education_need@token:resource_basic_education
				clear_variable = elites_education_need@token:resource_higher_education
				
				clear_variable = elites_healthcare_need@token:resource_healthcare
				clear_variable = elites_healthcare_need@token:resource_pharmaceuticals
				
				clear_variable = elites_movement_need@token:resource_transport
				clear_variable = elites_movement_need@token:resource_automobiles
				
				clear_variable = elites_fuel_need@token:resource_hydrocarbons
				clear_variable = elites_fuel_need@token:resource_electricity
				
				clear_variable = elites_luxuries_need@token:resource_electronics
				clear_variable = elites_luxuries_need@token:resource_computers
				clear_variable = elites_luxuries_need@token:resource_entertainment
				clear_variable = elites_luxuries_need@token:resource_convoys
				clear_variable = elites_luxuries_need@token:resource_airplanes
				
				clear_variable = elites_security_need@token:resource_small_arms
				clear_variable = elites_security_need@token:resource_ammunition
				clear_variable = elites_security_need@token:resource_artillery
				clear_variable = elites_security_need@token:resource_tanks

				clear_variable = elites_finance_need@token:resource_finance
			}
			
		#
		#Bureaucrats
			if = {
				limit = {
					check_variable = { bureaucrats_amount > 0 }
				}

				set_temp_variable = { sol_temp = bureaucrats_sol }
				get_pop_needs = yes

				set_variable = { bureaucrats_needs_spending = total_cost_temp }
				set_variable = { bureaucrats_food_cost = food_cost_temp }
				set_variable = { bureaucrats_housing_cost = housing_cost_temp }
				set_variable = { bureaucrats_heating_cost = heating_cost_temp }
				set_variable = { bureaucrats_clothing_cost = clothing_cost_temp }
				set_variable = { bureaucrats_household_cost = household_cost_temp }
				set_variable = { bureaucrats_education_cost = education_cost_temp }
				set_variable = { bureaucrats_healthcare_cost = healthcare_cost_temp }
				set_variable = { bureaucrats_movement_cost = movement_cost_temp }
				set_variable = { bureaucrats_fuel_cost = fuel_cost_temp }
				set_variable = { bureaucrats_luxuries_cost = luxuries_cost_temp }
				set_variable = { bureaucrats_security_cost = security_cost_temp }
				set_variable = { bureaucrats_finance_cost = finance_cost_temp }
				
				set_variable = { bureaucrats_food_need@token:resource_foodstuffs = food_need_temp@token:resource_foodstuffs }
				set_variable = { bureaucrats_food_need@token:resource_groceries = food_need_temp@token:resource_groceries }
				
				set_variable = { bureaucrats_housing_need@token:resource_housing = housing_need_temp@token:resource_housing }
				
				set_variable = { bureaucrats_heating_need@token:resource_lumber = heating_need_temp@token:resource_lumber }
				set_variable = { bureaucrats_heating_need@token:resource_coal = heating_need_temp@token:resource_coal }
				set_variable = { bureaucrats_heating_need@token:resource_electricity = heating_need_temp@token:resource_electricity }
				
				set_variable = { bureaucrats_clothing_need@token:resource_fiber = clothing_need_temp@token:resource_fiber }
				set_variable = { bureaucrats_clothing_need@token:resource_fabric = clothing_need_temp@token:resource_fabric }
				set_variable = { bureaucrats_clothing_need@token:resource_clothing = clothing_need_temp@token:resource_clothing }
				
				set_variable = { bureaucrats_household_need@token:resource_fiber = household_need_temp@token:resource_fiber }
				set_variable = { bureaucrats_household_need@token:resource_fabric = household_need_temp@token:resource_fabric }
				set_variable = { bureaucrats_household_need@token:resource_lumber = household_need_temp@token:resource_lumber }
				set_variable = { bureaucrats_household_need@token:resource_consumer_goods = household_need_temp@token:resource_consumer_goods }
				set_variable = { bureaucrats_household_need@token:resource_electronics = household_need_temp@token:resource_electronics }
				
				set_variable = { bureaucrats_education_need@token:resource_basic_education = education_need_temp@token:resource_basic_education }
				set_variable = { bureaucrats_education_need@token:resource_higher_education = education_need_temp@token:resource_higher_education }
				
				set_variable = { bureaucrats_healthcare_need@token:resource_healthcare = healthcare_need_temp@token:resource_healthcare }
				set_variable = { bureaucrats_healthcare_need@token:resource_pharmaceuticals = healthcare_need_temp@token:resource_pharmaceuticals }
				
				set_variable = { bureaucrats_movement_need@token:resource_transport = movement_need_temp@token:resource_transport }
				set_variable = { bureaucrats_movement_need@token:resource_automobiles = movement_need_temp@token:resource_automobiles }
				
				set_variable = { bureaucrats_fuel_need@token:resource_hydrocarbons = fuel_need_temp@token:resource_hydrocarbons }
				set_variable = { bureaucrats_fuel_need@token:resource_electricity = fuel_need_temp@token:resource_electricity }
				
				set_variable = { bureaucrats_luxuries_need@token:resource_electronics = luxuries_need_temp@token:resource_electronics }
				set_variable = { bureaucrats_luxuries_need@token:resource_computers = luxuries_need_temp@token:resource_computers }
				set_variable = { bureaucrats_luxuries_need@token:resource_entertainment = luxuries_need_temp@token:resource_entertainment }
				set_variable = { bureaucrats_luxuries_need@token:resource_convoys = luxuries_need_temp@token:resource_convoys }
				set_variable = { bureaucrats_luxuries_need@token:resource_airplanes = luxuries_need_temp@token:resource_airplanes }
				
				set_variable = { bureaucrats_security_need@token:resource_small_arms = security_need_temp@token:resource_small_arms }
				set_variable = { bureaucrats_security_need@token:resource_ammunition = security_need_temp@token:resource_ammunition }
				set_variable = { bureaucrats_security_need@token:resource_artillery = security_need_temp@token:resource_artillery }
				set_variable = { bureaucrats_security_need@token:resource_tanks = security_need_temp@token:resource_tanks }
				
				set_variable = { bureaucrats_finance_need@token:resource_finance = finance_need_temp@token:resource_finance }

				if = {
					limit = {
						check_variable = { bureaucrats_amount > 1 }
					}
					set_temp_variable = { cpn_pa_temp = bureaucrats_amount }
					divide_temp_variable = { cpn_pa_temp = 100 }

					#Multiply by Pop Amount
					multiply_variable = { bureaucrats_needs_spending = cpn_pa_temp }
					multiply_variable = { bureaucrats_food_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_housing_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_heating_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_clothing_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_household_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_education_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_healthcare_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_movement_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_fuel_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_luxuries_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_security_cost = cpn_pa_temp }
					multiply_variable = { bureaucrats_finance_cost = cpn_pa_temp }

					multiply_variable = { bureaucrats_food_need@token:resource_foodstuffs = cpn_pa_temp }
					multiply_variable = { bureaucrats_food_need@token:resource_groceries = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_housing_need@token:resource_housing = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_heating_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { bureaucrats_heating_need@token:resource_coal = cpn_pa_temp }
					multiply_variable = { bureaucrats_heating_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_clothing_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { bureaucrats_clothing_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { bureaucrats_clothing_need@token:resource_clothing = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_household_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { bureaucrats_household_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { bureaucrats_household_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { bureaucrats_household_need@token:resource_consumer_goods = cpn_pa_temp }
					multiply_variable = { bureaucrats_household_need@token:resource_electronics = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_education_need@token:resource_basic_education = cpn_pa_temp }
					multiply_variable = { bureaucrats_education_need@token:resource_higher_education = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_healthcare_need@token:resource_healthcare = cpn_pa_temp }
					multiply_variable = { bureaucrats_healthcare_need@token:resource_pharmaceuticals = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_movement_need@token:resource_transport = cpn_pa_temp }
					multiply_variable = { bureaucrats_movement_need@token:resource_automobiles = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_fuel_need@token:resource_hydrocarbons = cpn_pa_temp }
					multiply_variable = { bureaucrats_fuel_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_luxuries_need@token:resource_electronics = cpn_pa_temp }
					multiply_variable = { bureaucrats_luxuries_need@token:resource_computers = cpn_pa_temp }
					multiply_variable = { bureaucrats_luxuries_need@token:resource_entertainment = cpn_pa_temp }
					multiply_variable = { bureaucrats_luxuries_need@token:resource_convoys = cpn_pa_temp }
					multiply_variable = { bureaucrats_luxuries_need@token:resource_airplanes = cpn_pa_temp }
					
					multiply_variable = { bureaucrats_security_need@token:resource_small_arms = cpn_pa_temp }
					multiply_variable = { bureaucrats_security_need@token:resource_ammunition = cpn_pa_temp }
					multiply_variable = { bureaucrats_security_need@token:resource_artillery = cpn_pa_temp }
					multiply_variable = { bureaucrats_security_need@token:resource_tanks = cpn_pa_temp }

					multiply_variable = { bureaucrats_finance_need@token:resource_finance = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { bureaucrats_needs_spending = bureaucrats_amount }
					multiply_variable = { bureaucrats_food_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_housing_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_heating_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_clothing_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_household_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_education_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_healthcare_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_movement_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_fuel_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_luxuries_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_security_cost = bureaucrats_amount }
					multiply_variable = { bureaucrats_finance_cost = cpn_pa_temp }

					multiply_variable = { bureaucrats_food_need@token:resource_foodstuffs = bureaucrats_amount }
					multiply_variable = { bureaucrats_food_need@token:resource_groceries = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_housing_need@token:resource_housing = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_heating_need@token:resource_lumber = bureaucrats_amount }
					multiply_variable = { bureaucrats_heating_need@token:resource_coal = bureaucrats_amount }
					multiply_variable = { bureaucrats_heating_need@token:resource_electricity = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_clothing_need@token:resource_fiber = bureaucrats_amount }
					multiply_variable = { bureaucrats_clothing_need@token:resource_fabric = bureaucrats_amount }
					multiply_variable = { bureaucrats_clothing_need@token:resource_clothing = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_household_need@token:resource_fiber = bureaucrats_amount }
					multiply_variable = { bureaucrats_household_need@token:resource_fabric = bureaucrats_amount }
					multiply_variable = { bureaucrats_household_need@token:resource_lumber = bureaucrats_amount }
					multiply_variable = { bureaucrats_household_need@token:resource_consumer_goods = bureaucrats_amount }
					multiply_variable = { bureaucrats_household_need@token:resource_electronics = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_education_need@token:resource_basic_education = bureaucrats_amount }
					multiply_variable = { bureaucrats_education_need@token:resource_higher_education = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_healthcare_need@token:resource_healthcare = bureaucrats_amount }
					multiply_variable = { bureaucrats_healthcare_need@token:resource_pharmaceuticals = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_movement_need@token:resource_transport = bureaucrats_amount }
					multiply_variable = { bureaucrats_movement_need@token:resource_automobiles = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_fuel_need@token:resource_hydrocarbons = bureaucrats_amount }
					multiply_variable = { bureaucrats_fuel_need@token:resource_electricity = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_luxuries_need@token:resource_electronics = bureaucrats_amount }
					multiply_variable = { bureaucrats_luxuries_need@token:resource_computers = bureaucrats_amount }
					multiply_variable = { bureaucrats_luxuries_need@token:resource_entertainment = bureaucrats_amount }
					multiply_variable = { bureaucrats_luxuries_need@token:resource_convoys = bureaucrats_amount }
					multiply_variable = { bureaucrats_luxuries_need@token:resource_airplanes = bureaucrats_amount }
					
					multiply_variable = { bureaucrats_security_need@token:resource_small_arms = bureaucrats_amount }
					multiply_variable = { bureaucrats_security_need@token:resource_ammunition = bureaucrats_amount }
					multiply_variable = { bureaucrats_security_need@token:resource_artillery = bureaucrats_amount }
					multiply_variable = { bureaucrats_security_need@token:resource_tanks = bureaucrats_amount }

					multiply_variable = { bureaucrats_finance_need@token:resource_finance = bureaucrats_amount }

					#Divide by 100
					divide_variable = { bureaucrats_needs_spending = 100 }
					divide_variable = { bureaucrats_food_cost = 100 }
					divide_variable = { bureaucrats_housing_cost = 100 }
					divide_variable = { bureaucrats_heating_cost = 100 }
					divide_variable = { bureaucrats_clothing_cost = 100 }
					divide_variable = { bureaucrats_household_cost = 100 }
					divide_variable = { bureaucrats_education_cost = 100 }
					divide_variable = { bureaucrats_healthcare_cost = 100 }
					divide_variable = { bureaucrats_movement_cost = 100 }
					divide_variable = { bureaucrats_fuel_cost = 100 }
					divide_variable = { bureaucrats_luxuries_cost = 100 }
					divide_variable = { bureaucrats_security_cost = 100 }
					divide_variable = { bureaucrats_finance_cost = 100 }

					divide_variable = { bureaucrats_food_need@token:resource_foodstuffs = 100 }
					divide_variable = { bureaucrats_food_need@token:resource_groceries = 100 }
					
					divide_variable = { bureaucrats_housing_need@token:resource_housing = 100 }
					
					divide_variable = { bureaucrats_heating_need@token:resource_lumber = 100 }
					divide_variable = { bureaucrats_heating_need@token:resource_coal = 100 }
					divide_variable = { bureaucrats_heating_need@token:resource_electricity = 100 }
					
					divide_variable = { bureaucrats_clothing_need@token:resource_fiber = 100 }
					divide_variable = { bureaucrats_clothing_need@token:resource_fabric = 100 }
					divide_variable = { bureaucrats_clothing_need@token:resource_clothing = 100 }
					
					divide_variable = { bureaucrats_household_need@token:resource_fiber = 100 }
					divide_variable = { bureaucrats_household_need@token:resource_fabric = 100 }
					divide_variable = { bureaucrats_household_need@token:resource_lumber = 100 }
					divide_variable = { bureaucrats_household_need@token:resource_consumer_goods = 100 }
					divide_variable = { bureaucrats_household_need@token:resource_electronics = 100 }
					
					divide_variable = { bureaucrats_education_need@token:resource_basic_education = 100 }
					divide_variable = { bureaucrats_education_need@token:resource_higher_education = 100 }
					
					divide_variable = { bureaucrats_healthcare_need@token:resource_healthcare = 100 }
					divide_variable = { bureaucrats_healthcare_need@token:resource_pharmaceuticals = 100 }
					
					divide_variable = { bureaucrats_movement_need@token:resource_transport = 100 }
					divide_variable = { bureaucrats_movement_need@token:resource_automobiles = 100 }
					
					divide_variable = { bureaucrats_fuel_need@token:resource_hydrocarbons = 100 }
					divide_variable = { bureaucrats_fuel_need@token:resource_electricity = 100 }
					
					divide_variable = { bureaucrats_luxuries_need@token:resource_electronics = 100 }
					divide_variable = { bureaucrats_luxuries_need@token:resource_computers = 100 }
					divide_variable = { bureaucrats_luxuries_need@token:resource_entertainment = 100 }
					divide_variable = { bureaucrats_luxuries_need@token:resource_convoys = 100 }
					divide_variable = { bureaucrats_luxuries_need@token:resource_airplanes = 100 }
					
					divide_variable = { bureaucrats_security_need@token:resource_small_arms = 100 }
					divide_variable = { bureaucrats_security_need@token:resource_ammunition = 100 }
					divide_variable = { bureaucrats_security_need@token:resource_artillery = 100 }
					divide_variable = { bureaucrats_security_need@token:resource_tanks = 100 }

					divide_variable = { bureaucrats_finance_need@token:resource_finance = 100 }
				}
			}
			else = {
				clear_variable = bureaucrats_needs_spending
				clear_variable = bureaucrats_food_cost
				clear_variable = bureaucrats_housing_cost
				clear_variable = bureaucrats_heating_cost
				clear_variable = bureaucrats_clothing_cost
				clear_variable = bureaucrats_household_cost
				clear_variable = bureaucrats_education_cost
				clear_variable = bureaucrats_healthcare_cost
				clear_variable = bureaucrats_movement_cost
				clear_variable = bureaucrats_fuel_cost
				clear_variable = bureaucrats_luxuries_cost
				clear_variable = bureaucrats_security_cost
				
				clear_variable = bureaucrats_food_need@token:resource_foodstuffs
				clear_variable = bureaucrats_food_need@token:resource_groceries
				
				clear_variable = bureaucrats_housing_need@token:resource_housing
				
				clear_variable = bureaucrats_heating_need@token:resource_lumber
				clear_variable = bureaucrats_heating_need@token:resource_coal
				clear_variable = bureaucrats_heating_need@token:resource_electricity
				
				clear_variable = bureaucrats_clothing_need@token:resource_fiber
				clear_variable = bureaucrats_clothing_need@token:resource_fabric
				clear_variable = bureaucrats_clothing_need@token:resource_clothing
				
				clear_variable = bureaucrats_household_need@token:resource_fiber
				clear_variable = bureaucrats_household_need@token:resource_fabric
				clear_variable = bureaucrats_household_need@token:resource_lumber
				clear_variable = bureaucrats_household_need@token:resource_consumer_goods
				clear_variable = bureaucrats_household_need@token:resource_electronics
				
				clear_variable = bureaucrats_education_need@token:resource_basic_education
				clear_variable = bureaucrats_education_need@token:resource_higher_education
				
				clear_variable = bureaucrats_healthcare_need@token:resource_healthcare
				clear_variable = bureaucrats_healthcare_need@token:resource_pharmaceuticals
				
				clear_variable = bureaucrats_movement_need@token:resource_transport
				clear_variable = bureaucrats_movement_need@token:resource_automobiles
				
				clear_variable = bureaucrats_fuel_need@token:resource_hydrocarbons
				clear_variable = bureaucrats_fuel_need@token:resource_electricity
				
				clear_variable = bureaucrats_luxuries_need@token:resource_electronics
				clear_variable = bureaucrats_luxuries_need@token:resource_computers
				clear_variable = bureaucrats_luxuries_need@token:resource_entertainment
				clear_variable = bureaucrats_luxuries_need@token:resource_convoys
				clear_variable = bureaucrats_luxuries_need@token:resource_airplanes
				
				clear_variable = bureaucrats_security_need@token:resource_small_arms
				clear_variable = bureaucrats_security_need@token:resource_ammunition
				clear_variable = bureaucrats_security_need@token:resource_artillery
				clear_variable = bureaucrats_security_need@token:resource_tanks

				clear_variable = bureaucrats_finance_need@token:resource_finance
			}
			
		#
		#Soldiers
			if = {
				limit = {
					check_variable = { soldiers_amount > 0 }
				}

				set_temp_variable = { sol_temp = soldiers_sol }
				get_pop_needs = yes

				set_variable = { soldiers_needs_spending = total_cost_temp }
				set_variable = { soldiers_food_cost = food_cost_temp }
				set_variable = { soldiers_housing_cost = housing_cost_temp }
				set_variable = { soldiers_heating_cost = heating_cost_temp }
				set_variable = { soldiers_clothing_cost = clothing_cost_temp }
				set_variable = { soldiers_household_cost = household_cost_temp }
				set_variable = { soldiers_education_cost = education_cost_temp }
				set_variable = { soldiers_healthcare_cost = healthcare_cost_temp }
				set_variable = { soldiers_movement_cost = movement_cost_temp }
				set_variable = { soldiers_fuel_cost = fuel_cost_temp }
				set_variable = { soldiers_luxuries_cost = luxuries_cost_temp }
				set_variable = { soldiers_security_cost = security_cost_temp }
				set_variable = { soldiers_finance_cost = finance_cost_temp }
				
				set_variable = { soldiers_food_need@token:resource_foodstuffs = food_need_temp@token:resource_foodstuffs }
				set_variable = { soldiers_food_need@token:resource_groceries = food_need_temp@token:resource_groceries }
				
				set_variable = { soldiers_housing_need@token:resource_housing = housing_need_temp@token:resource_housing }
				
				set_variable = { soldiers_heating_need@token:resource_lumber = heating_need_temp@token:resource_lumber }
				set_variable = { soldiers_heating_need@token:resource_coal = heating_need_temp@token:resource_coal }
				set_variable = { soldiers_heating_need@token:resource_electricity = heating_need_temp@token:resource_electricity }
				
				set_variable = { soldiers_clothing_need@token:resource_fiber = clothing_need_temp@token:resource_fiber }
				set_variable = { soldiers_clothing_need@token:resource_fabric = clothing_need_temp@token:resource_fabric }
				set_variable = { soldiers_clothing_need@token:resource_clothing = clothing_need_temp@token:resource_clothing }
				
				set_variable = { soldiers_household_need@token:resource_fiber = household_need_temp@token:resource_fiber }
				set_variable = { soldiers_household_need@token:resource_fabric = household_need_temp@token:resource_fabric }
				set_variable = { soldiers_household_need@token:resource_lumber = household_need_temp@token:resource_lumber }
				set_variable = { soldiers_household_need@token:resource_consumer_goods = household_need_temp@token:resource_consumer_goods }
				set_variable = { soldiers_household_need@token:resource_electronics = household_need_temp@token:resource_electronics }
				
				set_variable = { soldiers_education_need@token:resource_basic_education = education_need_temp@token:resource_basic_education }
				set_variable = { soldiers_education_need@token:resource_higher_education = education_need_temp@token:resource_higher_education }
				
				set_variable = { soldiers_healthcare_need@token:resource_healthcare = healthcare_need_temp@token:resource_healthcare }
				set_variable = { soldiers_healthcare_need@token:resource_pharmaceuticals = healthcare_need_temp@token:resource_pharmaceuticals }
				
				set_variable = { soldiers_movement_need@token:resource_transport = movement_need_temp@token:resource_transport }
				set_variable = { soldiers_movement_need@token:resource_automobiles = movement_need_temp@token:resource_automobiles }
				
				set_variable = { soldiers_fuel_need@token:resource_hydrocarbons = fuel_need_temp@token:resource_hydrocarbons }
				set_variable = { soldiers_fuel_need@token:resource_electricity = fuel_need_temp@token:resource_electricity }
				
				set_variable = { soldiers_luxuries_need@token:resource_electronics = luxuries_need_temp@token:resource_electronics }
				set_variable = { soldiers_luxuries_need@token:resource_computers = luxuries_need_temp@token:resource_computers }
				set_variable = { soldiers_luxuries_need@token:resource_entertainment = luxuries_need_temp@token:resource_entertainment }
				set_variable = { soldiers_luxuries_need@token:resource_convoys = luxuries_need_temp@token:resource_convoys }
				set_variable = { soldiers_luxuries_need@token:resource_airplanes = luxuries_need_temp@token:resource_airplanes }
				
				set_variable = { soldiers_security_need@token:resource_small_arms = security_need_temp@token:resource_small_arms }
				set_variable = { soldiers_security_need@token:resource_ammunition = security_need_temp@token:resource_ammunition }
				set_variable = { soldiers_security_need@token:resource_artillery = security_need_temp@token:resource_artillery }
				set_variable = { soldiers_security_need@token:resource_tanks = security_need_temp@token:resource_tanks }
				
				set_variable = { soldiers_finance_need@token:resource_finance = finance_need_temp@token:resource_finance }

				if = {
					limit = {
						check_variable = { soldiers_amount > 1 }
					}
					set_temp_variable = { cpn_pa_temp = soldiers_amount }
					divide_temp_variable = { cpn_pa_temp = 100 }

					#Multiply by Pop Amount
					multiply_variable = { soldiers_needs_spending = cpn_pa_temp }
					multiply_variable = { soldiers_food_cost = cpn_pa_temp }
					multiply_variable = { soldiers_housing_cost = cpn_pa_temp }
					multiply_variable = { soldiers_heating_cost = cpn_pa_temp }
					multiply_variable = { soldiers_clothing_cost = cpn_pa_temp }
					multiply_variable = { soldiers_household_cost = cpn_pa_temp }
					multiply_variable = { soldiers_education_cost = cpn_pa_temp }
					multiply_variable = { soldiers_healthcare_cost = cpn_pa_temp }
					multiply_variable = { soldiers_movement_cost = cpn_pa_temp }
					multiply_variable = { soldiers_fuel_cost = cpn_pa_temp }
					multiply_variable = { soldiers_luxuries_cost = cpn_pa_temp }
					multiply_variable = { soldiers_security_cost = cpn_pa_temp }
					multiply_variable = { soldiers_finance_cost = cpn_pa_temp }

					multiply_variable = { soldiers_food_need@token:resource_foodstuffs = cpn_pa_temp }
					multiply_variable = { soldiers_food_need@token:resource_groceries = cpn_pa_temp }
					
					multiply_variable = { soldiers_housing_need@token:resource_housing = cpn_pa_temp }
					
					multiply_variable = { soldiers_heating_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { soldiers_heating_need@token:resource_coal = cpn_pa_temp }
					multiply_variable = { soldiers_heating_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { soldiers_clothing_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { soldiers_clothing_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { soldiers_clothing_need@token:resource_clothing = cpn_pa_temp }
					
					multiply_variable = { soldiers_household_need@token:resource_fiber = cpn_pa_temp }
					multiply_variable = { soldiers_household_need@token:resource_fabric = cpn_pa_temp }
					multiply_variable = { soldiers_household_need@token:resource_lumber = cpn_pa_temp }
					multiply_variable = { soldiers_household_need@token:resource_consumer_goods = cpn_pa_temp }
					multiply_variable = { soldiers_household_need@token:resource_electronics = cpn_pa_temp }
					
					multiply_variable = { soldiers_education_need@token:resource_basic_education = cpn_pa_temp }
					multiply_variable = { soldiers_education_need@token:resource_higher_education = cpn_pa_temp }
					
					multiply_variable = { soldiers_healthcare_need@token:resource_healthcare = cpn_pa_temp }
					multiply_variable = { soldiers_healthcare_need@token:resource_pharmaceuticals = cpn_pa_temp }
					
					multiply_variable = { soldiers_movement_need@token:resource_transport = cpn_pa_temp }
					multiply_variable = { soldiers_movement_need@token:resource_automobiles = cpn_pa_temp }
					
					multiply_variable = { soldiers_fuel_need@token:resource_hydrocarbons = cpn_pa_temp }
					multiply_variable = { soldiers_fuel_need@token:resource_electricity = cpn_pa_temp }
					
					multiply_variable = { soldiers_luxuries_need@token:resource_electronics = cpn_pa_temp }
					multiply_variable = { soldiers_luxuries_need@token:resource_computers = cpn_pa_temp }
					multiply_variable = { soldiers_luxuries_need@token:resource_entertainment = cpn_pa_temp }
					multiply_variable = { soldiers_luxuries_need@token:resource_convoys = cpn_pa_temp }
					multiply_variable = { soldiers_luxuries_need@token:resource_airplanes = cpn_pa_temp }
					
					multiply_variable = { soldiers_security_need@token:resource_small_arms = cpn_pa_temp }
					multiply_variable = { soldiers_security_need@token:resource_ammunition = cpn_pa_temp }
					multiply_variable = { soldiers_security_need@token:resource_artillery = cpn_pa_temp }
					multiply_variable = { soldiers_security_need@token:resource_tanks = cpn_pa_temp }

					multiply_variable = { soldiers_finance_need@token:resource_finance = cpn_pa_temp }
				}
				else = {
					#Multiply by Pop Amount
					multiply_variable = { soldiers_needs_spending = soldiers_amount }
					multiply_variable = { soldiers_food_cost = soldiers_amount }
					multiply_variable = { soldiers_housing_cost = soldiers_amount }
					multiply_variable = { soldiers_heating_cost = soldiers_amount }
					multiply_variable = { soldiers_clothing_cost = soldiers_amount }
					multiply_variable = { soldiers_household_cost = soldiers_amount }
					multiply_variable = { soldiers_education_cost = soldiers_amount }
					multiply_variable = { soldiers_healthcare_cost = soldiers_amount }
					multiply_variable = { soldiers_movement_cost = soldiers_amount }
					multiply_variable = { soldiers_fuel_cost = soldiers_amount }
					multiply_variable = { soldiers_luxuries_cost = soldiers_amount }
					multiply_variable = { soldiers_security_cost = soldiers_amount }
					multiply_variable = { soldiers_finance_cost = cpn_pa_temp }

					multiply_variable = { soldiers_food_need@token:resource_foodstuffs = soldiers_amount }
					multiply_variable = { soldiers_food_need@token:resource_groceries = soldiers_amount }
					
					multiply_variable = { soldiers_housing_need@token:resource_housing = soldiers_amount }
					
					multiply_variable = { soldiers_heating_need@token:resource_lumber = soldiers_amount }
					multiply_variable = { soldiers_heating_need@token:resource_coal = soldiers_amount }
					multiply_variable = { soldiers_heating_need@token:resource_electricity = soldiers_amount }
					
					multiply_variable = { soldiers_clothing_need@token:resource_fiber = soldiers_amount }
					multiply_variable = { soldiers_clothing_need@token:resource_fabric = soldiers_amount }
					multiply_variable = { soldiers_clothing_need@token:resource_clothing = soldiers_amount }
					
					multiply_variable = { soldiers_household_need@token:resource_fiber = soldiers_amount }
					multiply_variable = { soldiers_household_need@token:resource_fabric = soldiers_amount }
					multiply_variable = { soldiers_household_need@token:resource_lumber = soldiers_amount }
					multiply_variable = { soldiers_household_need@token:resource_consumer_goods = soldiers_amount }
					multiply_variable = { soldiers_household_need@token:resource_electronics = soldiers_amount }
					
					multiply_variable = { soldiers_education_need@token:resource_basic_education = soldiers_amount }
					multiply_variable = { soldiers_education_need@token:resource_higher_education = soldiers_amount }
					
					multiply_variable = { soldiers_healthcare_need@token:resource_healthcare = soldiers_amount }
					multiply_variable = { soldiers_healthcare_need@token:resource_pharmaceuticals = soldiers_amount }
					
					multiply_variable = { soldiers_movement_need@token:resource_transport = soldiers_amount }
					multiply_variable = { soldiers_movement_need@token:resource_automobiles = soldiers_amount }
					
					multiply_variable = { soldiers_fuel_need@token:resource_hydrocarbons = soldiers_amount }
					multiply_variable = { soldiers_fuel_need@token:resource_electricity = soldiers_amount }
					
					multiply_variable = { soldiers_luxuries_need@token:resource_electronics = soldiers_amount }
					multiply_variable = { soldiers_luxuries_need@token:resource_computers = soldiers_amount }
					multiply_variable = { soldiers_luxuries_need@token:resource_entertainment = soldiers_amount }
					multiply_variable = { soldiers_luxuries_need@token:resource_convoys = soldiers_amount }
					multiply_variable = { soldiers_luxuries_need@token:resource_airplanes = soldiers_amount }
					
					multiply_variable = { soldiers_security_need@token:resource_small_arms = soldiers_amount }
					multiply_variable = { soldiers_security_need@token:resource_ammunition = soldiers_amount }
					multiply_variable = { soldiers_security_need@token:resource_artillery = soldiers_amount }
					multiply_variable = { soldiers_security_need@token:resource_tanks = soldiers_amount }

					multiply_variable = { soldiers_finance_need@token:resource_finance = soldiers_amount }

					#Divide by 100
					divide_variable = { soldiers_needs_spending = 100 }
					divide_variable = { soldiers_food_cost = 100 }
					divide_variable = { soldiers_housing_cost = 100 }
					divide_variable = { soldiers_heating_cost = 100 }
					divide_variable = { soldiers_clothing_cost = 100 }
					divide_variable = { soldiers_household_cost = 100 }
					divide_variable = { soldiers_education_cost = 100 }
					divide_variable = { soldiers_healthcare_cost = 100 }
					divide_variable = { soldiers_movement_cost = 100 }
					divide_variable = { soldiers_fuel_cost = 100 }
					divide_variable = { soldiers_luxuries_cost = 100 }
					divide_variable = { soldiers_security_cost = 100 }
					divide_variable = { soldiers_finance_cost = 100 }

					divide_variable = { soldiers_food_need@token:resource_foodstuffs = 100 }
					divide_variable = { soldiers_food_need@token:resource_groceries = 100 }
					
					divide_variable = { soldiers_housing_need@token:resource_housing = 100 }
					
					divide_variable = { soldiers_heating_need@token:resource_lumber = 100 }
					divide_variable = { soldiers_heating_need@token:resource_coal = 100 }
					divide_variable = { soldiers_heating_need@token:resource_electricity = 100 }
					
					divide_variable = { soldiers_clothing_need@token:resource_fiber = 100 }
					divide_variable = { soldiers_clothing_need@token:resource_fabric = 100 }
					divide_variable = { soldiers_clothing_need@token:resource_clothing = 100 }
					
					divide_variable = { soldiers_household_need@token:resource_fiber = 100 }
					divide_variable = { soldiers_household_need@token:resource_fabric = 100 }
					divide_variable = { soldiers_household_need@token:resource_lumber = 100 }
					divide_variable = { soldiers_household_need@token:resource_consumer_goods = 100 }
					divide_variable = { soldiers_household_need@token:resource_electronics = 100 }
					
					divide_variable = { soldiers_education_need@token:resource_basic_education = 100 }
					divide_variable = { soldiers_education_need@token:resource_higher_education = 100 }
					
					divide_variable = { soldiers_healthcare_need@token:resource_healthcare = 100 }
					divide_variable = { soldiers_healthcare_need@token:resource_pharmaceuticals = 100 }
					
					divide_variable = { soldiers_movement_need@token:resource_transport = 100 }
					divide_variable = { soldiers_movement_need@token:resource_automobiles = 100 }
					
					divide_variable = { soldiers_fuel_need@token:resource_hydrocarbons = 100 }
					divide_variable = { soldiers_fuel_need@token:resource_electricity = 100 }
					
					divide_variable = { soldiers_luxuries_need@token:resource_electronics = 100 }
					divide_variable = { soldiers_luxuries_need@token:resource_computers = 100 }
					divide_variable = { soldiers_luxuries_need@token:resource_entertainment = 100 }
					divide_variable = { soldiers_luxuries_need@token:resource_convoys = 100 }
					divide_variable = { soldiers_luxuries_need@token:resource_airplanes = 100 }
					
					divide_variable = { soldiers_security_need@token:resource_small_arms = 100 }
					divide_variable = { soldiers_security_need@token:resource_ammunition = 100 }
					divide_variable = { soldiers_security_need@token:resource_artillery = 100 }
					divide_variable = { soldiers_security_need@token:resource_tanks = 100 }

					divide_variable = { soldiers_finance_need@token:resource_finance = 100 }
				}
			}
			else = {
				clear_variable = soldiers_needs_spending
				clear_variable = soldiers_food_cost
				clear_variable = soldiers_housing_cost
				clear_variable = soldiers_heating_cost
				clear_variable = soldiers_clothing_cost
				clear_variable = soldiers_household_cost
				clear_variable = soldiers_education_cost
				clear_variable = soldiers_healthcare_cost
				clear_variable = soldiers_movement_cost
				clear_variable = soldiers_fuel_cost
				clear_variable = soldiers_luxuries_cost
				clear_variable = soldiers_security_cost
				
				clear_variable = soldiers_food_need@token:resource_foodstuffs
				clear_variable = soldiers_food_need@token:resource_groceries
				
				clear_variable = soldiers_housing_need@token:resource_housing
				
				clear_variable = soldiers_heating_need@token:resource_lumber
				clear_variable = soldiers_heating_need@token:resource_coal
				clear_variable = soldiers_heating_need@token:resource_electricity
				
				clear_variable = soldiers_clothing_need@token:resource_fiber
				clear_variable = soldiers_clothing_need@token:resource_fabric
				clear_variable = soldiers_clothing_need@token:resource_clothing
				
				clear_variable = soldiers_household_need@token:resource_fiber
				clear_variable = soldiers_household_need@token:resource_fabric
				clear_variable = soldiers_household_need@token:resource_lumber
				clear_variable = soldiers_household_need@token:resource_consumer_goods
				clear_variable = soldiers_household_need@token:resource_electronics
				
				clear_variable = soldiers_education_need@token:resource_basic_education
				clear_variable = soldiers_education_need@token:resource_higher_education
				
				clear_variable = soldiers_healthcare_need@token:resource_healthcare
				clear_variable = soldiers_healthcare_need@token:resource_pharmaceuticals
				
				clear_variable = soldiers_movement_need@token:resource_transport
				clear_variable = soldiers_movement_need@token:resource_automobiles
				
				clear_variable = soldiers_fuel_need@token:resource_hydrocarbons
				clear_variable = soldiers_fuel_need@token:resource_electricity
				
				clear_variable = soldiers_luxuries_need@token:resource_electronics
				clear_variable = soldiers_luxuries_need@token:resource_computers
				clear_variable = soldiers_luxuries_need@token:resource_entertainment
				clear_variable = soldiers_luxuries_need@token:resource_convoys
				clear_variable = soldiers_luxuries_need@token:resource_airplanes
				
				clear_variable = soldiers_security_need@token:resource_small_arms
				clear_variable = soldiers_security_need@token:resource_ammunition
				clear_variable = soldiers_security_need@token:resource_artillery
				clear_variable = soldiers_security_need@token:resource_tanks

				clear_variable = soldiers_finance_need@token:resource_finance
			}
			
		#

		#Total
			set_variable = { pops_needs_spending = slaves_needs_spending }
			add_to_variable = { pops_needs_spending = peasants_needs_spending }
			add_to_variable = { pops_needs_spending = laborers_needs_spending }
			add_to_variable = { pops_needs_spending = workers_needs_spending }
			add_to_variable = { pops_needs_spending = professionals_needs_spending }
			add_to_variable = { pops_needs_spending = elites_needs_spending }
			add_to_variable = { pops_needs_spending = bureaucrats_needs_spending }
			add_to_variable = { pops_needs_spending = soldiers_needs_spending }

			#Costs
				set_variable = { pops_food_cost = slaves_food_cost }
				set_variable = { pops_housing_cost = slaves_housing_cost }
				set_variable = { pops_heating_cost = slaves_heating_cost }
				set_variable = { pops_clothing_cost = slaves_clothing_cost }
				set_variable = { pops_household_cost = slaves_household_cost }
				set_variable = { pops_education_cost = slaves_education_cost }
				set_variable = { pops_healthcare_cost = slaves_healthcare_cost }
				set_variable = { pops_movement_cost = slaves_movement_cost }
				set_variable = { pops_fuel_cost = slaves_fuel_cost }
				set_variable = { pops_luxuries_cost = slaves_luxuries_cost }
				set_variable = { pops_security_cost = slaves_security_cost }
				set_variable = { pops_finance_cost = slaves_finance_cost }
				
				add_to_variable = { pops_food_cost = peasants_food_cost }
				add_to_variable = { pops_housing_cost = peasants_housing_cost }
				add_to_variable = { pops_heating_cost = peasants_heating_cost }
				add_to_variable = { pops_clothing_cost = peasants_clothing_cost }
				add_to_variable = { pops_household_cost = peasants_household_cost }
				add_to_variable = { pops_education_cost = peasants_education_cost }
				add_to_variable = { pops_healthcare_cost = peasants_healthcare_cost }
				add_to_variable = { pops_movement_cost = peasants_movement_cost }
				add_to_variable = { pops_fuel_cost = peasants_fuel_cost }
				add_to_variable = { pops_luxuries_cost = peasants_luxuries_cost }
				add_to_variable = { pops_security_cost = peasants_security_cost }
				add_to_variable = { pops_finance_cost = peasants_finance_cost }
				
				add_to_variable = { pops_food_cost = laborers_food_cost }
				add_to_variable = { pops_housing_cost = laborers_housing_cost }
				add_to_variable = { pops_heating_cost = laborers_heating_cost }
				add_to_variable = { pops_clothing_cost = laborers_clothing_cost }
				add_to_variable = { pops_household_cost = laborers_household_cost }
				add_to_variable = { pops_education_cost = laborers_education_cost }
				add_to_variable = { pops_healthcare_cost = laborers_healthcare_cost }
				add_to_variable = { pops_movement_cost = laborers_movement_cost }
				add_to_variable = { pops_fuel_cost = laborers_fuel_cost }
				add_to_variable = { pops_luxuries_cost = laborers_luxuries_cost }
				add_to_variable = { pops_security_cost = laborers_security_cost }
				add_to_variable = { pops_finance_cost = laborers_finance_cost }
				
				add_to_variable = { pops_food_cost = workers_food_cost }
				add_to_variable = { pops_housing_cost = workers_housing_cost }
				add_to_variable = { pops_heating_cost = workers_heating_cost }
				add_to_variable = { pops_clothing_cost = workers_clothing_cost }
				add_to_variable = { pops_household_cost = workers_household_cost }
				add_to_variable = { pops_education_cost = workers_education_cost }
				add_to_variable = { pops_healthcare_cost = workers_healthcare_cost }
				add_to_variable = { pops_movement_cost = workers_movement_cost }
				add_to_variable = { pops_fuel_cost = workers_fuel_cost }
				add_to_variable = { pops_luxuries_cost = workers_luxuries_cost }
				add_to_variable = { pops_security_cost = workers_security_cost }
				add_to_variable = { pops_finance_cost = workers_finance_cost }
				
				add_to_variable = { pops_food_cost = professionals_food_cost }
				add_to_variable = { pops_housing_cost = professionals_housing_cost }
				add_to_variable = { pops_heating_cost = professionals_heating_cost }
				add_to_variable = { pops_clothing_cost = professionals_clothing_cost }
				add_to_variable = { pops_household_cost = professionals_household_cost }
				add_to_variable = { pops_education_cost = professionals_education_cost }
				add_to_variable = { pops_healthcare_cost = professionals_healthcare_cost }
				add_to_variable = { pops_movement_cost = professionals_movement_cost }
				add_to_variable = { pops_fuel_cost = professionals_fuel_cost }
				add_to_variable = { pops_luxuries_cost = professionals_luxuries_cost }
				add_to_variable = { pops_security_cost = professionals_security_cost }
				add_to_variable = { pops_finance_cost = professionals_finance_cost }
				
				add_to_variable = { pops_food_cost = elites_food_cost }
				add_to_variable = { pops_housing_cost = elites_housing_cost }
				add_to_variable = { pops_heating_cost = elites_heating_cost }
				add_to_variable = { pops_clothing_cost = elites_clothing_cost }
				add_to_variable = { pops_household_cost = elites_household_cost }
				add_to_variable = { pops_education_cost = elites_education_cost }
				add_to_variable = { pops_healthcare_cost = elites_healthcare_cost }
				add_to_variable = { pops_movement_cost = elites_movement_cost }
				add_to_variable = { pops_fuel_cost = elites_fuel_cost }
				add_to_variable = { pops_luxuries_cost = elites_luxuries_cost }
				add_to_variable = { pops_security_cost = elites_security_cost }
				add_to_variable = { pops_finance_cost = elites_finance_cost }
				
				add_to_variable = { pops_food_cost = bureaucrats_food_cost }
				add_to_variable = { pops_housing_cost = bureaucrats_housing_cost }
				add_to_variable = { pops_heating_cost = bureaucrats_heating_cost }
				add_to_variable = { pops_clothing_cost = bureaucrats_clothing_cost }
				add_to_variable = { pops_household_cost = bureaucrats_household_cost }
				add_to_variable = { pops_education_cost = bureaucrats_education_cost }
				add_to_variable = { pops_healthcare_cost = bureaucrats_healthcare_cost }
				add_to_variable = { pops_movement_cost = bureaucrats_movement_cost }
				add_to_variable = { pops_fuel_cost = bureaucrats_fuel_cost }
				add_to_variable = { pops_luxuries_cost = bureaucrats_luxuries_cost }
				add_to_variable = { pops_security_cost = bureaucrats_security_cost }
				add_to_variable = { pops_finance_cost = bureaucrats_finance_cost }
				
				add_to_variable = { pops_food_cost = soldiers_food_cost }
				add_to_variable = { pops_housing_cost = soldiers_housing_cost }
				add_to_variable = { pops_heating_cost = soldiers_heating_cost }
				add_to_variable = { pops_clothing_cost = soldiers_clothing_cost }
				add_to_variable = { pops_household_cost = soldiers_household_cost }
				add_to_variable = { pops_education_cost = soldiers_education_cost }
				add_to_variable = { pops_healthcare_cost = soldiers_healthcare_cost }
				add_to_variable = { pops_movement_cost = soldiers_movement_cost }
				add_to_variable = { pops_fuel_cost = soldiers_fuel_cost }
				add_to_variable = { pops_luxuries_cost = soldiers_luxuries_cost }
				add_to_variable = { pops_security_cost = soldiers_security_cost }
				add_to_variable = { pops_finance_cost = soldiers_finance_cost }
			#

			set_variable = { pops_need@token:resource_foodstuffs = 0 }
			set_variable = { pops_need@token:resource_groceries = 0 }
			set_variable = { pops_need@token:resource_housing = 0 }

			set_variable = { pops_need@token:resource_lumber = 0 }
			set_variable = { pops_need@token:resource_coal = 0 }
			set_variable = { pops_need@token:resource_electricity = 0 }

			set_variable = { pops_need@token:resource_fiber = 0 }
			set_variable = { pops_need@token:resource_fabric = 0 }
			set_variable = { pops_need@token:resource_clothing = 0 }
			set_variable = { pops_need@token:resource_consumer_goods = 0 }
			set_variable = { pops_need@token:resource_electronics = 0 }

			set_variable = { pops_need@token:resource_basic_education = 0 }
			set_variable = { pops_need@token:resource_higher_education = 0 }
			set_variable = { pops_need@token:resource_healthcare = 0 }
			set_variable = { pops_need@token:resource_pharmaceuticals = 0 }

			set_variable = { pops_need@token:resource_transport = 0 }
			set_variable = { pops_need@token:resource_automobiles = 0 }
			set_variable = { pops_need@token:resource_hydrocarbons = 0 }

			set_variable = { pops_need@token:resource_computers = 0 }
			set_variable = { pops_need@token:resource_entertainment = 0 }
			set_variable = { pops_need@token:resource_convoys = 0 }
			set_variable = { pops_need@token:resource_airplanes = 0 }

			set_variable = { pops_need@token:resource_small_arms = 0 }
			set_variable = { pops_need@token:resource_ammunition = 0 }
			set_variable = { pops_need@token:resource_artillery = 0 }
			set_variable = { pops_need@token:resource_tanks = 0 }
			
			set_variable = { pops_need@token:resource_finance = 0 }

			#Slaves
				add_to_variable = { pops_need@token:resource_foodstuffs = slaves_food_need@token:resource_foodstuffs }
				add_to_variable = { pops_need@token:resource_groceries = slaves_food_need@token:resource_groceries }

				add_to_variable = { pops_need@token:resource_housing = slaves_housing_need@token:resource_housing }
				
				add_to_variable = { pops_need@token:resource_lumber = slaves_heating_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_coal = slaves_heating_need@token:resource_coal }
				add_to_variable = { pops_need@token:resource_electricity = slaves_heating_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_fiber = slaves_clothing_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = slaves_clothing_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_clothing = slaves_clothing_need@token:resource_clothing }
				
				add_to_variable = { pops_need@token:resource_fiber = slaves_household_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = slaves_household_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_lumber = slaves_household_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_consumer_goods = slaves_household_need@token:resource_consumer_goods }
				add_to_variable = { pops_need@token:resource_electronics = slaves_household_need@token:resource_electronics }
				
				add_to_variable = { pops_need@token:resource_basic_education = slaves_education_need@token:resource_basic_education }
				add_to_variable = { pops_need@token:resource_higher_education = slaves_education_need@token:resource_higher_education }
				
				add_to_variable = { pops_need@token:resource_healthcare = slaves_healthcare_need@token:resource_healthcare }
				add_to_variable = { pops_need@token:resource_pharmaceuticals = slaves_healthcare_need@token:resource_pharmaceuticals }
				
				add_to_variable = { pops_need@token:resource_transport = slaves_movement_need@token:resource_transport }
				add_to_variable = { pops_need@token:resource_automobiles = slaves_movement_need@token:resource_automobiles }
				
				add_to_variable = { pops_need@token:resource_hydrocarbons = slaves_fuel_need@token:resource_hydrocarbons }
				add_to_variable = { pops_need@token:resource_electricity = slaves_fuel_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_electronics = slaves_luxuries_need@token:resource_electronics }
				add_to_variable = { pops_need@token:resource_computers = slaves_luxuries_need@token:resource_computers }
				add_to_variable = { pops_need@token:resource_entertainment = slaves_luxuries_need@token:resource_entertainment }
				add_to_variable = { pops_need@token:resource_convoys = slaves_luxuries_need@token:resource_convoys }
				add_to_variable = { pops_need@token:resource_airplanes = slaves_luxuries_need@token:resource_airplanes }

				add_to_variable = { pops_need@token:resource_small_arms = slaves_security_need@token:resource_small_arms }
				add_to_variable = { pops_need@token:resource_ammunition = slaves_security_need@token:resource_ammunition }
				add_to_variable = { pops_need@token:resource_artillery = slaves_security_need@token:resource_artillery }
				add_to_variable = { pops_need@token:resource_tanks = slaves_security_need@token:resource_tanks }
				
				add_to_variable = { pops_need@token:resource_finance = slaves_finance_need@token:resource_finance }
			#
			#Peasants
				add_to_variable = { pops_need@token:resource_foodstuffs = peasants_food_need@token:resource_foodstuffs }
				add_to_variable = { pops_need@token:resource_groceries = peasants_food_need@token:resource_groceries }

				add_to_variable = { pops_need@token:resource_housing = peasants_housing_need@token:resource_housing }
				
				add_to_variable = { pops_need@token:resource_lumber = peasants_heating_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_coal = peasants_heating_need@token:resource_coal }
				add_to_variable = { pops_need@token:resource_electricity = peasants_heating_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_fiber = peasants_clothing_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = peasants_clothing_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_clothing = peasants_clothing_need@token:resource_clothing }
				
				add_to_variable = { pops_need@token:resource_fiber = peasants_household_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = peasants_household_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_lumber = peasants_household_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_consumer_goods = peasants_household_need@token:resource_consumer_goods }
				add_to_variable = { pops_need@token:resource_electronics = peasants_household_need@token:resource_electronics }
				
				add_to_variable = { pops_need@token:resource_basic_education = peasants_education_need@token:resource_basic_education }
				add_to_variable = { pops_need@token:resource_higher_education = peasants_education_need@token:resource_higher_education }
				
				add_to_variable = { pops_need@token:resource_healthcare = peasants_healthcare_need@token:resource_healthcare }
				add_to_variable = { pops_need@token:resource_pharmaceuticals = peasants_healthcare_need@token:resource_pharmaceuticals }
				
				add_to_variable = { pops_need@token:resource_transport = peasants_movement_need@token:resource_transport }
				add_to_variable = { pops_need@token:resource_automobiles = peasants_movement_need@token:resource_automobiles }
				
				add_to_variable = { pops_need@token:resource_hydrocarbons = peasants_fuel_need@token:resource_hydrocarbons }
				add_to_variable = { pops_need@token:resource_electricity = peasants_fuel_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_electronics = peasants_luxuries_need@token:resource_electronics }
				add_to_variable = { pops_need@token:resource_computers = peasants_luxuries_need@token:resource_computers }
				add_to_variable = { pops_need@token:resource_entertainment = peasants_luxuries_need@token:resource_entertainment }
				add_to_variable = { pops_need@token:resource_convoys = peasants_luxuries_need@token:resource_convoys }
				add_to_variable = { pops_need@token:resource_airplanes = peasants_luxuries_need@token:resource_airplanes }

				add_to_variable = { pops_need@token:resource_small_arms = peasants_security_need@token:resource_small_arms }
				add_to_variable = { pops_need@token:resource_ammunition = peasants_security_need@token:resource_ammunition }
				add_to_variable = { pops_need@token:resource_artillery = peasants_security_need@token:resource_artillery }
				add_to_variable = { pops_need@token:resource_tanks = peasants_security_need@token:resource_tanks }
				
				add_to_variable = { pops_need@token:resource_finance = peasants_finance_need@token:resource_finance }
			#
			#Laborers
				add_to_variable = { pops_need@token:resource_foodstuffs = laborers_food_need@token:resource_foodstuffs }
				add_to_variable = { pops_need@token:resource_groceries = laborers_food_need@token:resource_groceries }

				add_to_variable = { pops_need@token:resource_housing = laborers_housing_need@token:resource_housing }
				
				add_to_variable = { pops_need@token:resource_lumber = laborers_heating_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_coal = laborers_heating_need@token:resource_coal }
				add_to_variable = { pops_need@token:resource_electricity = laborers_heating_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_fiber = laborers_clothing_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = laborers_clothing_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_clothing = laborers_clothing_need@token:resource_clothing }
				
				add_to_variable = { pops_need@token:resource_fiber = laborers_household_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = laborers_household_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_lumber = laborers_household_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_consumer_goods = laborers_household_need@token:resource_consumer_goods }
				add_to_variable = { pops_need@token:resource_electronics = laborers_household_need@token:resource_electronics }
				
				add_to_variable = { pops_need@token:resource_basic_education = laborers_education_need@token:resource_basic_education }
				add_to_variable = { pops_need@token:resource_higher_education = laborers_education_need@token:resource_higher_education }
				
				add_to_variable = { pops_need@token:resource_healthcare = laborers_healthcare_need@token:resource_healthcare }
				add_to_variable = { pops_need@token:resource_pharmaceuticals = laborers_healthcare_need@token:resource_pharmaceuticals }
				
				add_to_variable = { pops_need@token:resource_transport = laborers_movement_need@token:resource_transport }
				add_to_variable = { pops_need@token:resource_automobiles = laborers_movement_need@token:resource_automobiles }
				
				add_to_variable = { pops_need@token:resource_hydrocarbons = laborers_fuel_need@token:resource_hydrocarbons }
				add_to_variable = { pops_need@token:resource_electricity = laborers_fuel_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_electronics = laborers_luxuries_need@token:resource_electronics }
				add_to_variable = { pops_need@token:resource_computers = laborers_luxuries_need@token:resource_computers }
				add_to_variable = { pops_need@token:resource_entertainment = laborers_luxuries_need@token:resource_entertainment }
				add_to_variable = { pops_need@token:resource_convoys = laborers_luxuries_need@token:resource_convoys }
				add_to_variable = { pops_need@token:resource_airplanes = laborers_luxuries_need@token:resource_airplanes }

				add_to_variable = { pops_need@token:resource_small_arms = laborers_security_need@token:resource_small_arms }
				add_to_variable = { pops_need@token:resource_ammunition = laborers_security_need@token:resource_ammunition }
				add_to_variable = { pops_need@token:resource_artillery = laborers_security_need@token:resource_artillery }
				add_to_variable = { pops_need@token:resource_tanks = laborers_security_need@token:resource_tanks }
				
				add_to_variable = { pops_need@token:resource_finance = laborers_finance_need@token:resource_finance }
			#
			#Workers
				add_to_variable = { pops_need@token:resource_foodstuffs = workers_food_need@token:resource_foodstuffs }
				add_to_variable = { pops_need@token:resource_groceries = workers_food_need@token:resource_groceries }

				add_to_variable = { pops_need@token:resource_housing = workers_housing_need@token:resource_housing }
				
				add_to_variable = { pops_need@token:resource_lumber = workers_heating_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_coal = workers_heating_need@token:resource_coal }
				add_to_variable = { pops_need@token:resource_electricity = workers_heating_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_fiber = workers_clothing_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = workers_clothing_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_clothing = workers_clothing_need@token:resource_clothing }
				
				add_to_variable = { pops_need@token:resource_fiber = workers_household_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = workers_household_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_lumber = workers_household_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_consumer_goods = workers_household_need@token:resource_consumer_goods }
				add_to_variable = { pops_need@token:resource_electronics = workers_household_need@token:resource_electronics }
				
				add_to_variable = { pops_need@token:resource_basic_education = workers_education_need@token:resource_basic_education }
				add_to_variable = { pops_need@token:resource_higher_education = workers_education_need@token:resource_higher_education }
				
				add_to_variable = { pops_need@token:resource_healthcare = workers_healthcare_need@token:resource_healthcare }
				add_to_variable = { pops_need@token:resource_pharmaceuticals = workers_healthcare_need@token:resource_pharmaceuticals }
				
				add_to_variable = { pops_need@token:resource_transport = workers_movement_need@token:resource_transport }
				add_to_variable = { pops_need@token:resource_automobiles = workers_movement_need@token:resource_automobiles }
				
				add_to_variable = { pops_need@token:resource_hydrocarbons = workers_fuel_need@token:resource_hydrocarbons }
				add_to_variable = { pops_need@token:resource_electricity = workers_fuel_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_electronics = workers_luxuries_need@token:resource_electronics }
				add_to_variable = { pops_need@token:resource_computers = workers_luxuries_need@token:resource_computers }
				add_to_variable = { pops_need@token:resource_entertainment = workers_luxuries_need@token:resource_entertainment }
				add_to_variable = { pops_need@token:resource_convoys = workers_luxuries_need@token:resource_convoys }
				add_to_variable = { pops_need@token:resource_airplanes = workers_luxuries_need@token:resource_airplanes }

				add_to_variable = { pops_need@token:resource_small_arms = workers_security_need@token:resource_small_arms }
				add_to_variable = { pops_need@token:resource_ammunition = workers_security_need@token:resource_ammunition }
				add_to_variable = { pops_need@token:resource_artillery = workers_security_need@token:resource_artillery }
				add_to_variable = { pops_need@token:resource_tanks = workers_security_need@token:resource_tanks }
				
				add_to_variable = { pops_need@token:resource_finance = workers_finance_need@token:resource_finance }
			#
			#Professionals
				add_to_variable = { pops_need@token:resource_foodstuffs = professionals_food_need@token:resource_foodstuffs }
				add_to_variable = { pops_need@token:resource_groceries = professionals_food_need@token:resource_groceries }

				add_to_variable = { pops_need@token:resource_housing = professionals_housing_need@token:resource_housing }
				
				add_to_variable = { pops_need@token:resource_lumber = professionals_heating_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_coal = professionals_heating_need@token:resource_coal }
				add_to_variable = { pops_need@token:resource_electricity = professionals_heating_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_fiber = professionals_clothing_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = professionals_clothing_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_clothing = professionals_clothing_need@token:resource_clothing }
				
				add_to_variable = { pops_need@token:resource_fiber = professionals_household_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = professionals_household_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_lumber = professionals_household_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_consumer_goods = professionals_household_need@token:resource_consumer_goods }
				add_to_variable = { pops_need@token:resource_electronics = professionals_household_need@token:resource_electronics }
				
				add_to_variable = { pops_need@token:resource_basic_education = professionals_education_need@token:resource_basic_education }
				add_to_variable = { pops_need@token:resource_higher_education = professionals_education_need@token:resource_higher_education }
				
				add_to_variable = { pops_need@token:resource_healthcare = professionals_healthcare_need@token:resource_healthcare }
				add_to_variable = { pops_need@token:resource_pharmaceuticals = professionals_healthcare_need@token:resource_pharmaceuticals }
				
				add_to_variable = { pops_need@token:resource_transport = professionals_movement_need@token:resource_transport }
				add_to_variable = { pops_need@token:resource_automobiles = professionals_movement_need@token:resource_automobiles }
				
				add_to_variable = { pops_need@token:resource_hydrocarbons = professionals_fuel_need@token:resource_hydrocarbons }
				add_to_variable = { pops_need@token:resource_electricity = professionals_fuel_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_electronics = professionals_luxuries_need@token:resource_electronics }
				add_to_variable = { pops_need@token:resource_computers = professionals_luxuries_need@token:resource_computers }
				add_to_variable = { pops_need@token:resource_entertainment = professionals_luxuries_need@token:resource_entertainment }
				add_to_variable = { pops_need@token:resource_convoys = professionals_luxuries_need@token:resource_convoys }
				add_to_variable = { pops_need@token:resource_airplanes = professionals_luxuries_need@token:resource_airplanes }

				add_to_variable = { pops_need@token:resource_small_arms = professionals_security_need@token:resource_small_arms }
				add_to_variable = { pops_need@token:resource_ammunition = professionals_security_need@token:resource_ammunition }
				add_to_variable = { pops_need@token:resource_artillery = professionals_security_need@token:resource_artillery }
				add_to_variable = { pops_need@token:resource_tanks = professionals_security_need@token:resource_tanks }
				
				add_to_variable = { pops_need@token:resource_finance = professionals_finance_need@token:resource_finance }
			#
			#Elites
				add_to_variable = { pops_need@token:resource_foodstuffs = elites_food_need@token:resource_foodstuffs }
				add_to_variable = { pops_need@token:resource_groceries = elites_food_need@token:resource_groceries }

				add_to_variable = { pops_need@token:resource_housing = elites_housing_need@token:resource_housing }
				
				add_to_variable = { pops_need@token:resource_lumber = elites_heating_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_coal = elites_heating_need@token:resource_coal }
				add_to_variable = { pops_need@token:resource_electricity = elites_heating_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_fiber = elites_clothing_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = elites_clothing_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_clothing = elites_clothing_need@token:resource_clothing }
				
				add_to_variable = { pops_need@token:resource_fiber = elites_household_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = elites_household_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_lumber = elites_household_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_consumer_goods = elites_household_need@token:resource_consumer_goods }
				add_to_variable = { pops_need@token:resource_electronics = elites_household_need@token:resource_electronics }
				
				add_to_variable = { pops_need@token:resource_basic_education = elites_education_need@token:resource_basic_education }
				add_to_variable = { pops_need@token:resource_higher_education = elites_education_need@token:resource_higher_education }
				
				add_to_variable = { pops_need@token:resource_healthcare = elites_healthcare_need@token:resource_healthcare }
				add_to_variable = { pops_need@token:resource_pharmaceuticals = elites_healthcare_need@token:resource_pharmaceuticals }
				
				add_to_variable = { pops_need@token:resource_transport = elites_movement_need@token:resource_transport }
				add_to_variable = { pops_need@token:resource_automobiles = elites_movement_need@token:resource_automobiles }
				
				add_to_variable = { pops_need@token:resource_hydrocarbons = elites_fuel_need@token:resource_hydrocarbons }
				add_to_variable = { pops_need@token:resource_electricity = elites_fuel_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_electronics = elites_luxuries_need@token:resource_electronics }
				add_to_variable = { pops_need@token:resource_computers = elites_luxuries_need@token:resource_computers }
				add_to_variable = { pops_need@token:resource_entertainment = elites_luxuries_need@token:resource_entertainment }
				add_to_variable = { pops_need@token:resource_convoys = elites_luxuries_need@token:resource_convoys }
				add_to_variable = { pops_need@token:resource_airplanes = elites_luxuries_need@token:resource_airplanes }

				add_to_variable = { pops_need@token:resource_small_arms = elites_security_need@token:resource_small_arms }
				add_to_variable = { pops_need@token:resource_ammunition = elites_security_need@token:resource_ammunition }
				add_to_variable = { pops_need@token:resource_artillery = elites_security_need@token:resource_artillery }
				add_to_variable = { pops_need@token:resource_tanks = elites_security_need@token:resource_tanks }
				
				add_to_variable = { pops_need@token:resource_finance = elites_finance_need@token:resource_finance }
			#
			#Bureaucrats
				add_to_variable = { pops_need@token:resource_foodstuffs = bureaucrats_food_need@token:resource_foodstuffs }
				add_to_variable = { pops_need@token:resource_groceries = bureaucrats_food_need@token:resource_groceries }

				add_to_variable = { pops_need@token:resource_housing = bureaucrats_housing_need@token:resource_housing }
				
				add_to_variable = { pops_need@token:resource_lumber = bureaucrats_heating_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_coal = bureaucrats_heating_need@token:resource_coal }
				add_to_variable = { pops_need@token:resource_electricity = bureaucrats_heating_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_fiber = bureaucrats_clothing_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = bureaucrats_clothing_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_clothing = bureaucrats_clothing_need@token:resource_clothing }
				
				add_to_variable = { pops_need@token:resource_fiber = bureaucrats_household_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = bureaucrats_household_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_lumber = bureaucrats_household_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_consumer_goods = bureaucrats_household_need@token:resource_consumer_goods }
				add_to_variable = { pops_need@token:resource_electronics = bureaucrats_household_need@token:resource_electronics }
				
				add_to_variable = { pops_need@token:resource_basic_education = bureaucrats_education_need@token:resource_basic_education }
				add_to_variable = { pops_need@token:resource_higher_education = bureaucrats_education_need@token:resource_higher_education }
				
				add_to_variable = { pops_need@token:resource_healthcare = bureaucrats_healthcare_need@token:resource_healthcare }
				add_to_variable = { pops_need@token:resource_pharmaceuticals = bureaucrats_healthcare_need@token:resource_pharmaceuticals }
				
				add_to_variable = { pops_need@token:resource_transport = bureaucrats_movement_need@token:resource_transport }
				add_to_variable = { pops_need@token:resource_automobiles = bureaucrats_movement_need@token:resource_automobiles }
				
				add_to_variable = { pops_need@token:resource_hydrocarbons = bureaucrats_fuel_need@token:resource_hydrocarbons }
				add_to_variable = { pops_need@token:resource_electricity = bureaucrats_fuel_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_electronics = bureaucrats_luxuries_need@token:resource_electronics }
				add_to_variable = { pops_need@token:resource_computers = bureaucrats_luxuries_need@token:resource_computers }
				add_to_variable = { pops_need@token:resource_entertainment = bureaucrats_luxuries_need@token:resource_entertainment }
				add_to_variable = { pops_need@token:resource_convoys = bureaucrats_luxuries_need@token:resource_convoys }
				add_to_variable = { pops_need@token:resource_airplanes = bureaucrats_luxuries_need@token:resource_airplanes }

				add_to_variable = { pops_need@token:resource_small_arms = bureaucrats_security_need@token:resource_small_arms }
				add_to_variable = { pops_need@token:resource_ammunition = bureaucrats_security_need@token:resource_ammunition }
				add_to_variable = { pops_need@token:resource_artillery = bureaucrats_security_need@token:resource_artillery }
				add_to_variable = { pops_need@token:resource_tanks = bureaucrats_security_need@token:resource_tanks }
				
				add_to_variable = { pops_need@token:resource_finance = bureaucrats_finance_need@token:resource_finance }
			#
			#Soldiers
				add_to_variable = { pops_need@token:resource_foodstuffs = soldiers_food_need@token:resource_foodstuffs }
				add_to_variable = { pops_need@token:resource_groceries = soldiers_food_need@token:resource_groceries }

				add_to_variable = { pops_need@token:resource_housing = soldiers_housing_need@token:resource_housing }
				
				add_to_variable = { pops_need@token:resource_lumber = soldiers_heating_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_coal = soldiers_heating_need@token:resource_coal }
				add_to_variable = { pops_need@token:resource_electricity = soldiers_heating_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_fiber = soldiers_clothing_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = soldiers_clothing_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_clothing = soldiers_clothing_need@token:resource_clothing }
				
				add_to_variable = { pops_need@token:resource_fiber = soldiers_household_need@token:resource_fiber }
				add_to_variable = { pops_need@token:resource_fabric = soldiers_household_need@token:resource_fabric }
				add_to_variable = { pops_need@token:resource_lumber = soldiers_household_need@token:resource_lumber }
				add_to_variable = { pops_need@token:resource_consumer_goods = soldiers_household_need@token:resource_consumer_goods }
				add_to_variable = { pops_need@token:resource_electronics = soldiers_household_need@token:resource_electronics }
				
				add_to_variable = { pops_need@token:resource_basic_education = soldiers_education_need@token:resource_basic_education }
				add_to_variable = { pops_need@token:resource_higher_education = soldiers_education_need@token:resource_higher_education }
				
				add_to_variable = { pops_need@token:resource_healthcare = soldiers_healthcare_need@token:resource_healthcare }
				add_to_variable = { pops_need@token:resource_pharmaceuticals = soldiers_healthcare_need@token:resource_pharmaceuticals }
				
				add_to_variable = { pops_need@token:resource_transport = soldiers_movement_need@token:resource_transport }
				add_to_variable = { pops_need@token:resource_automobiles = soldiers_movement_need@token:resource_automobiles }
				
				add_to_variable = { pops_need@token:resource_hydrocarbons = soldiers_fuel_need@token:resource_hydrocarbons }
				add_to_variable = { pops_need@token:resource_electricity = soldiers_fuel_need@token:resource_electricity }
				
				add_to_variable = { pops_need@token:resource_electronics = soldiers_luxuries_need@token:resource_electronics }
				add_to_variable = { pops_need@token:resource_computers = soldiers_luxuries_need@token:resource_computers }
				add_to_variable = { pops_need@token:resource_entertainment = soldiers_luxuries_need@token:resource_entertainment }
				add_to_variable = { pops_need@token:resource_convoys = soldiers_luxuries_need@token:resource_convoys }
				add_to_variable = { pops_need@token:resource_airplanes = soldiers_luxuries_need@token:resource_airplanes }

				add_to_variable = { pops_need@token:resource_small_arms = soldiers_security_need@token:resource_small_arms }
				add_to_variable = { pops_need@token:resource_ammunition = soldiers_security_need@token:resource_ammunition }
				add_to_variable = { pops_need@token:resource_artillery = soldiers_security_need@token:resource_artillery }
				add_to_variable = { pops_need@token:resource_tanks = soldiers_security_need@token:resource_tanks }
				
				add_to_variable = { pops_need@token:resource_finance = soldiers_finance_need@token:resource_finance }
			#

			#Going through each need
				clear_array = pops_spending_token_array

				set_variable = { pops_needs_spending_relative_price = pops_needs_spending }
				set_temp_variable = { pops_needs_spending_temp = 0 }

				for_each_loop = {
					array = global.pops_needs_token_array
					value = r_token

					set_temp_variable = { pops_need_cost = pops_need@var:r_token }
					multiply_temp_variable = { pops_need_cost = global.base_price@var:r_token }
					add_to_temp_variable = { pops_needs_spending_temp = pops_need_cost }

					set_variable = { pops_spending@var:r_token = pops_need@var:r_token }
					multiply_variable = { pops_spending@var:r_token = price@var:r_token }

					set_variable = { pops_relative_spending@var:r_token = pops_spending@var:r_token }
					multiply_variable = { pops_relative_spending@var:r_token = 100 }
					divide_variable = { pops_relative_spending@var:r_token = pops_needs_spending }

					if = {
						limit = {
							check_variable = { pops_relative_spending@var:r_token > 0.009 }
						}
						for_each_loop = {
							array = pops_spending_token_array
							index = ii
							value = pr_token
							break = bb

							if = {
								limit = {
									check_variable = { pops_relative_spending@var:r_token > pops_relative_spending@var:pr_token }
								}
								add_to_array = {
									array = pops_spending_token_array
									value = r_token
									index = ii
								}
								set_temp_variable = { bb = 1 }
							}
						}
						if = {
							limit = {
								check_variable = { bb = 0 }
							}
							add_to_array = { pops_spending_token_array = r_token }
						}
					}
				}
				
				divide_variable = { pops_needs_spending_relative_price = pops_needs_spending_temp }
				subtract_from_variable = { pops_needs_spending_relative_price = 1 }
			#
		#
	}
	get_pop_needs = {
		#Input: 
		#	sol_temp
		#	pops_heating_lumber_use
		#	pops_heating_electricity_use
		#	pops_healthcare_pharmaceuticals_use
		#	pops_movement_automobiles_use
		#	pops_fuel_electricity_use
		#	pops_luxuries_computers_use
		#State Scope
		
		#Note: All these values should be taken as 1 resource every 100K pops
		#Output:
		#	food_need_temp@token:resource_foodstuffs
		#	food_need_temp@token:resource_groceries
		#	housing_need_temp@token:resource_housing
		#	heating_need_temp@token:resource_lumber
		#	heating_need_temp@token:resource_coal
		#	heating_need_temp@token:resource_electricity
		#	clothing_need_temp@token:resource_fiber
		#	clothing_need_temp@token:resource_fabric
		#	clothing_need_temp@token:resource_clothing
		#	household_need_temp@token:resource_fiber
		#	household_need_temp@token:resource_lumber
		#	household_need_temp@token:resource_fabric
		#	household_need_temp@token:resource_consumer_goods
		#	household_need_temp@token:resource_electronics
		#	education_need_temp@token:resource_basic_education
		#	education_need_temp@token:resource_higher_education
		#	healthcare_need_temp@token:resource_healthcare
		#	healthcare_need_temp@token:resource_pharmaceuticals
		#	movement_need_temp@token:resource_transport
		#	movement_need_temp@token:resource_automobiles
		#	fuel_need_temp@token:resource_hydrocarbons
		#	fuel_need_temp@token:resource_electricity
		#	luxuries_need_temp@token:resource_electronics
		#	luxuries_need_temp@token:resource_computers
		#	luxuries_need_temp@token:resource_entertainment
		#	luxuries_need_temp@token:resource_convoys
		#	luxuries_need_temp@token:resource_airplanes
		#	security_need_temp@token:resource_small_arms
		#	security_need_temp@token:resource_ammunition
		#	security_need_temp@token:resource_artillery
		#	security_need_temp@token:resource_tanks
		#	finance_need_temp@token:resource_finance

		set_temp_variable = { food_cost_temp@token:resource_groceries = 0 }
		set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 0 }
		
		set_temp_variable = { housing_cost_temp@token:resource_housing = 0 }

		set_temp_variable = { heating_cost_temp@token:resource_lumber = 0 }
		set_temp_variable = { heating_cost_temp@token:resource_coal = 0 }
		set_temp_variable = { heating_cost_temp@token:resource_electricity = 0 }
		
		set_temp_variable = { clothing_cost_temp@token:resource_fiber = 0 }
		set_temp_variable = { clothing_cost_temp@token:resource_fabric = 0 }
		set_temp_variable = { clothing_cost_temp@token:resource_clothing = 0 }

		set_temp_variable = { household_cost_temp@token:resource_fiber = 0 }
		set_temp_variable = { household_cost_temp@token:resource_fabric = 0 }
		set_temp_variable = { household_cost_temp@token:resource_lumber = 0 }
		set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 0 }
		set_temp_variable = { household_cost_temp@token:resource_electronics = 0 }
		
		set_temp_variable = { education_cost_temp@token:resource_basic_education = 0 }
		set_temp_variable = { education_cost_temp@token:resource_higher_education = 0 }

		set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0 }
		set_temp_variable = { healthcare_cost_temp@token:resource_pharmaceuticals = 0 }

		set_temp_variable = { movement_cost_temp@token:resource_transport = 0 }
		set_temp_variable = { movement_cost_temp@token:resource_automobiles = 0 }

		set_temp_variable = { fuel_cost_temp@token:resource_hydrocarbons = 0 }
		set_temp_variable = { fuel_cost_temp@token:resource_electricity = 0 }
		
		set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 0 }
		set_temp_variable = { luxuries_cost_temp@token:resource_computers = 0 }
		set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0 }
		set_temp_variable = { luxuries_cost_temp@token:resource_convoys = 0 }
		set_temp_variable = { luxuries_cost_temp@token:resource_airplanes = 0 }
		
		set_temp_variable = { security_cost_temp@token:resource_small_arms = 0 }
		set_temp_variable = { security_cost_temp@token:resource_ammunition = 0 }
		set_temp_variable = { security_cost_temp@token:resource_artillery = 0 }
		set_temp_variable = { security_cost_temp@token:resource_tanks = 0 }
		
		set_temp_variable = { finance_cost_temp@token:resource_finance = 0 }

		if = { #1-19
			limit = {
				check_variable = { sol_temp < 20 }
			}
			if = { #1-4
				limit = {
					check_variable = { sol_temp < 5 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 1 }
					}
					# 15.00
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 12.5 }
					set_temp_variable = { housing_cost_temp@token:resource_housing = 0.4 }
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 0.4 }
					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 0.8 }
					set_temp_variable = { household_cost_temp@token:resource_fiber = 0.3 }
					set_temp_variable = { household_cost_temp@token:resource_lumber = 0.4 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 2 }
					}
					# 16.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 13 }
					set_temp_variable = { housing_cost_temp@token:resource_housing = 0.6 }
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 0.5 }
					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 1 }
					set_temp_variable = { household_cost_temp@token:resource_fiber = 0.3 }
					set_temp_variable = { household_cost_temp@token:resource_lumber = 0.6 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 3 }
					}
					# 17.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 13.5 }
					set_temp_variable = { housing_cost_temp@token:resource_housing = 0.8 }
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 0.6 }
					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 1 }
					set_temp_variable = { household_cost_temp@token:resource_fiber = 0.4 } 
					set_temp_variable = { household_cost_temp@token:resource_lumber = 0.8 } 
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 4 }
					}
					# 18.1
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 14 }
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.0 }
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 0.8 } 
					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 1.1 } 
					set_temp_variable = { household_cost_temp@token:resource_fiber = 0.4 } 
					set_temp_variable = { household_cost_temp@token:resource_lumber = 0.9 } 
				}
			}
			else_if = { #5-9
				limit = {
					check_variable = { sol_temp < 10 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 5 }
					}
					# 19.2
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 14.7 }
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.0 }
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 0.8 }
					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 1.3 }
					set_temp_variable = { household_cost_temp@token:resource_fiber = 0.5 }
					set_temp_variable = { household_cost_temp@token:resource_lumber = 0.9 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 6 }
					}
					# 20.3
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 15.5 }
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.1 }
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 0.8 }

					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 1.2 }
					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 0.2 }

					set_temp_variable = { household_cost_temp@token:resource_fiber = 0.5 }
					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.1 }
					set_temp_variable = { household_cost_temp@token:resource_lumber = 0.9 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 7 }
					}
					# 21.6
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 16.5 } # 16.5
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.2 }# 1.2
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 0.9 } # 0.96

					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 1.0 } # 1.0
					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 0.4 } # 0.4

					set_temp_variable = { household_cost_temp@token:resource_fiber = 0.4 } # 0.4
					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.2 } # 0.2
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.0 } # 0.96
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 8 }
					}
					# 23.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 17.7 } # 17.5
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.2 }# 1.2
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.0 } # 0.96

					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 0.8 } # 0.8
					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 0.6 } # 0.6

					set_temp_variable = { household_cost_temp@token:resource_fiber = 0.1 } # 0.1
					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.5 } # 0.5
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.1 } # 0.96
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 9 }
					}
					# 24.4
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 19 } # 19.0
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.2 }# 1.2
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.0 } # 0.96

					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 0.6 } # 0.6
					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 0.9 } # 0.8

					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.6 } # 0.6
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.1 } # 0.96
				}
			}
			else_if = { #10-14
				limit = {
					check_variable = { sol_temp < 15 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 10 }
					}
					# 26.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 20 } # 20.0
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.3 }# 1.4
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.0 } # 1.12

					set_temp_variable = { clothing_cost_temp@token:resource_fiber = 0.2 } # 0.2
					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 1.4 } # 1.4

					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.6 } # 0.6
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.1 } # 0.96

					set_temp_variable = { education_cost_temp@token:resource_basic_education = 0.2 } #0.2
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.1 } # 0.08

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.1 } # 0.05
					
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 11 }
					}
					# 27.8
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 21 } # 21.0
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.5 }# 1.6
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.3 } # 1.32

					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 1.4 } # 1.4
					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 0.3 } # 0.3

					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.8 } # 0.8
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.1 } # 1.12
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 0.2 } #0.2

					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.1 } # 0.08

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.1 } # 0.05
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 12 }
					}
					# 29.7
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 22 } # 22.0
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.7 } # 1.8
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.4 } # 1.46

					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 1.4 } # 1.55
					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 0.4 } # 0.3

					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.8 } # 0.8
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.3 } # 1.28
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 0.4 } #0.4
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.2 } # 0.16

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.1 } # 0.1
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 13 }
					}
					# 31.8
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 23.5 } # 23.5
					set_temp_variable = { housing_cost_temp@token:resource_housing = 1.9 }# 2.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.5 } # 1.6

					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 1.4 } # 1.55
					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 0.5 } # 0.6

					set_temp_variable = { household_cost_temp@token:resource_fabric = 1.0 } # 1.0
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.3 } # 1.28
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 0.4 } #0.4
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.2 } # 0.16

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.1 } # 0.1
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 14 }
					}
					# 34.00
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 25 } # 25.0
					set_temp_variable = { housing_cost_temp@token:resource_housing = 2.0 }# 2.2
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.5 } # 1.76

					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 1.5 } # 1.7
					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 0.7 } # 0.9

					set_temp_variable = { household_cost_temp@token:resource_fabric = 1.0 } # 1.0
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.3 } # 1.28
					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 0.2 } # 0.3
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 0.4 } #0.4
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.2 } # 0.24

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.2 } # 0.2
				}
			}
			else = { #15-19
				if = {
					limit = {
						check_variable = { sol_temp = 15 }
					}
					# 36.4
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 26 } # 26.0
					set_temp_variable = { housing_cost_temp@token:resource_housing = 2.2 }# 2.4
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.7 } # 1.92

					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 1.5 } # 1.55
					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 1.2 } # 1.35

					set_temp_variable = { household_cost_temp@token:resource_fabric = 1.0 } # 1.0
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.3 } # 1.28
					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 0.5 } # 0.6
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 0.5 } #0.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.3 } # 0.4

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.2 } # 0.2
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 16 }
					}
					# 39.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 27.5 } # 27.5
					set_temp_variable = { housing_cost_temp@token:resource_housing = 2.5 }# 2.8
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 1.9 } # 2.24

					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 1.2 } # 1.25
					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 1.5 } # 1.65

					set_temp_variable = { household_cost_temp@token:resource_fabric = 1.0 } # 1.0
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.3 } # 1.28
					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 0.8 } # 0.9
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 0.7 } #0.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.4 } # 0.4

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.2 } # 0.2
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 17 }
					}
					# 41.8
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 29.5 } # 29.5
					set_temp_variable = { housing_cost_temp@token:resource_housing = 2.7 }# 3.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 2.0 } # 2.4

					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 0.8 } # 0.8
					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 1.9 } # 1.8

					set_temp_variable = { household_cost_temp@token:resource_fabric = 1.0 } # 1.0
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.3 } # 1.28
					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 1.1 } # 1.2
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 0.9 } #1.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.4 } # 0.56

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.2 } # 0.25
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 18 }
					}
					# 44.8
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 31 } # 31
					set_temp_variable = { housing_cost_temp@token:resource_housing = 3.0 }# 3.2
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 2.3 } # 2.56

					set_temp_variable = { clothing_cost_temp@token:resource_fabric = 0.5 } # 0.5
					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 2.2 } # 2.4

					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.5 } # 0.5
					set_temp_variable = { household_cost_temp@token:resource_lumber = 1.3 } # 1.28
					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 2.1 } # 2.1
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 1.2 } #1.2
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.5 } # 0.56

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.2 } # 0.25
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 19 }
					}
					# 48.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 32.5 } # 32.5
					set_temp_variable = { housing_cost_temp@token:resource_housing = 3.4 }# 3.6
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 2.6 } # 2.88

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 3.0 } # 3.0

					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.5 } # 0.5
					set_temp_variable = { household_cost_temp@token:resource_lumber = 0.8 } # 0.8
					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 2.7 } # 2.7
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 1.4 } #1.4
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.7 } # 0.8

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.4 } # 0.5
				}
			}
		}
		else_if = { #20-39
			limit = {
				check_variable = { sol_temp < 40 }
			}	
			if = { #20-24
				limit = {
					check_variable = { sol_temp < 25 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 20 }
					}
					# 51.4
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 34.0 } # 33.8

					set_temp_variable = { housing_cost_temp@token:resource_housing = 3.8 }# 4.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 2.9 } # 3.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 3.3 } # 3.375

					set_temp_variable = { household_cost_temp@token:resource_fabric = 0.2 } # 0.2
					set_temp_variable = { household_cost_temp@token:resource_lumber = 0.4 } # 0.4
					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 3.4 } # 3.3
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 1.6 } #1.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 0.9 } # 1.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 0.1 } #0.1

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.5 } # 0.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.1 } # 0.1
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.1 } # 0.06

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.1 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 21 }
					}
					# 55.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 36.0 } # 35.5

					set_temp_variable = { housing_cost_temp@token:resource_housing = 4.2 }# 4.4
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 3.2 } # 3.52

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 3.5 } # 3.6

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 4.0 } # 4.2
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 1.8 } #1.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 1.1 } # 1.2

					set_temp_variable = { movement_cost_temp@token:resource_transport = 0.2 } #0.2

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.5 } # 0.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.2 } # 0.2
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.2 } # 0.12

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.1 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 22 }
					}
					# 59.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 37.0 } # 36
					set_temp_variable = { food_cost_temp@token:resource_groceries = 0.2 } # 1.5

					set_temp_variable = { housing_cost_temp@token:resource_housing = 4.7 }# 4.8
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 3.6 } # 3.84

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 4.0 } # 4.2

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 4.5 } # 4.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 2.3 } #2.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 1.4 } # 1.6

					set_temp_variable = { movement_cost_temp@token:resource_transport = 0.3 } #0.3

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.5 } # 0.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.2 } # 0.2
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.2 } # 0.12

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.1 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 23 }
					}
					# 63.3
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 38.0 } # 36.5
					set_temp_variable = { food_cost_temp@token:resource_groceries = 0.5 } # 2.5

					set_temp_variable = { housing_cost_temp@token:resource_housing = 5.0 }# 5.2
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 3.8 } # 4.16

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 4.4 } # 4.95

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 5.0 } # 5.4
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 2.9 } #2.4
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 1.9 } # 2.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 0.4 } #0.4

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.6 } # 0.6
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.3 } # 0.3
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.3 } # 0.18

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.2 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 24 }
					}
					# 68.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 38 } # 36
					set_temp_variable = { food_cost_temp@token:resource_groceries = 0.8 } # 3.5

					set_temp_variable = { housing_cost_temp@token:resource_housing = 5.3 }# 5.6
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 4.1 } # 4.48

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 5.5 } # 6.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 6.1 } # 6.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 3.3 } #2.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 2.4 } # 2.4

					set_temp_variable = { movement_cost_temp@token:resource_transport = 0.7 } #0.7

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.7 } # 0.7
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.4 } # 0.4
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.4 } # 0.24

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.3 }
				}
			}
			else_if = { #25-29
				limit = {
					check_variable = { sol_temp < 30 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 25 }
					}
					# 73.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 38 } # 36
					set_temp_variable = { food_cost_temp@token:resource_groceries = 1.0 } # 4.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 5.8 }# 6.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 4.6 } # 4.80

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 6.5 } # 7.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 6.6 } # 7.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 4.0 } #3.2
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 3.0 } # 3.2

					set_temp_variable = { movement_cost_temp@token:resource_transport = 0.7 } #0.7

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 0.7 } # 0.75
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 0.7 } # 0.75
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.5 } # 0.5
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.5 } # 0.3

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.4 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 26 }
					}
					# 78.5
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 38.5 } # 36
					set_temp_variable = { food_cost_temp@token:resource_groceries = 1.5 } # 5.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 6.0 }# 6.4
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 5.0 } # 5.12

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 7.5 } # 9.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 7.6 } # 9.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 4.4 } #3.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 3.5 } # 3.6

					set_temp_variable = { movement_cost_temp@token:resource_transport = 0.8 } #0.8

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 1.0 } # 0.875
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 1.0 } # 1.125
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.6 } # 0.6
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.6 } # 0.36

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.5 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 27 }
					}
					# 84.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 39 } # 36
					set_temp_variable = { food_cost_temp@token:resource_groceries = 2.0 } # 6.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 6.8 }# 7.2
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 5.4 } # 5.76

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 8.5 } # 10.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 8.5 } # 11.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 5.2 } # 4.4
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 3.8 } # 4.4

					set_temp_variable = { movement_cost_temp@token:resource_transport = 1.0 } #1.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 1.0 } # 1.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 1.0 } # 1.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.6 } # 0.8
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.6 } # 0.48

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.6 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 28 }
					}
					# 90.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 39 } # 35
					set_temp_variable = { food_cost_temp@token:resource_groceries = 2.0 } # 7.5

					set_temp_variable = { housing_cost_temp@token:resource_housing = 7.0 }# 7.6
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 5.7 } # 6.08

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 9.5 } # 10.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 10.7 } # 12.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 6.0 } # 5.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 4.2 } # 5.2

					set_temp_variable = { movement_cost_temp@token:resource_transport = 1.0 } #1.6

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 1.0 } # 1.25
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 1.5 } # 3.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 0.8 } # 1.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 0.8 } # 0.6

					set_temp_variable = { finance_cost_temp@token:resource_finance = 0.8 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 29 }
					}
					# 96.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 39.5 } # 35
					set_temp_variable = { food_cost_temp@token:resource_groceries = 2.0 } # 8.5

					set_temp_variable = { housing_cost_temp@token:resource_housing = 7.4 }# 8.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 5.8 } # 6.4

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 10.5 } # 12.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 12.0 } # 12.75
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 6.0 } # 4.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 5.0 } # 5.6

					set_temp_variable = { movement_cost_temp@token:resource_transport = 1.5 } #2.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 1.2 } # 1.75
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 1.8 } # 4.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 1.0 } # 1.2
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 1.0 } # 0.72

					set_temp_variable = { finance_cost_temp@token:resource_finance = 1.0 }
				}
			}
			else_if = { #30-34
				limit = {
					check_variable = { sol_temp < 35 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 30 }
					}
					# 102.5
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 39.5 } # 34
					set_temp_variable = { food_cost_temp@token:resource_groceries = 2.5 } # 10.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 8.0 }# 9.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 6.0 } # 7.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 12.0 } # 13.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 13.0 } # 12.75
					set_temp_variable = { household_cost_temp@token:resource_electronics = 0.1 } # 0.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 6.0 } # 4.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 5.5 } # 6.4

					set_temp_variable = { movement_cost_temp@token:resource_transport = 2.0 } #2.9

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 1.5 } # 2.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 2.5 } # 4.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 1.2 } # 1.5
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 1.2 } # 0.9

					set_temp_variable = { finance_cost_temp@token:resource_finance = 1.2 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 31 }
					}
					# 110.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 40.5 } # 33
					set_temp_variable = { food_cost_temp@token:resource_groceries = 2.5 } # 12.5

					set_temp_variable = { housing_cost_temp@token:resource_housing = 9.0 }# 10.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 6.8 } # 8.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 13.0 } # 13.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 13.5 } # 13.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 0.5 } # 1.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 6.0 } # 4.6
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 0.1 } # 0.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 6.0 } # 6.4

					set_temp_variable = { movement_cost_temp@token:resource_transport = 3.0 } #3.8

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 2.0 } # 2.25
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 3.0 } # 4.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 1.3 } # 1.7
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 1.3 } # 1.01

					set_temp_variable = { finance_cost_temp@token:resource_finance = 1.5 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 32 }
					}
					# 118.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 41.5 } # 32
					set_temp_variable = { food_cost_temp@token:resource_groceries = 3.0 } # 15.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 10.0 }# 11.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 8.0 } # 8.8

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 13.0 } # 13.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 14.5 } # 15.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 1.0 } # 1.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 6.0 } # 5.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 0.5 } # 0.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 6.5 } # 7.2

					set_temp_variable = { movement_cost_temp@token:resource_transport = 4.0 } #5.2

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 2.0 } # 2.5
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 3.0 } # 5.25
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 1.5 } # 2.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 1.5 } # 1.2

					set_temp_variable = { finance_cost_temp@token:resource_finance = 2.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 33 }
					}
					# 126.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 41.5 } # 30
					set_temp_variable = { food_cost_temp@token:resource_groceries = 3.0 } # 17.5

					set_temp_variable = { housing_cost_temp@token:resource_housing = 11.0 }# 12.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 9.0 } # 9.6

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 13.5 } # 15.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 16.0 } # 15.3
					set_temp_variable = { household_cost_temp@token:resource_electronics = 1.5 } # 2.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 6.5 } # 6.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 0.5 } # 0.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 7.0 } # 8.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 5.0 } #6.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 2.5 } # 3.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 4.0 } # 6.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 1.5 } # 2.5
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 1.5 } # 1.5

					set_temp_variable = { finance_cost_temp@token:resource_finance = 2.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 34 }
					}
					# 134.5
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 42 } # 28
					set_temp_variable = { food_cost_temp@token:resource_groceries = 3.0 } # 20.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 12.0 }# 13.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 9.0 } # 10.4

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 15.0 } # 16.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 16.0 } # 16.05
					set_temp_variable = { household_cost_temp@token:resource_electronics = 2.0 } # 2.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 7.5 } # 6.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 0.5 } # 0.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 8.0 } # 8.4

					set_temp_variable = { movement_cost_temp@token:resource_transport = 6.0 } #7.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 3.0 } # 3.5
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 5.0 } # 6.75
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 1.5 } # 2.5
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 1.5 } # 1.5

					set_temp_variable = { finance_cost_temp@token:resource_finance = 2.5 }
				}
			}
			else = { #35-39
				if = {
					limit = {
						check_variable = { sol_temp = 35 }
					}
					# 144.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 43 } # 26
					set_temp_variable = { food_cost_temp@token:resource_groceries = 4.0 } # 25.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 13.0 }# 14.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 10.0 } # 11.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 16.0 } # 18.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 17.0 } # 16.05
					set_temp_variable = { household_cost_temp@token:resource_electronics = 2.5 } # 3.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 8.0 } # 6.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 0.5 } # 1.2
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 8.0 } # 8.8

					set_temp_variable = { movement_cost_temp@token:resource_transport = 7.0 } #8.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 3.5 } # 4.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 5.0 } # 6.75
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 1.5 } # 2.5
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 1.5 } # 1.5

					set_temp_variable = { finance_cost_temp@token:resource_finance = 3.5 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 36 }
					}
					# 154.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 44 } # 24
					set_temp_variable = { food_cost_temp@token:resource_groceries = 5.0 } # 30.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 14.0 }# 15.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 11.0 } # 12.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 17.0 } # 18.75

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 18.0 } # 16.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 3.0 } # 3.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 8.0 } # 6.8
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 1.0 } # 1.2
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 9.0 } # 9.2

					set_temp_variable = { movement_cost_temp@token:resource_transport = 8.0 } #9.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 4.0 } # 4.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 5.0 } # 6.75
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 1.5 } # 3.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 1.5 } # 1.8

					set_temp_variable = { finance_cost_temp@token:resource_finance = 4.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 37 }
					}
					# 164.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 45 } # 22
					set_temp_variable = { food_cost_temp@token:resource_groceries = 6.0 } # 35.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 15.0 }# 16.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 12.0 } # 12.8

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 18.0 } # 19.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 18.5 } # 16.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 3.5 } # 4.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 10.0 } # 6.8
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 1.0 } # 1.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 9.0 } # 10.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 9.0 } #10.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 4.0 } # 4.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 5.0 } # 7.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 2.0 } # 3.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 2.0 } # 1.8

					set_temp_variable = { finance_cost_temp@token:resource_finance = 4.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 38 }
					}
					# 175.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 46 } # 20
					set_temp_variable = { food_cost_temp@token:resource_groceries = 7.0 } # 40.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 16.0 }# 17.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 13.0 } # 13.6

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 19.0 } # 19.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 20.0 } # 16.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 4.0 } # 5.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 10.0 } # 6.8
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 2.0 } # 1.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 10.0 } # 10.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 10.0 } #12.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 4.0 } # 4.5
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 5.0 } # 7.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 2.0 } # 3.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 2.0 } # 1.8

					set_temp_variable = { finance_cost_temp@token:resource_finance = 5.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 39 }
					}
					# 186.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 47 } # 18
					set_temp_variable = { food_cost_temp@token:resource_groceries = 8.0 } # 45.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 17.0 }# 18.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 13.0 } # 14.4

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 20.0 } # 19.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 20.0 } # 16.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 5.0 } # 5.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 11.0 } # 7.2
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 2.0 } # 1.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 10.0 } # 10.8

					set_temp_variable = { movement_cost_temp@token:resource_transport = 12.0 } #14.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 4.0 } # 5.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 6.0 } # 9.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 2.5 } # 3.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 2.5 } # 1.8

					set_temp_variable = { finance_cost_temp@token:resource_finance = 6.0 }
				}
			}
		}
		else_if = { #40-59
			limit = {
				check_variable = { sol_temp < 60 }
			}
			if = { #40-44
				limit = {
					check_variable = { sol_temp < 45 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 40 }
					}
					# 197.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 48 } # 16
					set_temp_variable = { food_cost_temp@token:resource_groceries = 9.0 } # 50.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 18.0 }# 19.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 14.0 } # 15.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 20.0 } # 19.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 21.0 } # 18.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 5.0 } # 5.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 11.0 } # 7.2
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 2.0 } # 1.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 11.0 } # 12.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 14.0 } #16.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 5.0 } # 5.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 7.0 } # 9.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 1.0 } # 1.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 2.5 } # 3.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 2.5 } # 1.8

					set_temp_variable = { finance_cost_temp@token:resource_finance = 6.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 41 }
					}
					# 209.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 49 } # 14
					set_temp_variable = { food_cost_temp@token:resource_groceries = 10.0 } # 55.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 19.0 }# 20.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 15.0 } # 16.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 20.0 } # 21.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 22.0 } # 18.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 5.0 } # 6.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 12.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 2.0 } # 1.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 12.0 } # 12.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 16.0 } #18.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 5.0 } # 5.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 9.0 } # 9.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 1.0 } # 1.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 2.5 } # 4.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 2.5 } # 2.4

					set_temp_variable = { finance_cost_temp@token:resource_finance = 7.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 42 }
					}
					# 221.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 50 } # 12
					set_temp_variable = { food_cost_temp@token:resource_groceries = 11.0 } # 60.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 20.0 }# 21.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 16.0 } # 16.8

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 21.0 } # 22.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 23.0 } # 19.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 6.0 } # 6.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 12.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 2.0 } # 2.4
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 12.0 } # 12.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 18.0 } #20.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 5.0 } # 6.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 9.0 } # 9.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 1.0 } # 1.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 4.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 2.4

					set_temp_variable = { finance_cost_temp@token:resource_finance = 9.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 43 }
					}
					# 233.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 50 } # 10
					set_temp_variable = { food_cost_temp@token:resource_groceries = 13.0 } # 65.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 21.0 }# 22.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 17.0 } # 17.6

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 22.0 } # 22.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 24.0 } # 18.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 6.0 } # 7.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 13.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 3.0 } # 3.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 12.0 } # 14.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 20.0 } #24.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 6.0 } # 6.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 9.0 } # 10.5
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 1.0 } # 1.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 4.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 2.4

					set_temp_variable = { finance_cost_temp@token:resource_finance = 10.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 44 }
					}
					# 245.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 48 } # 8
					set_temp_variable = { food_cost_temp@token:resource_groceries = 15.0 } # 70.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 22.0 }# 23.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 17.0 } # 18.4

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 23.0 } # 24.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 25.0 } # 18.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 7.0 } # 7.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 14.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 3.0 } # 3.6
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 14.0 } # 14.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 23.0 } #28.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 6.0 } # 6.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 10.0 } # 10.5
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 1.0 } # 1.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 4.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 2.4

					set_temp_variable = { finance_cost_temp@token:resource_finance = 11.0 }
				}
			}
			else_if = { #45-49
				limit = {
					check_variable = { sol_temp < 50 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 45 }
					}
					# 257.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 45 } # 6
					set_temp_variable = { food_cost_temp@token:resource_groceries = 18.0 } # 75.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 23.0 }# 24.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 18.0 } # 19.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 24.0 } # 24.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 26.0 } # 18.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 7.0 } # 7.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 15.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 4.0 } # 4.8
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 14.0 } # 16.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 27.0 } #32.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 6.0 } # 7.5
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 10.0 } # 10.5
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 1.0 } # 2.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 4.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 2.4

					set_temp_variable = { finance_cost_temp@token:resource_finance = 12.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 46 }
					}
					# 270.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 42 } # 4
					set_temp_variable = { food_cost_temp@token:resource_groceries = 21 } # 80.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 24.0 }# 24.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 19.0 } # 19.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 24.0 } # 25.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 28.0 } # 19.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 8.0 } # 10.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 15.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 5.0 } # 6.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 16.0 } # 18.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 30.0 } #32.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 7.0 } # 7.5
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 10.0 } # 10.5
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 1.0 } # 2.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 4.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 2.4

					set_temp_variable = { finance_cost_temp@token:resource_finance = 14.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 47 }
					}
					# 283.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 38 } # 2
					set_temp_variable = { food_cost_temp@token:resource_groceries = 24.0 } # 85.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 24.0 }# 24.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 19.0 } # 19.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 25.0 } # 27.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 31.0 } # 19.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 9.0 } # 10.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 15.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 6.0 } # 9.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 18.0 } # 20.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 32.0 } #34.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 7.0 } # 7.5
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 11.0 } # 12.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 2.0 } # 4.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 4.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 2.4

					set_temp_variable = { finance_cost_temp@token:resource_finance = 16.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 48 }
					}
					# 296.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 35 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 27.0 } # 90.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 24.0 }# 24.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 19.0 } # 19.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 25.0 } # 28.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 31.0 } # 21.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 10.0 } # 10.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 16.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 8.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 20.0 } # 20.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 34.0 } #36.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 7.0 } # 7.5
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 12.0 } # 12.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 4.0 } # 5.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 6.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 3.6

					set_temp_variable = { finance_cost_temp@token:resource_finance = 18.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 49 }
					}
					# 310.0
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 32 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 31.0 } # 95.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 24.0 }# 24.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 19.0 } # 19.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 28.0 } # 30.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 34.0 } # 22.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 10.0 } # 10.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 16.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 10.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 20.0 } # 24.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 36.0 } #38.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 7.0 } # 10.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 12.0 } # 12.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 5.0 } # 5.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 6.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 3.6

					set_temp_variable = { finance_cost_temp@token:resource_finance = 20.0 }
				}
			}
			else_if = { #50-54
				limit = {
					check_variable = { sol_temp < 55 }
				}
				if = {
					limit = {
						check_variable = { sol_temp = 50 }
					}
					# 325
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 29 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 36.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 24.0 }# 24.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 19.0 } # 19.2

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 30.0 } # 30.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 37.0 } # 22.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 10.0 } # 12.5
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 11.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 21.0 } # 24.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 37.0 } #40.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 8.0 } # 10.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 12.0 } # 12.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 5.0 } # 5.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 3.0 } # 8.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 3.0 } # 4.8

					set_temp_variable = { finance_cost_temp@token:resource_finance = 22.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 51 }
					}
					# 341
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 25 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 38.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 24.0 }# 28.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 19.0 } # 22.4

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 30.0 } # 33.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 39.0 } # 24.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 12.0 } # 15.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 24.0 } # 24.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 40.0 } #44.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 10.0 } # 10.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 12.0 } # 12.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 5.0 } # 5.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 4.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 4.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 25.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 52 }
					}
					# 357
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 21 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 39.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 28.0 }# 32.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 22.0 } # 25.6

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 32.0 } # 33.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 44.0 } # 24.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 14.0 } # 15.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 24.0 } # 28.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 40.0 } #44.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 10.0 } # 10.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 12.0 } # 13.5
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 5.0 } # 7.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 5.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 5.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 26.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 53 }
					}
					# 373
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 17 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 42.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 32.0 }# 36.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 24.0 } # 28.8

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 33.0 } # 33.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 44.0 } # 24.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 15.0 } # 15.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 26.0 } # 32.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 42.0 } #48.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 10.0 } # 10.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 13.0 } # 13.5
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 6.0 } # 7.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 5.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 5.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 29.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 54 }
					}
					# 390
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 13 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 44.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 36.0 }# 40.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 26.0 } # 32.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 33.0 } # 33.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 46.0 } # 24.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 15.0 } # 15.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 30.0 } # 40.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 46.0 } #48.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 10.0 } # 10.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 13.0 } # 13.5
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 7.0 } # 7.5
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 6.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 6.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 31.0 }
				}
			}
			else = { #55-59
				if = {
					limit = {
						check_variable = { sol_temp = 55 }
					}
					# 407
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 9 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 46.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 38.0 }# 40.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 32.0 } # 40.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 33.0 } # 33.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 49.0 } # 24.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 15.0 } # 15.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 34.0 } # 40.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 48.0 } #48.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 10.0 } # 15.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 13.0 } # 15.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 7.0 } # 10.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 6.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 6.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 33.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 56 }
					}
					# 424
					set_temp_variable = { food_cost_temp@token:resource_foodstuffs = 5 }
					set_temp_variable = { food_cost_temp@token:resource_groceries = 48.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 40.0 }# 40.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 36.0 } # 40.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 33.0 } # 37.5

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 49.0 } # 25.5
					set_temp_variable = { household_cost_temp@token:resource_electronics = 15.0 } # 15.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 38.0 } # 48.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 48.0 } #52.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 12.0 } # 15.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 15.0 } # 18.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 10.0 } # 10.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 6.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 6.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 35.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 57 }
					}
					# 442
					set_temp_variable = { food_cost_temp@token:resource_groceries = 50.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 40.0 }# 40.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 40.0 } # 50.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 37.0 } # 39.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 50.0 } # 27.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 15.0 } # 15.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 12.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 40.0 } # 52.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 50.0 } #52.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 14.0 } # 15.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 16.0 } # 18.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 10.0 } # 15.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 6.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 6.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 38.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 58 }
					}
					# 460
					set_temp_variable = { food_cost_temp@token:resource_groceries = 25.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 40.0 }# 40.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 43.0 } # 50.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 39.0 } # 39.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 52.0 } # 27.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 16.0 } # 20.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 24.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 40.0 } # 56.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 50.0 } #52.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 15.0 } # 15.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 18.0 } # 18.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 12.0 } # 15.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 7.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 7.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 41.0 }
				}
				else_if = {
					limit = {
						check_variable = { sol_temp = 59 }
					}
					# 480
					set_temp_variable = { food_cost_temp@token:resource_groceries = 50.0 } # 100.0

					set_temp_variable = { housing_cost_temp@token:resource_housing = 40.0 }# 40.0
					set_temp_variable = { heating_cost_temp@token:resource_lumber = 45.0 } # 50.0

					set_temp_variable = { clothing_cost_temp@token:resource_clothing = 40.0 } # 39.0

					set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 55.0 } # 30.0
					set_temp_variable = { household_cost_temp@token:resource_electronics = 16.0 } # 20.0
					
					set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 8.0
					set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 24.0
					
					set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 40.0 } # 64.0

					set_temp_variable = { movement_cost_temp@token:resource_transport = 50.0 } #60.0

					set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 20.0 } # 20.0
					set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 18.0 } # 18.0
					set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 15.0 } # 15.0
					
					set_temp_variable = { security_cost_temp@token:resource_small_arms = 8.0 } # 10.0
					set_temp_variable = { security_cost_temp@token:resource_ammunition = 8.0 } # 6.0

					set_temp_variable = { finance_cost_temp@token:resource_finance = 45.0 }
				}
			}
		}
		else = { #60+
			# limit = {
			# 	check_variable = { sol_temp < 80 }
			# }
			# 524
			set_temp_variable = { food_cost_temp@token:resource_groceries = 50.0 } # 100.0

			set_temp_variable = { housing_cost_temp@token:resource_housing = 40.0 }# 40.0
			set_temp_variable = { heating_cost_temp@token:resource_lumber = 45.0 } # 60.0

			set_temp_variable = { clothing_cost_temp@token:resource_clothing = 40.0 } # 39.0

			set_temp_variable = { household_cost_temp@token:resource_consumer_goods = 55.0 } # 30.0
			set_temp_variable = { household_cost_temp@token:resource_electronics = 16.0 } # 20.0
			
			set_temp_variable = { education_cost_temp@token:resource_basic_education = 18.0 } # 10.0
			set_temp_variable = { education_cost_temp@token:resource_higher_education = 12.0 } # 24.0
			
			set_temp_variable = { healthcare_cost_temp@token:resource_healthcare = 40.0 } # 64.0

			set_temp_variable = { movement_cost_temp@token:resource_transport = 50.0 } #60.0

			set_temp_variable = { luxuries_cost_temp@token:resource_entertainment = 20.0 } # 25.0
			set_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = 18.0 } # 21.0
			set_temp_variable = { luxuries_cost_temp@token:resource_electronics = 15.0 } # 15.0
			set_temp_variable = { luxuries_cost_temp@token:resource_convoys = 5.0 }
			set_temp_variable = { luxuries_cost_temp@token:resource_airplanes = 5.0 }
			
			set_temp_variable = { security_cost_temp@token:resource_small_arms = 8.0 } # 10.0
			set_temp_variable = { security_cost_temp@token:resource_ammunition = 8.0 } # 6.0
			set_temp_variable = { security_cost_temp@token:resource_artillery = 4.0 } # 4.0
			set_temp_variable = { security_cost_temp@token:resource_tanks = 3.0 } # 2.8
			
			set_temp_variable = { finance_cost_temp@token:resource_finance = 45.0 } # 30.0


			set_temp_variable = { sol_inc = 1 }
			set_temp_variable = { sol_dif = sol_temp }
			subtract_from_temp_variable = { sol_dif = 60 }
			while_loop_effect = {
				limit = {
					check_variable = { sol_dif > 10 }
				}
				multiply_temp_variable = { sol_inc = 2 }
				subtract_from_temp_variable = { sol_dif = 10 }
			}

			set_temp_variable = { x = sol_dif }
			multiply_temp_variable = { x = 0.07 } #doubles every 10
			
			set_temp_variable = { xx = x } # x^2 / 2
			multiply_temp_variable = { xx = x }
			divide_temp_variable = { xx = 2 }
			
			set_temp_variable = { xxx = xx } # x^3 / 6
			multiply_temp_variable = { xxx = x }
			divide_temp_variable = { xxx = 3 }
			
			set_temp_variable = { xxxx = xxx } # x^4 / 24
			multiply_temp_variable = { xxxx = x }
			divide_temp_variable = { xxxx = 4 }
			
			set_temp_variable = { xxxxx = xxxx } # x^5 / 120
			multiply_temp_variable = { xxxxx = x }
			divide_temp_variable = { xxxxx = 5 }

			set_temp_variable = { taylor_approx = 1 }
			add_to_temp_variable = { taylor_approx = x }
			add_to_temp_variable = { taylor_approx = xx }
			add_to_temp_variable = { taylor_approx = xxx }
			add_to_temp_variable = { taylor_approx = xxxx }
			add_to_temp_variable = { taylor_approx = xxxxx }
			multiply_temp_variable = { sol_inc = taylor_approx }

			multiply_temp_variable = { food_cost_temp@token:resource_groceries = sol_inc }
			multiply_temp_variable = { housing_cost_temp@token:resource_housing = sol_inc }
			multiply_temp_variable = { heating_cost_temp@token:resource_lumber = sol_inc }
			multiply_temp_variable = { clothing_cost_temp@token:resource_clothing = sol_inc }

			multiply_temp_variable = { household_cost_temp@token:resource_consumer_goods = sol_inc }
			multiply_temp_variable = { household_cost_temp@token:resource_electronics = sol_inc }

			multiply_temp_variable = { healthcare_cost_temp@token:resource_healthcare = sol_inc }
			multiply_temp_variable = { movement_cost_temp@token:resource_transport = sol_inc }

			multiply_temp_variable = { luxuries_cost_temp@token:resource_groceries = sol_inc }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_consumer_goods = sol_inc }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_electronics = sol_inc }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_convoys = sol_inc }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_airplanes = sol_inc }

			multiply_temp_variable = { security_cost_temp@token:resource_small_arms = sol_inc }
			multiply_temp_variable = { security_cost_temp@token:resource_ammunition = sol_inc }
			multiply_temp_variable = { security_cost_temp@token:resource_artillery = sol_inc }
			multiply_temp_variable = { security_cost_temp@token:resource_tanks = sol_inc }

			multiply_temp_variable = { finance_cost_temp@token:resource_finance = sol_inc }
		}

		# Needs Multiplier
			multiply_temp_variable = { food_cost_temp@token:resource_groceries = global.pops_needs_multiplier }
			multiply_temp_variable = { food_cost_temp@token:resource_foodstuffs = global.pops_needs_multiplier }
			multiply_temp_variable = { housing_cost_temp@token:resource_housing = global.pops_needs_multiplier }
			multiply_temp_variable = { heating_cost_temp@token:resource_lumber = global.pops_needs_multiplier }
			multiply_temp_variable = { heating_cost_temp@token:resource_coal = global.pops_needs_multiplier }
			multiply_temp_variable = { heating_cost_temp@token:resource_electricity = global.pops_needs_multiplier }
			multiply_temp_variable = { clothing_cost_temp@token:resource_fiber = global.pops_needs_multiplier }
			multiply_temp_variable = { clothing_cost_temp@token:resource_fabric = global.pops_needs_multiplier }
			multiply_temp_variable = { clothing_cost_temp@token:resource_clothing = global.pops_needs_multiplier }
			multiply_temp_variable = { household_cost_temp@token:resource_fiber = global.pops_needs_multiplier }
			multiply_temp_variable = { household_cost_temp@token:resource_fabric = global.pops_needs_multiplier }
			multiply_temp_variable = { household_cost_temp@token:resource_lumber = global.pops_needs_multiplier }
			multiply_temp_variable = { household_cost_temp@token:resource_consumer_goods = global.pops_needs_multiplier }
			multiply_temp_variable = { household_cost_temp@token:resource_electronics = global.pops_needs_multiplier }
			multiply_temp_variable = { education_cost_temp@token:resource_basic_education = global.pops_needs_multiplier }
			multiply_temp_variable = { education_cost_temp@token:resource_higher_education = global.pops_needs_multiplier }
			multiply_temp_variable = { healthcare_cost_temp@token:resource_healthcare = global.pops_needs_multiplier }
			multiply_temp_variable = { healthcare_cost_temp@token:resource_pharmaceuticals = global.pops_needs_multiplier }
			multiply_temp_variable = { movement_cost_temp@token:resource_transport = global.pops_needs_multiplier }
			multiply_temp_variable = { movement_cost_temp@token:resource_automobiles = global.pops_needs_multiplier }
			multiply_temp_variable = { fuel_cost_temp@token:resource_hydrocarbons = global.pops_needs_multiplier }
			multiply_temp_variable = { fuel_cost_temp@token:resource_electricity = global.pops_needs_multiplier }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_electronics = global.pops_needs_multiplier }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_computers = global.pops_needs_multiplier }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_entertainment = global.pops_needs_multiplier }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_convoys = global.pops_needs_multiplier }
			multiply_temp_variable = { luxuries_cost_temp@token:resource_airplanes = global.pops_needs_multiplier }
			multiply_temp_variable = { security_cost_temp@token:resource_small_arms = global.pops_needs_multiplier }
			multiply_temp_variable = { security_cost_temp@token:resource_ammunition = global.pops_needs_multiplier }
			multiply_temp_variable = { security_cost_temp@token:resource_artillery = global.pops_needs_multiplier }
			multiply_temp_variable = { security_cost_temp@token:resource_tanks = global.pops_needs_multiplier }
			multiply_temp_variable = { finance_cost_temp@token:resource_finance = global.pops_needs_multiplier }
		#

		#Heating Distribution
			set_temp_variable = { gpn_coal_use = 1  }
			subtract_from_temp_variable = { gpn_coal_use = pops_heating_lumber_use }
			subtract_from_temp_variable = { gpn_coal_use = pops_heating_electricity_use }

			set_temp_variable = { heating_cost_temp@token:resource_coal = heating_cost_temp@token:resource_lumber }
			set_temp_variable = { heating_cost_temp@token:resource_electricity = heating_cost_temp@token:resource_lumber }
			divide_temp_variable = { heating_cost_temp@token:resource_electricity = 2 }

			multiply_temp_variable = { heating_cost_temp@token:resource_coal = gpn_coal_use }
			multiply_temp_variable = { heating_cost_temp@token:resource_lumber = pops_heating_lumber_use }
			multiply_temp_variable = { heating_cost_temp@token:resource_electricity = pops_heating_electricity_use }
		#

		#Healthcare Distribution
			set_temp_variable = { healthcare_cost_temp@token:resource_pharmaceuticals = healthcare_cost_temp@token:resource_healthcare }
			multiply_temp_variable = { healthcare_cost_temp@token:resource_pharmaceuticals = pops_healthcare_pharmaceuticals_use }
			subtract_from_temp_variable = { healthcare_cost_temp@token:resource_healthcare = healthcare_cost_temp@token:resource_pharmaceuticals }
		#

		#Movement Distribution
			set_temp_variable = { movement_cost_temp@token:resource_automobiles = movement_cost_temp@token:resource_transport }
			multiply_temp_variable = { movement_cost_temp@token:resource_automobiles = pops_movement_automobiles_use }
			subtract_from_temp_variable = { movement_cost_temp@token:resource_transport = movement_cost_temp@token:resource_automobiles }
			multiply_temp_variable = { movement_cost_temp@token:resource_transport = 1.5 }
		#

		#Fuel Need
			set_temp_variable = { fuel_cost_temp = movement_cost_temp@token:resource_automobiles }
			multiply_temp_variable = { fuel_cost_temp = 0.5 }

			set_temp_variable = { fnt = luxuries_cost_temp@token:resource_airplanes }
			multiply_temp_variable = { fnt = 1.0 }
			add_to_temp_variable = { fuel_cost_temp = fnt }

			set_temp_variable = { fnt = luxuries_cost_temp@token:resource_convoys }
			multiply_temp_variable = { fnt = 0.25 }
			add_to_temp_variable = { fuel_cost_temp = fnt }

			set_temp_variable = { fnt = security_cost_temp@token:resource_tanks }
			multiply_temp_variable = { fnt = 1.0 }
			add_to_temp_variable = { fuel_cost_temp = fnt }

			set_temp_variable = { fuel_cost_temp@token:resource_electricity = fuel_cost_temp }
			multiply_temp_variable = { fuel_cost_temp@token:resource_electricity = pops_fuel_electricity_use }

			set_temp_variable = { fuel_cost_temp@token:resource_hydrocarbons = fuel_cost_temp }
			subtract_from_temp_variable = { fuel_cost_temp@token:resource_hydrocarbons = fuel_cost_temp@token:resource_electricity }
			
			multiply_temp_variable = { fuel_cost_temp@token:resource_electricity = 2 }
		#

		#Get Need Amount
			set_temp_variable = { food_need_temp@token:resource_groceries = food_cost_temp@token:resource_groceries }
			set_temp_variable = { food_need_temp@token:resource_foodstuffs = food_cost_temp@token:resource_foodstuffs }
			set_temp_variable = { housing_need_temp@token:resource_housing = housing_cost_temp@token:resource_housing }
			set_temp_variable = { heating_need_temp@token:resource_lumber = heating_cost_temp@token:resource_lumber }
			set_temp_variable = { heating_need_temp@token:resource_coal = heating_cost_temp@token:resource_coal }
			set_temp_variable = { heating_need_temp@token:resource_electricity = heating_cost_temp@token:resource_electricity }
			set_temp_variable = { clothing_need_temp@token:resource_fiber = clothing_cost_temp@token:resource_fiber }
			set_temp_variable = { clothing_need_temp@token:resource_fabric = clothing_cost_temp@token:resource_fabric }
			set_temp_variable = { clothing_need_temp@token:resource_clothing = clothing_cost_temp@token:resource_clothing }
			set_temp_variable = { household_need_temp@token:resource_fiber = household_cost_temp@token:resource_fiber }
			set_temp_variable = { household_need_temp@token:resource_fabric = household_cost_temp@token:resource_fabric }
			set_temp_variable = { household_need_temp@token:resource_lumber = household_cost_temp@token:resource_lumber }
			set_temp_variable = { household_need_temp@token:resource_consumer_goods = household_cost_temp@token:resource_consumer_goods }
			set_temp_variable = { household_need_temp@token:resource_electronics = household_cost_temp@token:resource_electronics }
			set_temp_variable = { education_need_temp@token:resource_basic_education = education_cost_temp@token:resource_basic_education }
			set_temp_variable = { education_need_temp@token:resource_higher_education = education_cost_temp@token:resource_higher_education }
			set_temp_variable = { healthcare_need_temp@token:resource_healthcare = healthcare_cost_temp@token:resource_healthcare }
			set_temp_variable = { healthcare_need_temp@token:resource_pharmaceuticals = healthcare_cost_temp@token:resource_pharmaceuticals }
			set_temp_variable = { movement_need_temp@token:resource_transport = movement_cost_temp@token:resource_transport }
			set_temp_variable = { movement_need_temp@token:resource_automobiles = movement_cost_temp@token:resource_automobiles }
			set_temp_variable = { fuel_need_temp@token:resource_hydrocarbons = fuel_cost_temp@token:resource_hydrocarbons }
			set_temp_variable = { fuel_need_temp@token:resource_electricity = fuel_cost_temp@token:resource_electricity }
			set_temp_variable = { luxuries_need_temp@token:resource_electronics = luxuries_cost_temp@token:resource_electronics }
			set_temp_variable = { luxuries_need_temp@token:resource_computers = luxuries_cost_temp@token:resource_computers }
			set_temp_variable = { luxuries_need_temp@token:resource_entertainment = luxuries_cost_temp@token:resource_entertainment }
			set_temp_variable = { luxuries_need_temp@token:resource_convoys = luxuries_cost_temp@token:resource_convoys }
			set_temp_variable = { luxuries_need_temp@token:resource_airplanes = luxuries_cost_temp@token:resource_airplanes }
			set_temp_variable = { security_need_temp@token:resource_small_arms = security_cost_temp@token:resource_small_arms }
			set_temp_variable = { security_need_temp@token:resource_ammunition = security_cost_temp@token:resource_ammunition }
			set_temp_variable = { security_need_temp@token:resource_artillery = security_cost_temp@token:resource_artillery }
			set_temp_variable = { security_need_temp@token:resource_tanks = security_cost_temp@token:resource_tanks }
			set_temp_variable = { finance_need_temp@token:resource_finance = finance_cost_temp@token:resource_finance }
			
			divide_temp_variable = { food_need_temp@token:resource_groceries = global.base_price@token:resource_groceries }
			divide_temp_variable = { food_need_temp@token:resource_foodstuffs = global.base_price@token:resource_foodstuffs }
			divide_temp_variable = { housing_need_temp@token:resource_housing = global.base_price@token:resource_housing }
			divide_temp_variable = { heating_need_temp@token:resource_lumber = global.base_price@token:resource_lumber }
			divide_temp_variable = { heating_need_temp@token:resource_coal = global.base_price@token:resource_coal }
			divide_temp_variable = { heating_need_temp@token:resource_electricity = global.base_price@token:resource_electricity }
			divide_temp_variable = { clothing_need_temp@token:resource_fiber = global.base_price@token:resource_fiber }
			divide_temp_variable = { clothing_need_temp@token:resource_fabric = global.base_price@token:resource_fabric }
			divide_temp_variable = { clothing_need_temp@token:resource_clothing = global.base_price@token:resource_clothing }
			divide_temp_variable = { household_need_temp@token:resource_fiber = global.base_price@token:resource_fiber }
			divide_temp_variable = { household_need_temp@token:resource_fabric = global.base_price@token:resource_fabric }
			divide_temp_variable = { household_need_temp@token:resource_lumber = global.base_price@token:resource_lumber }
			divide_temp_variable = { household_need_temp@token:resource_consumer_goods = global.base_price@token:resource_consumer_goods }
			divide_temp_variable = { household_need_temp@token:resource_electronics = global.base_price@token:resource_electronics }
			divide_temp_variable = { education_need_temp@token:resource_basic_education = global.base_price@token:resource_basic_education }
			divide_temp_variable = { education_need_temp@token:resource_higher_education = global.base_price@token:resource_higher_education }
			divide_temp_variable = { healthcare_need_temp@token:resource_healthcare = global.base_price@token:resource_healthcare }
			divide_temp_variable = { healthcare_need_temp@token:resource_pharmaceuticals = global.base_price@token:resource_pharmaceuticals }
			divide_temp_variable = { movement_need_temp@token:resource_transport = global.base_price@token:resource_transport }
			divide_temp_variable = { movement_need_temp@token:resource_automobiles = global.base_price@token:resource_automobiles }
			divide_temp_variable = { fuel_need_temp@token:resource_hydrocarbons = global.base_price@token:resource_hydrocarbons }
			divide_temp_variable = { fuel_need_temp@token:resource_electricity = global.base_price@token:resource_electricity }
			divide_temp_variable = { luxuries_need_temp@token:resource_electronics = global.base_price@token:resource_electronics }
			divide_temp_variable = { luxuries_need_temp@token:resource_computers = global.base_price@token:resource_computers }
			divide_temp_variable = { luxuries_need_temp@token:resource_entertainment = global.base_price@token:resource_entertainment }
			divide_temp_variable = { luxuries_need_temp@token:resource_convoys = global.base_price@token:resource_convoys }
			divide_temp_variable = { luxuries_need_temp@token:resource_airplanes = global.base_price@token:resource_airplanes }
			divide_temp_variable = { security_need_temp@token:resource_small_arms = global.base_price@token:resource_small_arms }
			divide_temp_variable = { security_need_temp@token:resource_ammunition = global.base_price@token:resource_ammunition }
			divide_temp_variable = { security_need_temp@token:resource_artillery = global.base_price@token:resource_artillery }
			divide_temp_variable = { security_need_temp@token:resource_tanks = global.base_price@token:resource_tanks }
			divide_temp_variable = { finance_need_temp@token:resource_finance = global.base_price@token:resource_finance }
		#
		
		#Cost
			set_temp_variable = { food_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = food_need_temp@token:resource_foodstuffs }
			multiply_temp_variable = { r_cost_temp = price@token:resource_foodstuffs }
			add_to_temp_variable = { food_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = food_need_temp@token:resource_groceries }
			multiply_temp_variable = { r_cost_temp = price@token:resource_groceries }
			add_to_temp_variable = { food_cost_temp = r_cost_temp }

			set_temp_variable = { housing_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = housing_need_temp@token:resource_housing }
			multiply_temp_variable = { r_cost_temp = price@token:resource_housing }
			add_to_temp_variable = { housing_cost_temp = r_cost_temp }
			
			set_temp_variable = { heating_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = heating_need_temp@token:resource_lumber }
			multiply_temp_variable = { r_cost_temp = price@token:resource_lumber }
			add_to_temp_variable = { heating_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = heating_need_temp@token:resource_coal }
			multiply_temp_variable = { r_cost_temp = price@token:resource_coal }
			add_to_temp_variable = { heating_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = heating_need_temp@token:resource_electricity }
			multiply_temp_variable = { r_cost_temp = price@token:resource_electricity }
			add_to_temp_variable = { heating_cost_temp = r_cost_temp }

			set_temp_variable = { clothing_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = clothing_need_temp@token:resource_fiber }
			multiply_temp_variable = { r_cost_temp = price@token:resource_fiber }
			add_to_temp_variable = { clothing_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = clothing_need_temp@token:resource_fabric }
			multiply_temp_variable = { r_cost_temp = price@token:resource_fabric }
			add_to_temp_variable = { clothing_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = clothing_need_temp@token:resource_clothing }
			multiply_temp_variable = { r_cost_temp = price@token:resource_clothing }
			add_to_temp_variable = { clothing_cost_temp = r_cost_temp }

			set_temp_variable = { household_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = household_need_temp@token:resource_fiber }
			multiply_temp_variable = { r_cost_temp = price@token:resource_fiber }
			add_to_temp_variable = { household_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = household_need_temp@token:resource_fabric }
			multiply_temp_variable = { r_cost_temp = price@token:resource_fabric }
			add_to_temp_variable = { household_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = household_need_temp@token:resource_lumber }
			multiply_temp_variable = { r_cost_temp = price@token:resource_lumber }
			add_to_temp_variable = { household_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = household_need_temp@token:resource_electronics }
			multiply_temp_variable = { r_cost_temp = price@token:resource_electronics }
			add_to_temp_variable = { household_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = household_need_temp@token:resource_consumer_goods }
			multiply_temp_variable = { r_cost_temp = price@token:resource_consumer_goods }
			add_to_temp_variable = { household_cost_temp = r_cost_temp }

			set_temp_variable = { education_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = education_need_temp@token:resource_basic_education }
			multiply_temp_variable = { r_cost_temp = price@token:resource_basic_education }
			add_to_temp_variable = { education_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = education_need_temp@token:resource_higher_education }
			multiply_temp_variable = { r_cost_temp = price@token:resource_higher_education }
			add_to_temp_variable = { education_cost_temp = r_cost_temp }

			set_temp_variable = { healthcare_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = healthcare_need_temp@token:resource_healthcare }
			multiply_temp_variable = { r_cost_temp = price@token:resource_healthcare }
			add_to_temp_variable = { healthcare_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = healthcare_need_temp@token:resource_pharmaceuticals }
			multiply_temp_variable = { r_cost_temp = price@token:resource_pharmaceuticals }
			add_to_temp_variable = { healthcare_cost_temp = r_cost_temp }

			set_temp_variable = { movement_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = movement_need_temp@token:resource_transport }
			multiply_temp_variable = { r_cost_temp = price@token:resource_transport }
			add_to_temp_variable = { movement_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = movement_need_temp@token:resource_automobiles }
			multiply_temp_variable = { r_cost_temp = price@token:resource_automobiles }
			add_to_temp_variable = { movement_cost_temp = r_cost_temp }

			set_temp_variable = { fuel_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = fuel_need_temp@token:resource_hydrocarbons }
			multiply_temp_variable = { r_cost_temp = price@token:resource_hydrocarbons }
			add_to_temp_variable = { fuel_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = fuel_need_temp@token:resource_electricity }
			multiply_temp_variable = { r_cost_temp = price@token:resource_electricity }
			add_to_temp_variable = { fuel_cost_temp = r_cost_temp }

			set_temp_variable = { luxuries_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = luxuries_need_temp@token:resource_entertainment }
			multiply_temp_variable = { r_cost_temp = price@token:resource_entertainment }
			add_to_temp_variable = { luxuries_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = luxuries_need_temp@token:resource_electronics }
			multiply_temp_variable = { r_cost_temp = price@token:resource_electronics }
			add_to_temp_variable = { luxuries_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = luxuries_need_temp@token:resource_computers }
			multiply_temp_variable = { r_cost_temp = price@token:resource_computers }
			add_to_temp_variable = { luxuries_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = luxuries_need_temp@token:resource_convoys }
			multiply_temp_variable = { r_cost_temp = price@token:resource_convoys }
			add_to_temp_variable = { luxuries_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = luxuries_need_temp@token:resource_airplanes }
			multiply_temp_variable = { r_cost_temp = price@token:resource_airplanes }
			add_to_temp_variable = { luxuries_cost_temp = r_cost_temp }

			set_temp_variable = { security_cost_temp = 0 }
			set_temp_variable = { r_cost_temp = security_need_temp@token:resource_small_arms }
			multiply_temp_variable = { r_cost_temp = price@token:resource_small_arms }
			add_to_temp_variable = { security_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = security_need_temp@token:resource_artillery }
			multiply_temp_variable = { r_cost_temp = price@token:resource_artillery }
			add_to_temp_variable = { security_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = security_need_temp@token:resource_ammunition }
			multiply_temp_variable = { r_cost_temp = price@token:resource_ammunition }
			add_to_temp_variable = { security_cost_temp = r_cost_temp }
			set_temp_variable = { r_cost_temp = security_need_temp@token:resource_tanks }
			multiply_temp_variable = { r_cost_temp = price@token:resource_tanks }
			add_to_temp_variable = { security_cost_temp = r_cost_temp }
			
			set_temp_variable = { finance_need_temp = finance_need_temp@token:resource_finance }
			set_temp_variable = { finance_cost_temp = finance_need_temp@token:resource_finance }
			multiply_temp_variable = { finance_cost_temp = price@token:resource_finance }

			set_temp_variable = { total_cost_temp = food_cost_temp }
			add_to_temp_variable = { total_cost_temp = housing_cost_temp }
			add_to_temp_variable = { total_cost_temp = heating_cost_temp }
			add_to_temp_variable = { total_cost_temp = clothing_cost_temp }
			add_to_temp_variable = { total_cost_temp = household_cost_temp }
			add_to_temp_variable = { total_cost_temp = education_cost_temp }
			add_to_temp_variable = { total_cost_temp = healthcare_cost_temp }
			add_to_temp_variable = { total_cost_temp = movement_cost_temp }
			add_to_temp_variable = { total_cost_temp = fuel_cost_temp }
			add_to_temp_variable = { total_cost_temp = luxuries_cost_temp }
			add_to_temp_variable = { total_cost_temp = security_cost_temp }
			add_to_temp_variable = { total_cost_temp = finance_cost_temp }
		#
	}

	investment_fund_update = {
		#Finances
			set_variable = { investment_fund_earnings = 0 }
			set_variable = { investment_fund_spending = 0 }

			#Interest
			set_variable = { investment_fund_spending_interest = investment_fund_debt }
			multiply_variable = { investment_fund_spending_interest = controller:interest_rate }
			divide_variable = { investment_fund_spending_interest = 12 }

			#Industries
			set_variable = { investment_fund_finance_need = 0 }
			set_variable = { investment_fund_spending_unprofitable_industries = 0 }
			set_variable = { investment_fund_spending_construction = 0 }
			for_each_loop = {
				array = industries
				value = ifu_token

				#Unprofitable Industries
				if = {
					limit = {
						check_variable = { profit@var:ifu_token < 0 }
						check_variable = { money@var:ifu_token = 0 }
					}
					subtract_from_variable = { investment_fund_spending_unprofitable_industries = profit@var:ifu_token }
				}
				else = {
					#Profitable Industries
					set_temp_variable = { kickbacks_temp = 1 }
					subtract_from_temp_variable = { kickbacks_temp = global.investment_fund_kickbacks }		

					set_temp_variable = { ifr = money_transfer@var:ifu_token }
					multiply_temp_variable = { ifr = kickbacks_temp }
					add_to_variable = { investment_fund_earnings = ifr }
				}

				#Profitable Industries
				if = {
					limit = {
						check_variable = { under_construction@var:ifu_token > 0 }
					}
					add_to_variable = { investment_fund_spending_construction = construction_expenses@var:ifu_token }
				}

				#Finance Need
				if = {
					limit = {
						check_variable = { production_method@var:ifu_token = 0 }
					}
					set_temp_variable = { f_need = global.industry_base_finance_need }
					multiply_temp_variable = { f_need = size@var:ifu_token }
					add_to_variable = { investment_fund_finance_need = f_need }
				}
				else_if = {
					limit = {
						check_variable = { production_method@var:ifu_token = 1 }
					}
					set_temp_variable = { f_need = global.industry_industrialized_finance_need }
					multiply_temp_variable = { f_need = size@var:ifu_token }
					add_to_variable = { investment_fund_finance_need = f_need }
				}
				else_if = {
					limit = {
						check_variable = { production_method@var:ifu_token = 2 }
					}
					set_temp_variable = { f_need = global.industry_mechanized_finance_need }
					multiply_temp_variable = { f_need = size@var:ifu_token }
					add_to_variable = { investment_fund_finance_need = f_need }
				}
				else_if = {
					limit = {
						check_variable = { production_method@var:ifu_token = 3 }
					}
					set_temp_variable = { f_need = global.industry_modernized_finance_need }
					multiply_temp_variable = { f_need = size@var:ifu_token }
					add_to_variable = { investment_fund_finance_need = f_need }
				}
			}

			#Need
			set_temp_variable = { f_need = investment_fund_earnings }
			multiply_temp_variable = { f_need = global.profit_finance_need }
			divide_temp_variable = { f_need = global.base_price@token:resource_finance }
			add_to_variable = { investment_fund_finance_need = f_need }

			set_variable = { investment_fund_spending_finance = investment_fund_finance_need }
			multiply_variable = { investment_fund_spending_finance = price@token:resource_finance }

			#Kickbacks
			set_variable = { investment_fund_spending_kickbacks = global.investment_fund_pool_kickbacks }
			multiply_variable = { investment_fund_spending_kickbacks = investment_fund }

			add_to_variable = { investment_fund_spending = investment_fund_spending_unprofitable_industries }
			add_to_variable = { investment_fund_spending = investment_fund_spending_construction }
			add_to_variable = { investment_fund_spending = investment_fund_spending_interest }
			add_to_variable = { investment_fund_spending = investment_fund_spending_kickbacks }
			add_to_variable = { investment_fund_spending = investment_fund_spending_finance }
		#
	}
	investment_fund_update_confidence = {
		#State
		#Updates the confidence of local investment pools

		set_variable = { investment_fund_confidence = controller:modifier@investment_confidence_modifier }

		if = {
			limit = {
				check_variable = { investment_fund_spending_interest > 0 }
				check_variable = { investment_fund_earnings > 0 }
			}
			set_temp_variable = { dti_ratio = investment_fund_spending_interest }
			divide_temp_variable = { dti_ratio = investment_fund_earnings }
			multiply_temp_variable = { dti_ratio = global.ai_dti_ratio_impact }
			subtract_from_variable = { investment_fund_confidence = dti_ratio }
		}

		if = {
			limit = {
				check_variable = { investment_fund > 0 }
				check_variable = { investment_fund_earnings > 0 }
			}
			set_temp_variable = { cti_ratio = investment_fund }
			divide_temp_variable = { cti_ratio = investment_fund_earnings }
			multiply_temp_variable = { cti_ratio = global.ai_cash_to_profit_ratio_impact }
			add_to_variable = { investment_fund_confidence = cti_ratio }
		}

		if = {
			limit = {
				check_variable = { investment_fund_confidence < 0 }
			}
			set_variable = { investment_fund_confidence = 0 }
		}

		set_variable = { investment_fund_target_spending = investment_fund_earnings }
		multiply_variable = { investment_fund_target_spending = investment_fund_confidence }
		divide_variable = { investment_fund_target_spending = 100 }
	}

	pops_balance = {
		# Balance pops according to jobs available
		# Uses pops_convert to do most of the heavy lifting
		# Sets workforce amount depending on ratio of unemployed to non-subsistence jobs		
		# Peasants & Subsistence Farms have to be handled seperately
		
		set_temp_variable = { total_workers_temp = laborers_workforce_amount }
		add_to_temp_variable = { total_workers_temp = workers_workforce_amount }
		add_to_temp_variable = { total_workers_temp = professionals_workforce_amount }
		add_to_temp_variable = { total_workers_temp = elites_workforce_amount }
		subtract_from_temp_variable = { total_workers_temp = elites_employed_subsistence_farm }

		set_temp_variable = { total_jobs_temp = laborers_jobs_amount }
		add_to_temp_variable = { total_jobs_temp = workers_jobs_amount }
		add_to_temp_variable = { total_jobs_temp = professionals_jobs_amount }
		add_to_temp_variable = { total_jobs_temp = elites_jobs_amount }
		subtract_from_temp_variable = { total_jobs_temp = elites_jobs_subsistence_farm }

		set_temp_variable = { workers_jobs_ratio = total_workers_temp }
		divide_temp_variable = { workers_jobs_ratio = total_jobs_temp }

		log = "wjr: [?workers_jobs_ratio]"

		set_temp_variable = { laborers_change = laborers_jobs_amount }
		multiply_temp_variable = { laborers_change = workers_jobs_ratio }
		subtract_from_temp_variable = { laborers_change = laborers_workforce_amount }
		
		set_temp_variable = { workers_change = workers_jobs_amount }
		multiply_temp_variable = { workers_change = workers_jobs_ratio }
		subtract_from_temp_variable = { workers_change = workers_workforce_amount }

		set_temp_variable = { professionals_change = professionals_jobs_amount }
		multiply_temp_variable = { professionals_change = workers_jobs_ratio }
		subtract_from_temp_variable = { professionals_change = professionals_workforce_amount }

		set_temp_variable = { elites_change = elites_jobs_amount }
		multiply_temp_variable = { elites_change = workers_jobs_ratio }
		subtract_from_temp_variable = { elites_change = elites_workforce_amount }
		add_to_temp_variable = { elites_change = elites_employed_subsistence_farm }

		pops_convert = yes
	}
	pops_convert = {
		# Changes pops from from one pop type to another. Defaults to workforce amounts. Accounts for qualifications.
		# Inputs:
		# slaves_change - Net Change. Positive is adding, Negative is removing
		# peasants_change
		# laborers_change
		# workers_change
		# professionals_change
		# elites_change
		# bureaucrats_change
		# soldiers_change
		#
		# Outputs:
		# percent_done - What % got converted

		## Making sure negatives don't go beyond actual amount ##
			if = {	
				limit = {
					set_temp_variable = { slaves_temp = slaves_change }
					multiply_temp_variable = { slaves_temp = -1 }
					check_variable = { slaves_temp > slaves_workforce_amount }
				}
				set_temp_variable = { slaves_change = slaves_workforce_amount }
				multiply_temp_variable = { slaves_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { peasants_temp = peasants_change }
					multiply_temp_variable = { peasants_temp = -1 }
					check_variable = { peasants_temp > peasants_workforce_amount }
				}
				set_temp_variable = { peasants_change = peasants_workforce_amount }
				multiply_temp_variable = { peasants_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { laborers_temp = laborers_change }
					multiply_temp_variable = { laborers_temp = -1 }
					check_variable = { laborers_temp > laborers_workforce_amount }
				}
				set_temp_variable = { laborers_change = laborers_workforce_amount }
				multiply_temp_variable = { laborers_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { workers_temp = workers_change }
					multiply_temp_variable = { workers_temp = -1 }
					check_variable = { workers_temp > workers_workforce_amount }
				}
				set_temp_variable = { workers_change = workers_workforce_amount }
				multiply_temp_variable = { workers_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { professionals_temp = professionals_change }
					multiply_temp_variable = { professionals_temp = -1 }
					check_variable = { professionals_temp > professionals_workforce_amount }
				}
				set_temp_variable = { professionals_change = professionals_workforce_amount }
				multiply_temp_variable = { professionals_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { elites_temp = elites_change }
					multiply_temp_variable = { elites_temp = -1 }
					check_variable = { elites_temp > elites_workforce_amount }
				}
				set_temp_variable = { elites_change = elites_workforce_amount }
				multiply_temp_variable = { elites_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { bureaucrats_temp = bureaucrats_change }
					multiply_temp_variable = { bureaucrats_temp = -1 }
					check_variable = { bureaucrats_temp > bureaucrats_workforce_amount }
				}
				set_temp_variable = { bureaucrats_change = bureaucrats_workforce_amount }
				multiply_temp_variable = { bureaucrats_change = -1 }
			}
			if = {	
				limit = {
					set_temp_variable = { soldiers_temp = soldiers_change }
					multiply_temp_variable = { soldiers_temp = -1 }
					check_variable = { soldiers_temp > soldiers_workforce_amount }
				}
				set_temp_variable = { soldiers_change = soldiers_workforce_amount }
				multiply_temp_variable = { soldiers_change = -1 }
			}
		#

		## Add up positive & negative change totals and see if they match ##
			set_temp_variable = { percent_done = 1 }
			set_temp_variable = { positive_change_total = 0 }
			set_temp_variable = { negative_change_total = 0 }

			if = { limit = { check_variable = { slaves_change > 0 } } add_to_temp_variable = { positive_change_total = slaves_change } }
			else = { subtract_from_temp_variable = { negative_change_total = slaves_change } }

			if = { limit = { check_variable = { peasants_change > 0 } } add_to_temp_variable = { positive_change_total = peasants_change } }
			else = { subtract_from_temp_variable = { negative_change_total = peasants_change } }

			if = { limit = { check_variable = { laborers_change > 0 } } add_to_temp_variable = { positive_change_total = laborers_change } }
			else = { subtract_from_temp_variable = { negative_change_total = laborers_change } }

			if = { limit = { check_variable = { workers_change > 0 } } add_to_temp_variable = { positive_change_total = workers_change } }
			else = { subtract_from_temp_variable = { negative_change_total = workers_change } }

			if = { limit = { check_variable = { professionals_change > 0 } } add_to_temp_variable = { positive_change_total = professionals_change } }
			else = { subtract_from_temp_variable = { negative_change_total = professionals_change } }

			if = { limit = { check_variable = { elites_change > 0 } } add_to_temp_variable = { positive_change_total = elites_change } }
			else = { subtract_from_temp_variable = { negative_change_total = elites_change } }

			if = { limit = { check_variable = { bureaucrats_change > 0 } } add_to_temp_variable = { positive_change_total = bureaucrats_change } }
			else = { subtract_from_temp_variable = { negative_change_total = bureaucrats_change } }

			if = { limit = { check_variable = { soldiers_change > 0 } } add_to_temp_variable = { positive_change_total = soldiers_change } }
			else = { subtract_from_temp_variable = { negative_change_total = soldiers_change } }

			if = {
				limit = {
					check_variable = { positive_change_total > negative_change_total }
				}
				set_temp_variable = { first_percent_done = negative_change_total }
				multiply_temp_variable = { first_percent_done = 10 }
				divide_temp_variable = { first_percent_done = positive_change_total }

				multiply_temp_variable = { percent_done = first_percent_done }
				divide_temp_variable = { percent_done = 10 }

				if = { limit = { check_variable = { slaves_change > 0 } } 
					multiply_temp_variable = { slaves_change = first_percent_done } 
					round_temp_variable = slaves_change
					divide_temp_variable = { slaves_change = 10 }
				}
				if = { limit = { check_variable = { peasants_change > 0 } } 
					multiply_temp_variable = { peasants_change = first_percent_done } 
					round_temp_variable = peasants_change
					divide_temp_variable = { peasants_change = 10 }
				}
				if = { limit = { check_variable = { laborers_change > 0 } } 
					multiply_temp_variable = { laborers_change = first_percent_done } 
					round_temp_variable = laborers_change
					divide_temp_variable = { laborers_change = 10 }
				}
				if = { limit = { check_variable = { workers_change > 0 } } 
					multiply_temp_variable = { workers_change = first_percent_done } 
					round_temp_variable = workers_change
					divide_temp_variable = { workers_change = 10 }
				}
				if = { limit = { check_variable = { professionals_change > 0 } } 
					multiply_temp_variable = { professionals_change = first_percent_done } 
					round_temp_variable = professionals_change
					divide_temp_variable = { professionals_change = 10 }
				}
				if = { limit = { check_variable = { elites_change > 0 } } 
					multiply_temp_variable = { elites_change = first_percent_done } 
					round_temp_variable = elites_change
					divide_temp_variable = { elites_change = 10 }
				}
				if = { limit = { check_variable = { bureaucrats_change > 0 } } 
					multiply_temp_variable = { bureaucrats_change = first_percent_done } 
					round_temp_variable = bureaucrats_change
					divide_temp_variable = { bureaucrats_change = 10 }
				}
				if = { limit = { check_variable = { soldiers_change > 0 } } 
					multiply_temp_variable = { soldiers_change = first_percent_done } 
					round_temp_variable = soldiers_change
					divide_temp_variable = { soldiers_change = 10 }

				# Redo totals
				set_temp_variable = { positive_change_total = 0 }
				set_temp_variable = { negative_change_total = 0 }
				if = { limit = { check_variable = { slaves_change > 0 } } add_to_temp_variable = { positive_change_total = slaves_change } }
				else = { subtract_from_temp_variable = { negative_change_total = slaves_change } }
				if = { limit = { check_variable = { peasants_change > 0 } } add_to_temp_variable = { positive_change_total = peasants_change } }
				else = { subtract_from_temp_variable = { negative_change_total = peasants_change } }
				if = { limit = { check_variable = { laborers_change > 0 } } add_to_temp_variable = { positive_change_total = laborers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = laborers_change } }
				if = { limit = { check_variable = { workers_change > 0 } } add_to_temp_variable = { positive_change_total = workers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = workers_change } }
				if = { limit = { check_variable = { professionals_change > 0 } } add_to_temp_variable = { positive_change_total = professionals_change } }
				else = { subtract_from_temp_variable = { negative_change_total = professionals_change } }
				if = { limit = { check_variable = { elites_change > 0 } } add_to_temp_variable = { positive_change_total = elites_change } }
				else = { subtract_from_temp_variable = { negative_change_total = elites_change } }
				if = { limit = { check_variable = { bureaucrats_change > 0 } } add_to_temp_variable = { positive_change_total = bureaucrats_change } }
				else = { subtract_from_temp_variable = { negative_change_total = bureaucrats_change } }
				if = { limit = { check_variable = { soldiers_change > 0 } } add_to_temp_variable = { positive_change_total = soldiers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = soldiers_change } }
				}
			}
			else_if = {
				limit = {
					check_variable = { positive_change_total < negative_change_total }
				}
				set_temp_variable = { first_percent_done = positive_change_total }
				multiply_temp_variable = { first_percent_done = 10 }
				divide_temp_variable = { first_percent_done = negative_change_total }

				multiply_temp_variable = { percent_done = first_percent_done }
				divide_temp_variable = { percent_done = 10 }

				if = { limit = { check_variable = { slaves_change < 0 } } 
					multiply_temp_variable = { slaves_change = first_percent_done } 
					round_temp_variable = slaves_change
					divide_temp_variable = { slaves_change = 10 }
				}
				if = { limit = { check_variable = { peasants_change < 0 } } 
					multiply_temp_variable = { peasants_change = first_percent_done } 
					round_temp_variable = peasants_change
					divide_temp_variable = { peasants_change = 10 }
				}
				if = { limit = { check_variable = { laborers_change < 0 } } 
					multiply_temp_variable = { laborers_change = first_percent_done } 
					round_temp_variable = laborers_change
					divide_temp_variable = { laborers_change = 10 }
				}
				if = { limit = { check_variable = { workers_change < 0 } } 
					multiply_temp_variable = { workers_change = first_percent_done } 
					round_temp_variable = workers_change
					divide_temp_variable = { workers_change = 10 }
				}
				if = { limit = { check_variable = { professionals_change < 0 } } 
					multiply_temp_variable = { professionals_change = first_percent_done } 
					round_temp_variable = professionals_change
					divide_temp_variable = { professionals_change = 10 }
				}
				if = { limit = { check_variable = { elites_change < 0 } } 
					multiply_temp_variable = { elites_change = first_percent_done } 
					round_temp_variable = elites_change
					divide_temp_variable = { elites_change = 10 }
				}
				if = { limit = { check_variable = { bureaucrats_change < 0 } } 
					multiply_temp_variable = { bureaucrats_change = first_percent_done } 
					round_temp_variable = bureaucrats_change
					divide_temp_variable = { bureaucrats_change = 10 }
				}
				if = { limit = { check_variable = { soldiers_change < 0 } } 
					multiply_temp_variable = { soldiers_change = first_percent_done } 
					round_temp_variable = soldiers_change
					divide_temp_variable = { soldiers_change = 10 }
				}

				# Redo totals
				set_temp_variable = { positive_change_total = 0 }
				set_temp_variable = { negative_change_total = 0 }
				if = { limit = { check_variable = { slaves_change > 0 } } add_to_temp_variable = { positive_change_total = slaves_change } }
				else = { subtract_from_temp_variable = { negative_change_total = slaves_change } }
				if = { limit = { check_variable = { peasants_change > 0 } } add_to_temp_variable = { positive_change_total = peasants_change } }
				else = { subtract_from_temp_variable = { negative_change_total = peasants_change } }
				if = { limit = { check_variable = { laborers_change > 0 } } add_to_temp_variable = { positive_change_total = laborers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = laborers_change } }
				if = { limit = { check_variable = { workers_change > 0 } } add_to_temp_variable = { positive_change_total = workers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = workers_change } }
				if = { limit = { check_variable = { professionals_change > 0 } } add_to_temp_variable = { positive_change_total = professionals_change } }
				else = { subtract_from_temp_variable = { negative_change_total = professionals_change } }
				if = { limit = { check_variable = { elites_change > 0 } } add_to_temp_variable = { positive_change_total = elites_change } }
				else = { subtract_from_temp_variable = { negative_change_total = elites_change } }
				if = { limit = { check_variable = { bureaucrats_change > 0 } } add_to_temp_variable = { positive_change_total = bureaucrats_change } }
				else = { subtract_from_temp_variable = { negative_change_total = bureaucrats_change } }
				if = { limit = { check_variable = { soldiers_change > 0 } } add_to_temp_variable = { positive_change_total = soldiers_change } }
				else = { subtract_from_temp_variable = { negative_change_total = soldiers_change } }
			}
			else = {
				set_temp_variable = { first_percent_done = 1 }
			}
		#

		# log = "STATE: [THIS.GetName]"

		if = {
			limit = { check_variable = { percent_done > 0 } }
			# Note: Elites don't count for qualification changes b/c they're required at every stage of tech. But they do count as literate + educated.

			## Schooled Qualifications (Just professionals) ##
				if = {
					limit = {
						check_variable = { professionals_change > 0 }
					}
					set_temp_variable = { schooled_change_cap = pops_workforce_amount }
					multiply_temp_variable = { schooled_change_cap = pops_schooling_percentage }
					subtract_from_temp_variable = { schooled_change_cap = professionals_workforce_amount }
					subtract_from_temp_variable = { schooled_change_cap = elites_workforce_amount }
					log = "Schooled Change: [?professionals_change] / [?schooled_change_cap]"

					if = {
						limit = {
							check_variable = { schooled_change_cap < professionals_change }
						}
						set_temp_variable = { amount_temp = professionals_change }
						set_temp_variable = { max_amount_temp = schooled_change_cap }
						multiply_pops_change = yes
						set_temp_variable = { second_percent_done = temp_percent_done }
						multiply_temp_variable = { percent_done = second_percent_done }
					}
					else = {
						set_temp_variable = { second_percent_done = 1 }
					}
				}
			#

			## Literates Qualifications ##
				set_temp_variable = { literates_change = workers_change }
				add_to_temp_variable = { literates_change = professionals_change }
				add_to_temp_variable = { literates_change = bureaucrats_change }
				if = {
					limit = {
						check_variable = { literates_change > 0 }
					}
					set_temp_variable = { literates_change_cap = pops_workforce_amount }
					multiply_temp_variable = { literates_change_cap = pops_literacy_percentage }
					subtract_from_temp_variable = { literates_change_cap = workers_workforce_amount }
					subtract_from_temp_variable = { literates_change_cap = professionals_workforce_amount }
					subtract_from_temp_variable = { literates_change_cap = elites_workforce_amount }
					subtract_from_temp_variable = { literates_change_cap = bureaucrats_workforce_amount }
					log = "Literates Change: [?literates_change] / [?literates_change_cap]"

					if = {
						limit = {
							check_variable = { literates_change_cap < literates_change }
						}
						set_temp_variable = { amount_temp = literates_change }
						set_temp_variable = { max_amount_temp = literates_change_cap }
						multiply_pops_change = yes
						set_temp_variable = { third_percent_done = temp_percent_done }
						multiply_temp_variable = { percent_done = third_percent_done }
					}
					else = {
						set_temp_variable = { third_percent_done = 1 }
					}
				}
			#

			# Debugging #
				# if = { limit = { NOT = { check_variable = { slaves_change = 0 } } }  log = "Slaves Change: [?slaves_change]" }
				# if = { limit = { NOT = { check_variable = { peasants_change = 0 } } }  log = "Peasants Change: [?peasants_change]" }
				# if = { limit = { NOT = { check_variable = { laborers_change = 0 } } }  log = "Laborers Change: [?laborers_change]" }
				# if = { limit = { NOT = { check_variable = { workers_change = 0 } } }  log = "Workers Change: [?workers_change]" }
				# if = { limit = { NOT = { check_variable = { professionals_change = 0 } } }  log = "Professionals Change: [?professionals_change]" }
				# if = { limit = { NOT = { check_variable = { elites_change = 0 } } }  log = "Elites Change: [?elites_change]" }
				# if = { limit = { NOT = { check_variable = { bureaucrats_change = 0 } } }  log = "Bureaucrats Change: [?bureaucrats_change]" }
				# if = { limit = { NOT = { check_variable = { soldiers_change = 0 } } }  log = "Soldiers Change: [?soldiers_change]" }
				# log = "BEFORE:"
				# if = { limit = { NOT = { check_variable = { slaves_workforce_amount = 0 } } }  log = "Slaves Workforce: [?slaves_workforce_amount]" }
				# if = { limit = { NOT = { check_variable = { peasants_workforce_amount = 0 } } }  log = "Peasants Workforce: [?peasants_workforce_amount]" }
				# if = { limit = { NOT = { check_variable = { laborers_workforce_amount = 0 } } }  log = "Laborers Workforce: [?laborers_workforce_amount]" }
				# if = { limit = { NOT = { check_variable = { workers_workforce_amount = 0 } } }  log = "Workers Workforce: [?workers_workforce_amount]" }
				# if = { limit = { NOT = { check_variable = { professionals_workforce_amount = 0 } } }  log = "Professionals Workforce: [?professionals_workforce_amount]" }
				# if = { limit = { NOT = { check_variable = { elites_workforce_amount = 0 } } }  log = "Elites Workforce: [?elites_workforce_amount]" }
				# if = { limit = { NOT = { check_variable = { bureaucrats_workforce_amount = 0 } } }  log = "Bureaucrats Workforce: [?bureaucrats_workforce_amount]" }
				# if = { limit = { NOT = { check_variable = { soldiers_workforce_amount = 0 } } }  log = "Soldiers Workforce: [?soldiers_workforce_amount]" }
				# log = "AFTER:"
			#

			## Changes to Workforce ##
				add_to_variable = { slaves_workforce_amount = slaves_change }
				add_to_variable = { slaves_unemployed_amount = slaves_change }
				
				add_to_variable = { peasants_workforce_amount = peasants_change }
				add_to_variable = { peasants_unemployed_amount = peasants_change }
				
				add_to_variable = { laborers_workforce_amount = laborers_change }
				add_to_variable = { laborers_unemployed_amount = laborers_change }
				
				add_to_variable = { workers_workforce_amount = workers_change }
				add_to_variable = { workers_unemployed_amount = workers_change }
				
				add_to_variable = { professionals_workforce_amount = professionals_change }
				add_to_variable = { professionals_unemployed_amount = professionals_change }
				
				add_to_variable = { elites_workforce_amount = elites_change }
				add_to_variable = { elites_unemployed_amount = elites_change }
				
				add_to_variable = { bureaucrats_workforce_amount = bureaucrats_change }
				add_to_variable = { bureaucrats_unemployed_amount = bureaucrats_change }
				
				add_to_variable = { soldiers_workforce_amount = soldiers_change }
				add_to_variable = { soldiers_unemployed_amount = soldiers_change }
			#
		}

		# More Debugging #
			# if = { limit = { NOT = { check_variable = { slaves_workforce_amount = 0 } } }  log = "Slaves Workforce: [?slaves_workforce_amount]" }
			# if = { limit = { NOT = { check_variable = { peasants_workforce_amount = 0 } } }  log = "Peasants Workforce: [?peasants_workforce_amount]" }
			# if = { limit = { NOT = { check_variable = { laborers_workforce_amount = 0 } } }  log = "Laborers Workforce: [?laborers_workforce_amount]" }
			# if = { limit = { NOT = { check_variable = { workers_workforce_amount = 0 } } }  log = "Workers Workforce: [?workers_workforce_amount]" }
			# if = { limit = { NOT = { check_variable = { professionals_workforce_amount = 0 } } }  log = "Professionals Workforce: [?professionals_workforce_amount]" }
			# if = { limit = { NOT = { check_variable = { elites_workforce_amount = 0 } } }  log = "Elites Workforce: [?elites_workforce_amount]" }
			# if = { limit = { NOT = { check_variable = { bureaucrats_workforce_amount = 0 } } }  log = "Bureaucrats Workforce: [?bureaucrats_workforce_amount]" }
			# if = { limit = { NOT = { check_variable = { soldiers_workforce_amount = 0 } } }  log = "Soldiers Workforce: [?soldiers_workforce_amount]" }
			# log = "PERCENT DONE: [?percent_done]"
		#

		## Reset Temp Vars ##
		set_temp_variable = { slaves_change = 0 }
		set_temp_variable = { peasants_change = 0 }
		set_temp_variable = { laborers_change = 0 }
		set_temp_variable = { workers_change = 0 }
		set_temp_variable = { professionals_change = 0 }
		set_temp_variable = { elites_change = 0 }
		set_temp_variable = { bureaucrats_change = 0 }
		set_temp_variable = { soldiers_change = 0 }
	}
	multiply_pops_change = {
		# Effect for pops_convert
		# amount_temp
		# max_amount_temp
	
		set_temp_variable = { temp_percent_done = max_amount_temp }
		multiply_temp_variable = { temp_percent_done = 10 }
		divide_temp_variable = { temp_percent_done = amount_temp }

		multiply_temp_variable = { slaves_change = temp_percent_done } 
		round_temp_variable = slaves_change
		divide_temp_variable = { slaves_change = 10 }
		multiply_temp_variable = { peasants_change = temp_percent_done } 
		round_temp_variable = peasants_change
		divide_temp_variable = { peasants_change = 10 }
		multiply_temp_variable = { laborers_change = temp_percent_done } 
		round_temp_variable = laborers_change
		divide_temp_variable = { laborers_change = 10 }
		multiply_temp_variable = { workers_change = temp_percent_done } 
		round_temp_variable = workers_change
		divide_temp_variable = { workers_change = 10 }
		multiply_temp_variable = { professionals_change = temp_percent_done } 
		round_temp_variable = professionals_change
		divide_temp_variable = { professionals_change = 10 }
		multiply_temp_variable = { elites_change = temp_percent_done } 
		round_temp_variable = elites_change
		divide_temp_variable = { elites_change = 10 }
		multiply_temp_variable = { bureaucrats_change = temp_percent_done } 
		round_temp_variable = bureaucrats_change
		divide_temp_variable = { bureaucrats_change = 10 }
		multiply_temp_variable = { soldiers_change = temp_percent_done } 
		round_temp_variable = soldiers_change
		divide_temp_variable = { soldiers_change = 10 }

		# Redo totals
		set_temp_variable = { positive_change_total = 0 }
		set_temp_variable = { negative_change_total = 0 }
		if = { limit = { check_variable = { slaves_change > 0 } } add_to_temp_variable = { positive_change_total = slaves_change } }
		else = { subtract_from_temp_variable = { negative_change_total = slaves_change } }
		if = { limit = { check_variable = { peasants_change > 0 } } add_to_temp_variable = { positive_change_total = peasants_change } }
		else = { subtract_from_temp_variable = { negative_change_total = peasants_change } }
		if = { limit = { check_variable = { laborers_change > 0 } } add_to_temp_variable = { positive_change_total = laborers_change } }
		else = { subtract_from_temp_variable = { negative_change_total = laborers_change } }
		if = { limit = { check_variable = { workers_change > 0 } } add_to_temp_variable = { positive_change_total = workers_change } }
		else = { subtract_from_temp_variable = { negative_change_total = workers_change } }
		if = { limit = { check_variable = { professionals_change > 0 } } add_to_temp_variable = { positive_change_total = professionals_change } }
		else = { subtract_from_temp_variable = { negative_change_total = professionals_change } }
		if = { limit = { check_variable = { elites_change > 0 } } add_to_temp_variable = { positive_change_total = elites_change } }
		else = { subtract_from_temp_variable = { negative_change_total = elites_change } }
		if = { limit = { check_variable = { bureaucrats_change > 0 } } add_to_temp_variable = { positive_change_total = bureaucrats_change } }
		else = { subtract_from_temp_variable = { negative_change_total = bureaucrats_change } }
		if = { limit = { check_variable = { soldiers_change > 0 } } add_to_temp_variable = { positive_change_total = soldiers_change } }
		else = { subtract_from_temp_variable = { negative_change_total = soldiers_change } }
	}

	pops_open_jobs_calc = {
		# Adds up the pool of open jobs from positively productive buildings
		set_variable = { laborers_open_jobs_amount = 0 }
		set_variable = { workers_open_jobs_amount = 0 }
		set_variable = { professionals_open_jobs_amount = 0 }
		set_variable = { elites_open_jobs_amount = 0 }

		for_each_loop = {
			array = industries_productivity_sort
			value = om_industry
			break = prod_break

			if = {
				limit = {
					check_variable = { base_productivity@var:om_industry > 0 }
				}

				add_to_variable = { laborers_open_jobs_amount = laborers_open_jobs@var:om_industry }
				add_to_variable = { workers_open_jobs_amount = workers_open_jobs@var:om_industry }
				add_to_variable = { professionals_open_jobs_amount = professionals_open_jobs@var:om_industry }
				add_to_variable = { elites_open_jobs_amount = elites_open_jobs@var:om_industry }
			}
			else = {
				set_temp_variable = { prod_break = 1 }
			}
		}
	}

	#Pops Update Demographics
		pops_update_religion_amount = {
			for_each_loop = {
				array = pops_religion_type
				index = rr

				set_variable = { pops_religion_amount^rr = pops_amount }
				multiply_variable = { pops_religion_amount^rr = pops_religion_percentage^rr }
			}
		}
		pops_update_culture_amount = {
			for_each_loop = {
				array = pops_culture_type
				index = rr

				set_variable = { pops_culture_amount^rr = pops_culture_percentage^rr }
				multiply_variable = { pops_culture_amount^rr = pops_amount }
			}
		}
		pops_update_ideology_amount = {
			for_each_loop = {
				array = pops_ideology_type
				index = rr

				set_variable = { pops_ideology_amount^rr = pops_ideology_percentage^rr }
				multiply_variable = { pops_ideology_amount^rr = pops_amount }
			}
		}
	#

	#Pops Increase Demographics
		pops_increase_religion = {
			#Input: type_temp (temp, integer), percentage_temp (temp, positive)
			#Adds a % of support to a religion, then normalizes & sorts it 

			#Technical: Looks through the religion array, finds the index with the same religion type, adds the percentage. 
			#			If the religion isn't there, then it adds it. Finally, it calls the normalize scripted effect
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { percentage_temp > 0 }
				}
				for_each_loop = {
					array = pops_religion_type
					index = ii
					value = vv
					break = change_religion_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						add_to_variable = { pops_religion_percentage^ii = percentage_temp }

						set_temp_variable = { change_religion_break = 1 }
					}
				}
				if = {
					limit = {
						NOT = { check_variable = { change_religion_break = 1 } }
					}
					add_to_array = { pops_religion_type = type_temp }
					add_to_array = { pops_religion_percentage = percentage_temp }
					add_to_array = { pops_religion_amount = 0 }
				}

				pops_normalize_religion = yes
			}
		}

		pops_increase_culture = {
			#Input: type_temp (temp, integer), percentage_temp (temp, positive)
			#Adds a % of support to a culture, then normalizes & sorts it 

			#Technical: Looks through the culture array, finds the index with the same culture type, adds the percentage. 
			#			If the culture isn't there, then it adds it. Finally, it calls the normalize scripted effect
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { percentage_temp > 0 }
				}
				for_each_loop = {
					array = pops_culture_type
					index = ii
					value = vv
					break = change_culture_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						add_to_variable = { pops_culture_percentage^ii = percentage_temp }

						set_temp_variable = { change_culture_break = 1 }
					}
				}
				if = {
					limit = {
						NOT = { check_variable = { change_culture_break = 1 } }
					}
					add_to_array = { pops_culture_type = type_temp }
					add_to_array = { pops_culture_percentage = percentage_temp }
					add_to_array = { pops_culture_amount = 0 }
				}

				pops_normalize_culture = yes
			}
		}

		pops_increase_ideology = {
			#Input: type_temp (temp, integer), percentage_temp (temp, positive)
			#Adds a % of support to a ideology, then normalizes & sorts it 

			#Technical: Looks through the ideology array, finds the index with the same ideology type, adds the percentage. 
			#			If the ideology isn't there, then it adds it. Finally, it calls the normalize scripted effect
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { percentage_temp > 0 }
				}
				for_each_loop = {
					array = pops_ideology_type
					index = ii
					value = vv
					break = change_ideology_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						add_to_variable = { pops_ideology_percentage^ii = percentage_temp }

						set_temp_variable = { change_ideology_break = 1 }
					}
				}
				if = {
					limit = {
						NOT = { check_variable = { change_ideology_break = 1 } }
					}
					add_to_array = { pops_ideology_type = type_temp }
					add_to_array = { pops_ideology_percentage = percentage_temp }
					add_to_array = { pops_ideology_amount = 0 }
				}

				pops_normalize_ideology = yes
			}
		}
	#

	#Pops Decrease Demographics
		pops_decrease_religion = {
			#Input: type_temp (temp, integer), percentage_temp (temp, positive)
			#Subtracts a % of support from a religion, then normalizes & sorts it 

			#Technical: Looks through the religion array, finds the index with the same religion type, subtracts the percentage. 
			#			If the religion isn't there, nothing happens. If the support becomes 0 or negative, it is removed. 
			#			Finally, it calls the normalize scripted effect
			
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { percentage_temp > 0 }
				}
				for_each_loop = {
					array = pops_religion_type
					index = ii
					value = vv
					break = change_religion_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						subtract_from_variable = { pops_religion_percentage^ii = percentage_temp }

						set_temp_variable = { change_religion_break = 1 }
					}
				}
				if = {
					limit = {
						check_variable = { change_religion_break = 1 }
						NOT = { check_variable = { pops_religion_percentage^ii > 0 } }
					}
					remove_from_array = {
						array = pops_religion_type
						index = ii
					}
					remove_from_array = {
						array = pops_religion_percentage
						index = ii
					}
					remove_from_array = {
						array = pops_religion_amount
						index = ii
					}
				}

				pops_normalize_religion = yes

			}
		}

		pops_decrease_culture = {
			#Input: type_temp (temp, integer), percentage_temp (temp, positive)
			#Subtracts a % of support from a culture, then normalizes & sorts it 

			#Technical: Looks through the culture array, finds the index with the same culture type, subtracts the percentage. 
			#			If the culture isn't there, nothing happens. If the support becomes 0 or negative, it is removed. 
			#			Finally, it calls the normalize scripted effect
			
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { percentage_temp > 0 }
				}
				for_each_loop = {
					array = pops_culture_type
					index = ii
					value = vv
					break = change_culture_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						subtract_from_variable = { pops_culture_percentage^ii = percentage_temp }

						set_temp_variable = { change_culture_break = 1 }
					}
				}
				if = {
					limit = {
						check_variable = { change_culture_break = 1 }
						NOT = { check_variable = { pops_culture_percentage^ii > 0 } }
					}
					remove_from_array = {
						array = pops_culture_type
						index = ii
					}
					remove_from_array = {
						array = pops_culture_percentage
						index = ii
					}
					remove_from_array = {
						array = pops_culture_amount
						index = ii
					}
				}

				pops_normalize_culture = yes

			}
		}

		pops_decrease_ideology = {
			#Input: type_temp (temp, integer), percentage_temp (temp, positive)
			#Subtracts a % of support from a ideology, then normalizes & sorts it 

			#Technical: Looks through the ideology array, finds the index with the same ideology type, subtracts the percentage. 
			#			If the ideology isn't there, nothing happens. If the support becomes 0 or negative, it is removed. 
			#			Finally, it calls the normalize scripted effect
			
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { percentage_temp > 0 }
				}
				for_each_loop = {
					array = pops_ideology_type
					index = ii
					value = vv
					break = change_ideology_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						subtract_from_variable = { pops_ideology_percentage^ii = percentage_temp }

						set_temp_variable = { change_ideology_break = 1 }
					}
				}
				if = {
					limit = {
						check_variable = { change_ideology_break = 1 }
						NOT = { check_variable = { pops_ideology_percentage^ii > 0 } }
					}
					remove_from_array = {
						array = pops_ideology_type
						index = ii
					}
					remove_from_array = {
						array = pops_ideology_percentage
						index = ii
					}
					remove_from_array = {
						array = pops_ideology_amount
						index = ii
					}
				}

				pops_normalize_ideology = yes

			}
		}
	#
#
#EITHER

	#Pops Normalize Demographics
		#These scripts ensures that the demographics percentages add up to 100%
		pops_normalize_demographics = {
			pops_normalize_religion = yes
			pops_normalize_culture = yes
			pops_normalize_ideology = yes
		}

		pops_normalize_religion = {
			#Get the total percentage
			set_temp_variable = { total_percentage_temp = 0 }
			for_each_loop = {
				array = pops_religion_type
				index = rr

				add_to_variable = { pops_religion_percentage^rr = 0.001 }
				add_to_temp_variable = { total_percentage_temp = pops_religion_percentage^rr }
			}
			if = {
				limit = {
					#If the total percentage !=1, then normalize it
					#If it does equal one, then there's no need to
					NOT = { check_variable = { total_percentage_temp = 1 } }
				}

				#Normalize, then get total percentage
				set_temp_variable = { total_percentage_2_temp = 0 }
				for_each_loop = {
					array = pops_religion_type
					index = rr

					divide_variable = { pops_religion_percentage^rr = total_percentage_temp }
					add_to_temp_variable = { total_percentage_2_temp = pops_religion_percentage^rr }
				}

				if = {
					limit = {
						#If the total percentage still !=1, then adjust the largest to fit
						#If it does equal one, then there's no need to
						NOT = { check_variable = { total_percentage_2_temp = 1 } }
					}

					#Adjust largest religion
					set_temp_variable = { adjust_temp = 1 }
					subtract_from_temp_variable = { adjust_temp = total_percentage_2_temp }
					add_to_variable = { pops_religion_percentage^0 = adjust_temp }
				}

				#pops_update_religion_amount = yes
				pops_sort_religion = yes #Sorts it and also sets the amount correctly
			}
		}

		pops_normalize_culture = {
			#Get the total percentage
			set_temp_variable = { total_percentage_temp = 0 }
			for_each_loop = {
				array = pops_culture_type
				index = rr

				add_to_variable = { pops_culture_percentage^rr = 0.001 }
				add_to_temp_variable = { total_percentage_temp = pops_culture_percentage^rr }
			}
			if = {
				limit = {
					#If the total percentage !=1, then normalize it
					#If it does equal one, then there's no need to
					NOT = { check_variable = { total_percentage_temp = 1 } }
				}

				#Normalize, then get total percentage
				set_temp_variable = { total_percentage_2_temp = 0 }
				for_each_loop = {
					array = pops_culture_type
					index = rr

					divide_variable = { pops_culture_percentage^rr = total_percentage_temp }
					add_to_temp_variable = { total_percentage_2_temp = pops_culture_percentage^rr }
				}

				if = {
					limit = {
						#If the total percentage still !=1, then adjust the largest to fit
						#If it does equal one, then there's no need to
						NOT = { check_variable = { total_percentage_2_temp = 1 } }
					}

					#Adjust largest culture
					set_temp_variable = { adjust_temp = 1 }
					subtract_from_temp_variable = { adjust_temp = total_percentage_2_temp }
					add_to_variable = { pops_culture_percentage^0 = adjust_temp }
				}

				#pops_update_culture_amount = yes
				pops_sort_culture = yes #Sorts it and also sets the amount correctly
			}
		}

		pops_normalize_ideology = {
			#Get the total percentage
			set_temp_variable = { total_percentage_temp = 0 }
			for_each_loop = {
				array = pops_ideology_type
				index = rr

				add_to_variable = { pops_ideology_percentage^rr = 0.001 }
				add_to_temp_variable = { total_percentage_temp = pops_ideology_percentage^rr }
			}
			if = {
				limit = {
					#If the total percentage !=1, then normalize it
					#If it does equal one, then there's no need to
					NOT = { check_variable = { total_percentage_temp = 1 } }
				}

				#Normalize, then get total percentage
				set_temp_variable = { total_percentage_2_temp = 0 }
				for_each_loop = {
					array = pops_ideology_type
					index = rr

					divide_variable = { pops_ideology_percentage^rr = total_percentage_temp }
					add_to_temp_variable = { total_percentage_2_temp = pops_ideology_percentage^rr }
				}

				if = {
					limit = {
						#If the total percentage still !=1, then adjust the largest to fit
						#If it does equal one, then there's no need to
						NOT = { check_variable = { total_percentage_2_temp = 1 } }
					}

					#Adjust largest ideology
					set_temp_variable = { adjust_temp = 1 }
					subtract_from_temp_variable = { adjust_temp = total_percentage_2_temp }
					add_to_variable = { pops_ideology_percentage^0 = adjust_temp }
				}

				#pops_update_ideology_amount = yes
				pops_sort_ideology = yes #Sorts it and also sets the amount correctly
			}
		}
	#

	#Pops Sort Demographics
		#This sorts the demographics using Insertion Sort
		#I assume that the arrays will always be *mostly sorted* so insertion sort is best

		pops_sort_religion = {
			#Note: First index is the largest, last index is the smallest
			clear_temp_array = pops_religion_type_temp
			clear_temp_array = pops_religion_percentage_temp
			
			add_to_temp_array = { pops_religion_type_temp = pops_religion_type^0 }
			add_to_temp_array = { pops_religion_percentage_temp = pops_religion_percentage^0 }

			#I don't sort amount b/c it's unnecessary as it gets set at the end


			for_loop_effect = {
				start = 1
				end = pops_religion_type^num
				value = vv
				
				set_temp_variable = { vvv = pops_religion_percentage_temp^num }
				subtract_from_temp_variable = { vvv = 1 }
				while_loop_effect = {
					limit = {
						NOT = { check_variable = { vvv < 0 } }
					}
					break = sort_break
					if = {
						limit = {
							check_variable = { pops_religion_percentage_temp^vvv > pops_religion_percentage^vv }
						}
						add_to_temp_variable = { vvv = 1 }
						add_to_temp_array = {
							array = pops_religion_type_temp
							value = pops_religion_type^vv
							index = vvv
						}
						add_to_temp_array = {
							array = pops_religion_percentage_temp
							value = pops_religion_percentage^vv
							index = vvv
						}

						set_temp_variable = { sort_break = 1 }
					}

					subtract_from_temp_variable = { vvv = 1 }
				}
				if = {
					limit = {
						check_variable = { vvv < 0 }
					}
					add_to_temp_array = {
						array = pops_religion_type_temp
						value = pops_religion_type^vv
						index = 0
					}
					add_to_temp_array = {
						array = pops_religion_percentage_temp
						value = pops_religion_percentage^vv
						index = 0
					}
				}
			}

			#Reinsert the data into the actual arrays
			clear_array = pops_religion_type
			clear_array = pops_religion_percentage
			for_each_loop = {
				array = pops_religion_type_temp
				index = ii

				add_to_array = { pops_religion_type = pops_religion_type_temp^ii }
				add_to_array = { pops_religion_percentage = pops_religion_percentage_temp^ii }
			}

			pops_update_religion_amount = yes #Update the religion amount
		}

		pops_sort_culture = {
			#Note: First index is the largest, last index is the smallest
			clear_temp_array = pops_culture_type_temp
			clear_temp_array = pops_culture_percentage_temp

			add_to_temp_array = { pops_culture_type_temp = pops_culture_type^0 }
			add_to_temp_array = { pops_culture_percentage_temp = pops_culture_percentage^0 }

			#I don't sort amount b/c it's unnecessary as it gets set at the end


			for_loop_effect = {
				start = 1
				end = pops_culture_type^num
				value = vv
				
				set_temp_variable = { vvv = pops_culture_percentage_temp^num }
				subtract_from_temp_variable = { vvv = 1 }
				while_loop_effect = {
					limit = {
						NOT = { check_variable = { vvv < 0 } }
					}
					break = sort_break
					if = {
						limit = {
							check_variable = { pops_culture_percentage_temp^vvv > pops_culture_percentage^vv }
						}
						add_to_temp_variable = { vvv = 1 }
						add_to_temp_array = {
							array = pops_culture_type_temp
							value = pops_culture_type^vv
							index = vvv
						}
						add_to_temp_array = {
							array = pops_culture_percentage_temp
							value = pops_culture_percentage^vv
							index = vvv
						}

						set_temp_variable = { sort_break = 1 }
					}

					subtract_from_temp_variable = { vvv = 1 }
				}
				if = {
					limit = {
						check_variable = { vvv < 0 }
					}
					add_to_temp_array = {
						array = pops_culture_type_temp
						value = pops_culture_type^vv
						index = 0
					}
					add_to_temp_array = {
						array = pops_culture_percentage_temp
						value = pops_culture_percentage^vv
						index = 0
					}
				}
			}

			#Reinsert the data into the actual arrays
			clear_array = pops_culture_type
			clear_array = pops_culture_percentage
			for_each_loop = {
				array = pops_culture_type_temp
				index = ii

				add_to_array = { pops_culture_type = pops_culture_type_temp^ii }
				add_to_array = { pops_culture_percentage = pops_culture_percentage_temp^ii }
			}

			pops_update_culture_amount = yes #Update the culture amount
		}

		pops_sort_ideology = {
			#Note: First index is the largest, last index is the smallest
			clear_temp_array = pops_ideology_type_temp
			clear_temp_array = pops_ideology_percentage_temp

			add_to_temp_array = { pops_ideology_type_temp = pops_ideology_type^0 }
			add_to_temp_array = { pops_ideology_percentage_temp = pops_ideology_percentage^0 }

			#I don't sort amount b/c it's unnecessary as it gets set at the end


			for_loop_effect = {
				start = 1
				end = pops_ideology_type^num
				value = vv
				
				set_temp_variable = { vvv = pops_ideology_percentage_temp^num }
				subtract_from_temp_variable = { vvv = 1 }
				while_loop_effect = {
					limit = {
						NOT = { check_variable = { vvv < 0 } }
					}
					break = sort_break
					if = {
						limit = {
							check_variable = { pops_ideology_percentage_temp^vvv > pops_ideology_percentage^vv }
						}
						add_to_temp_variable = { vvv = 1 }
						add_to_temp_array = {
							array = pops_ideology_type_temp
							value = pops_ideology_type^vv
							index = vvv
						}
						add_to_temp_array = {
							array = pops_ideology_percentage_temp
							value = pops_ideology_percentage^vv
							index = vvv
						}

						set_temp_variable = { sort_break = 1 }
					}

					subtract_from_temp_variable = { vvv = 1 }
				}
				if = {
					limit = {
						check_variable = { vvv < 0 }
					}
					add_to_temp_array = {
						array = pops_ideology_type_temp
						value = pops_ideology_type^vv
						index = 0
					}
					add_to_temp_array = {
						array = pops_ideology_percentage_temp
						value = pops_ideology_percentage^vv
						index = 0
					}
				}
			}

			#Reinsert the data into the actual arrays
			clear_array = pops_ideology_type
			clear_array = pops_ideology_percentage
			for_each_loop = {
				array = pops_ideology_type_temp
				index = ii

				add_to_array = { pops_ideology_type = pops_ideology_type_temp^ii }
				add_to_array = { pops_ideology_percentage = pops_ideology_percentage_temp^ii }
			}

			pops_update_ideology_amount = yes #Update the ideology amount
		}
	#
#
#COUNTRY
	#Country Pops Update
		country_pops_update = {
			#Set Everything to 0

			set_variable = { pops_amount = 0 }
			set_variable = { pops_amount_change = 0 }

			set_variable = { pops_children_amount = 0 }
			set_variable = { pops_adults_amount = 0 }
			set_variable = { pops_elderly_amount = 0 }

			set_variable = { pops_males_amount = 0 }
			set_variable = { pops_females_amount = 0 }

			set_variable = { pops_literacy_percentage = 0 }
			set_variable = { pops_schooling_percentage = 0 }
			set_variable = { pops_education_percentage = 0 }

			set_variable = { pops_workforce_amount = 0 }
			set_variable = { pops_employed_amount = 0 }

			set_variable = { pops_money = 0 }

			for_each_loop = {
				array = pops_culture_array
				value = vv
				clear_variable = population@var:vv
				clear_variable = percentage@var:vv
				clear_variable = voting_population@var:vv
				clear_variable = voting_percentage@var:vv
			}
			for_each_loop = {
				array = pops_religion_array
				value = vv
				clear_variable = population@var:vv
				clear_variable = percentage@var:vv
				clear_variable = voting_population@var:vv
				clear_variable = voting_percentage@var:vv
			}
			clear_variable = slaves_amount
			clear_variable = peasants_amount
			clear_variable = laborers_amount
			clear_variable = workers_amount
			clear_variable = professionals_amount
			clear_variable = elites_amount
			clear_variable = bureaucrats_amount
			clear_variable = soldiers_amount

			every_controlled_state = {
				
				#General
					set_temp_variable = { pops_amount_temp = pops_amount }
					divide_temp_variable = { pops_amount_temp = 1000 }
					add_to_variable = { PREV.pops_amount = pops_amount_temp }
					
					add_to_variable = { PREV.pops_amount_change = pops_amount_change }

					set_temp_variable = { pops_children_amount_temp = pops_children_amount }
					divide_temp_variable = { pops_children_amount_temp = 1000 }
					add_to_variable = { PREV.pops_children_amount = pops_children_amount_temp }
					set_temp_variable = { pops_adults_amount_temp = pops_adults_amount }
					divide_temp_variable = { pops_adults_amount_temp = 1000 }
					add_to_variable = { PREV.pops_adults_amount = pops_adults_amount_temp }
					set_temp_variable = { pops_elderly_amount_temp = pops_elderly_amount }
					divide_temp_variable = { pops_elderly_amount_temp = 1000 }
					add_to_variable = { PREV.pops_elderly_amount = pops_elderly_amount_temp }

					set_temp_variable = { pops_males_amount_temp = pops_males_amount }
					divide_temp_variable = { pops_males_amount_temp = 1000 }
					add_to_variable = { PREV.pops_males_amount = pops_males_amount_temp }
					set_temp_variable = { pops_females_amount_temp = pops_females_amount }
					divide_temp_variable = { pops_females_amount_temp = 1000 }
					add_to_variable = { PREV.pops_females_amount = pops_females_amount_temp }

					set_temp_variable = { lit_temp = pops_literacy_percentage }
					multiply_temp_variable = { lit_temp = pops_amount }
					divide_temp_variable = { lit_temp = 1000 }
					add_to_variable = { PREV.pops_literacy_percentage = lit_temp }

					set_temp_variable = { sch_temp = pops_schooling_percentage }
					multiply_temp_variable = { sch_temp = pops_amount }
					divide_temp_variable = { sch_temp = 1000 }
					add_to_variable = { PREV.pops_schooling_percentage = sch_temp }

					set_temp_variable = { ed_temp = pops_education_percentage }
					multiply_temp_variable = { ed_temp = pops_amount }
					divide_temp_variable = { ed_temp = 1000 }
					add_to_variable = { PREV.pops_education_percentage = ed_temp }
				#

				#Workforce
					set_temp_variable = { pops_workforce_amount_temp = pops_workforce_amount }
					divide_temp_variable = { pops_workforce_amount_temp = 1000 }
					add_to_variable = { PREV.pops_workforce_amount = pops_workforce_amount_temp }
					set_temp_variable = { pops_employed_amount_temp = pops_employed_amount }
					divide_temp_variable = { pops_employed_amount_temp = 1000 }
					add_to_variable = { PREV.pops_employed_amount = pops_employed_amount_temp }
				#

				#Finances
					set_temp_variable = { pops_money_temp = pops_money }
					divide_temp_variable = { pops_money_temp = 1000 }
					add_to_variable = { PREV.pops_money = pops_money_temp }

					set_temp_variable = { pops_earnings_temp = pops_earnings }
					divide_temp_variable = { pops_earnings_temp = 1000 }
					add_to_variable = { PREV.pops_earnings = pops_earnings_temp }

					set_temp_variable = { pops_spending_temp = pops_spending }
					divide_temp_variable = { pops_spending_temp = 1000 }
					add_to_variable = { PREV.pops_spending = pops_spending_temp }
				#

				# Cultures & Religion
					for_each_loop = {
						array = pops_culture_type
						value = vv
						add_to_variable = { PREV.population@var:vv = population@var:vv }
						if = {
							limit = { is_core_of = PREV }
							add_to_variable = { PREV.voting_population@var:vv = population@var:vv }
						}
					}
					for_each_loop = {
						array = pops_religion_type
						value = vv
						add_to_variable = { PREV.population@var:vv = population@var:vv }
						if = {
							limit = { is_core_of = PREV }
							add_to_variable = { PREV.voting_population@var:vv = population@var:vv }
						}
					}
					add_to_variable = { PREV.slaves_amount = slaves_amount }
					add_to_variable = { PREV.peasants_amount = peasants_amount }
					add_to_variable = { PREV.laborers_amount = laborers_amount }
					add_to_variable = { PREV.workers_amount = workers_amount }
					add_to_variable = { PREV.professionals_amount = professionals_amount }
					add_to_variable = { PREV.elites_amount = elites_amount }
					add_to_variable = { PREV.bureaucrats_amount = bureaucrats_amount }
					add_to_variable = { PREV.soldiers_amount = soldiers_amount }
					if = {
						limit = { is_core_of = PREV }
						add_to_variable = { PREV.voting_slaves_amount = slaves_amount }
						add_to_variable = { PREV.voting_peasants_amount = peasants_amount }
						add_to_variable = { PREV.voting_laborers_amount = laborers_amount }
						add_to_variable = { PREV.voting_workers_amount = workers_amount }
						add_to_variable = { PREV.voting_professionals_amount = professionals_amount }
						add_to_variable = { PREV.voting_elites_amount = elites_amount }
						add_to_variable = { PREV.voting_bureaucrats_amount = bureaucrats_amount }
						add_to_variable = { PREV.voting_soldiers_amount = soldiers_amount }
					}
				#
			}


			#General
			set_variable = { pops_male_female_ratio = pops_males_amount }
			divide_variable = { pops_male_female_ratio = pops_females_amount }
			
			divide_variable = { pops_literacy_percentage = pops_amount }
			divide_variable = { pops_schooling_percentage = pops_amount }
			divide_variable = { pops_education_percentage = pops_amount }

			#Workforce
			set_variable = { pops_workforce_percentage = pops_workforce_amount }
			divide_variable = { pops_workforce_percentage = pops_amount }

			set_variable = { pops_employed_percentage = pops_employed_amount }
			divide_variable = { pops_employed_percentage = pops_workforce_amount }

			set_variable = { pops_unemployed_amount = pops_workforce_amount }
			subtract_from_variable = { pops_unemployed_amount = pops_employed_amount }

			set_variable = { pops_unemployed_percentage = pops_unemployed_amount }
			divide_variable = { pops_unemployed_percentage = pops_workforce_amount }

			pops_convert_religion_amount_into_percentage = yes
			pops_convert_culture_amount_into_percentage = yes
			pops_convert_class_amount_into_percentage = yes
			pops_convert_ideology_amount_into_percentage = yes

		}
	#

	#Pops Add Demographic
		pops_add_religion = {
			#Input: type_temp (temp, integer), amount_temp (temp, positive)
			#Adds a number of support to a religion
			#NOTE: This is & should only be used in the country pops update script

			#Technical: Looks through the religion array, finds the index with the same religion type, adds the amount. 
			#			If the religion isn't there, then it adds it.
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { amount_temp > 0 }
				}
				for_each_loop = {
					array = pops_religion_type
					index = ii
					value = vv
					break = change_religion_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						add_to_variable = { pops_religion_amount^ii = amount_temp }

						set_temp_variable = { change_religion_break = 1 }
					}
				}
				if = {
					limit = {
						NOT = { check_variable = { change_religion_break = 1 } }
					}
					add_to_array = { pops_religion_type = type_temp }
					add_to_array = { pops_religion_percentage = 0 }
					add_to_array = { pops_religion_amount = amount_temp }
				}
			}
		}
		pops_add_culture = {
			#Input: type_temp (temp, integer), amount_temp (temp, positive)
			#Adds a number of support to a culture
			#NOTE: This is & should only be used in the country pops update script

			#Technical: Looks through the culture array, finds the index with the same culture type, adds the amount. 
			#			If the culture isn't there, then it adds it.
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { amount_temp > 0 }
				}
				for_each_loop = {
					array = pops_culture_type
					index = ii
					value = vv
					break = change_culture_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						add_to_variable = { pops_culture_amount^ii = amount_temp }

						set_temp_variable = { change_culture_break = 1 }
					}
				}
				if = {
					limit = {
						NOT = { check_variable = { change_culture_break = 1 } }
					}
					add_to_array = { pops_culture_type = type_temp }
					add_to_array = { pops_culture_percentage = 0 }
					add_to_array = { pops_culture_amount = amount_temp }
				}
			}
		}
		pops_add_ideology = {
			#Input: type_temp (temp, integer), amount_temp (temp, positive)
			#Adds a number of support to a ideology
			#NOTE: This is & should only be used in the country pops update script

			#Technical: Looks through the ideology array, finds the index with the same ideology type, adds the amount. 
			#			If the ideology isn't there, then it adds it.
			if = {
				limit = {
					check_variable = { type_temp > 0 }
					check_variable = { amount_temp > 0 }
				}
				for_each_loop = {
					array = pops_ideology_type
					index = ii
					value = vv
					break = change_ideology_break

					if = {
						limit = {
							check_variable = { vv = type_temp }
						}
						add_to_variable = { pops_ideology_amount^ii = amount_temp }

						set_temp_variable = { change_ideology_break = 1 }
					}
				}
				if = {
					limit = {
						NOT = { check_variable = { change_ideology_break = 1 } }
					}
					add_to_array = { pops_ideology_type = type_temp }
					add_to_array = { pops_ideology_percentage = 0 }
					add_to_array = { pops_ideology_amount = amount_temp }
				}
			}
		}
	#

	#Pops Convert Demographic Amount Into Percentage
		pops_convert_religion_amount_into_percentage = {
			#Converts the amounts from the national array into percentages. It also removes religions with 0% populaity
			#NOTE: This is & should only be used in the country pops update script

			#Technical: Sets the percentage to the religion amount then divides by the total pop
			#			Then normalizes the religion array (As it may not equal 100%)

			for_each_loop = {
				array = pops_religion_type
				index = ii

				set_variable = { pops_religion_percentage^ii = pops_religion_amount^ii }
				divide_variable = { pops_religion_percentage^ii = pops_amount }
			}

			pops_normalize_religion = yes
			#pops_sort_religion = yes
		}
		pops_convert_culture_amount_into_percentage = {
			#Converts the amounts from the national array into percentages
			#NOTE: This is & should only be used in the country pops update script

			#Technical: Sets the percentage to the culture amount then divides by the total pop
			#			Then normalizes the culture array (As it may not equal 100%)

			for_each_loop = {
				array = pops_culture_type
				index = ii

				set_variable = { pops_culture_percentage^ii = pops_culture_amount^ii }
				divide_variable = { pops_culture_percentage^ii = pops_amount }
			}

			pops_normalize_culture = yes
			#pops_sort_culture = yes
		}
		pops_convert_ideology_amount_into_percentage = {
			#Converts the amounts from the national array into percentages
			#NOTE: This is & should only be used in the country pops update script

			#Technical: Sets the percentage to the ideology amount then divides by the total pop
			#			Then normalizes the ideology array (As it may not equal 100%)

			for_each_loop = {
				array = pops_ideology_type
				index = ii

				set_variable = { pops_ideology_percentage^ii = pops_ideology_amount^ii }
				divide_variable = { pops_ideology_percentage^ii = pops_amount }
			}

			pops_normalize_ideology = yes
		}
	#
#